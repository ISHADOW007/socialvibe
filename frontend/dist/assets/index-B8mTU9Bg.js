var Hi=Object.defineProperty;var ln=e=>{throw TypeError(e)};var Wi=(e,t,s)=>t in e?Hi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var pe=(e,t,s)=>Wi(e,typeof t!="symbol"?t+"":t,s),ar=(e,t,s)=>t.has(e)||ln("Cannot "+s);var E=(e,t,s)=>(ar(e,t,"read from private field"),s?s.call(e):t.get(e)),Y=(e,t,s)=>t.has(e)?ln("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),H=(e,t,s,r)=>(ar(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),me=(e,t,s)=>(ar(e,t,"access private method"),s);var ms=(e,t,s,r)=>({set _(a){H(e,t,a,s)},get _(){return E(e,t,r)}});import{j as n,R as Vi,P as Ki,O as Qi,C as Zi,T as Ji,a as Yi,_ as gt}from"./ui-Bh0RUkcs.js";import{a as Gi,r as l,g as ma,c as Ir}from"./vendor-BD2DzXP7.js";import{u as Xi,L as Zt,a as Ds,b as eo,N as xr,R as to,c as qe,B as so}from"./router-BQrEda28.js";import{A as ro,m as He}from"./animations-gb8JDguv.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=s(a);fetch(a.href,i)}})();var gr={},cn=Gi;gr.createRoot=cn.createRoot,gr.hydrateRoot=cn.hydrateRoot;var Bs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$s=typeof window>"u"||"Deno"in globalThis;function Se(){}function no(e,t){return typeof e=="function"?e(t):e}function ao(e){return typeof e=="number"&&e>=0&&e!==1/0}function io(e,t){return Math.max(e+(t||0)-Date.now(),0)}function vr(e,t){return typeof e=="function"?e(t):e}function oo(e,t){return typeof e=="function"?e(t):e}function dn(e,t){const{type:s="all",exact:r,fetchStatus:a,predicate:i,queryKey:o,stale:c}=e;if(o){if(r){if(t.queryHash!==Ur(o,t.options))return!1}else if(!Yt(t.queryKey,o))return!1}if(s!=="all"){const d=t.isActive();if(s==="active"&&!d||s==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||a&&a!==t.state.fetchStatus||i&&!i(t))}function un(e,t){const{exact:s,status:r,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(Jt(t.options.mutationKey)!==Jt(i))return!1}else if(!Yt(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function Ur(e,t){return((t==null?void 0:t.queryKeyHashFn)||Jt)(e)}function Jt(e){return JSON.stringify(e,(t,s)=>yr(s)?Object.keys(s).sort().reduce((r,a)=>(r[a]=s[a],r),{}):s)}function Yt(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Yt(e[s],t[s])):!1}function ha(e,t){if(e===t)return e;const s=pn(e)&&pn(t);if(s||yr(e)&&yr(t)){const r=s?e:Object.keys(e),a=r.length,i=s?t:Object.keys(t),o=i.length,c=s?[]:{},d=new Set(r);let u=0;for(let p=0;p<o;p++){const m=s?p:i[p];(!s&&d.has(m)||s)&&e[m]===void 0&&t[m]===void 0?(c[m]=void 0,u++):(c[m]=ha(e[m],t[m]),c[m]===e[m]&&e[m]!==void 0&&u++)}return a===o&&u===a?e:c}return t}function pn(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yr(e){if(!mn(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!mn(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mn(e){return Object.prototype.toString.call(e)==="[object Object]"}function lo(e){return new Promise(t=>{setTimeout(t,e)})}function co(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?ha(e,t):t}function uo(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function po(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var qr=Symbol();function fa(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===qr?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ct,Ge,Et,aa,mo=(aa=class extends Bs{constructor(){super();Y(this,ct);Y(this,Ge);Y(this,Et);H(this,Et,t=>{if(!$s&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){E(this,Ge)||this.setEventListener(E(this,Et))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,Ge))==null||t.call(this),H(this,Ge,void 0))}setEventListener(t){var s;H(this,Et,t),(s=E(this,Ge))==null||s.call(this),H(this,Ge,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){E(this,ct)!==t&&(H(this,ct,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof E(this,ct)=="boolean"?E(this,ct):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ct=new WeakMap,Ge=new WeakMap,Et=new WeakMap,aa),xa=new mo,St,Xe,Rt,ia,ho=(ia=class extends Bs{constructor(){super();Y(this,St,!0);Y(this,Xe);Y(this,Rt);H(this,Rt,t=>{if(!$s&&window.addEventListener){const s=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",r)}}})}onSubscribe(){E(this,Xe)||this.setEventListener(E(this,Rt))}onUnsubscribe(){var t;this.hasListeners()||((t=E(this,Xe))==null||t.call(this),H(this,Xe,void 0))}setEventListener(t){var s;H(this,Rt,t),(s=E(this,Xe))==null||s.call(this),H(this,Xe,t(this.setOnline.bind(this)))}setOnline(t){E(this,St)!==t&&(H(this,St,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return E(this,St)}},St=new WeakMap,Xe=new WeakMap,Rt=new WeakMap,ia),Rs=new ho;function fo(){let e,t;const s=new Promise((a,i)=>{e=a,t=i});s.status="pending",s.catch(()=>{});function r(a){Object.assign(s,a),delete s.resolve,delete s.reject}return s.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},s.reject=a=>{r({status:"rejected",reason:a}),t(a)},s}function xo(e){return Math.min(1e3*2**e,3e4)}function ga(e){return(e??"online")==="online"?Rs.isOnline():!0}var va=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ir(e){return e instanceof va}function ya(e){let t=!1,s=0,r=!1,a;const i=fo(),o=x=>{var g;r||(f(new va(x)),(g=e.abort)==null||g.call(e))},c=()=>{t=!0},d=()=>{t=!1},u=()=>xa.isFocused()&&(e.networkMode==="always"||Rs.isOnline())&&e.canRun(),p=()=>ga(e.networkMode)&&e.canRun(),m=x=>{var g;r||(r=!0,(g=e.onSuccess)==null||g.call(e,x),a==null||a(),i.resolve(x))},f=x=>{var g;r||(r=!0,(g=e.onError)==null||g.call(e,x),a==null||a(),i.reject(x))},y=()=>new Promise(x=>{var g;a=C=>{(r||u())&&x(C)},(g=e.onPause)==null||g.call(e)}).then(()=>{var x;a=void 0,r||(x=e.onContinue)==null||x.call(e)}),h=()=>{if(r)return;let x;const g=s===0?e.initialPromise:void 0;try{x=g??e.fn()}catch(C){x=Promise.reject(C)}Promise.resolve(x).then(m).catch(C=>{var N;if(r)return;const b=e.retry??($s?0:3),v=e.retryDelay??xo,S=typeof v=="function"?v(s,C):v,j=b===!0||typeof b=="number"&&s<b||typeof b=="function"&&b(s,C);if(t||!j){f(C);return}s++,(N=e.onFail)==null||N.call(e,s,C),lo(S).then(()=>u()?void 0:y()).then(()=>{t?f(C):h()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:c,continueRetry:d,canStart:p,start:()=>(p()?h():y().then(h),i)}}var go=e=>setTimeout(e,0);function vo(){let e=[],t=0,s=c=>{c()},r=c=>{c()},a=go;const i=c=>{t?e.push(c):a(()=>{s(c)})},o=()=>{const c=e;e=[],c.length&&a(()=>{r(()=>{c.forEach(d=>{s(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||o()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{s=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{a=c}}}var ge=vo(),dt,oa,ba=(oa=class{constructor(){Y(this,dt)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ao(this.gcTime)&&H(this,dt,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($s?1/0:5*60*1e3))}clearGcTimeout(){E(this,dt)&&(clearTimeout(E(this,dt)),H(this,dt,void 0))}},dt=new WeakMap,oa),_t,ut,Ne,pt,he,ts,mt,Re,Ve,la,yo=(la=class extends ba{constructor(t){super();Y(this,Re);Y(this,_t);Y(this,ut);Y(this,Ne);Y(this,pt);Y(this,he);Y(this,ts);Y(this,mt);H(this,mt,!1),H(this,ts,t.defaultOptions),this.setOptions(t.options),this.observers=[],H(this,pt,t.client),H(this,Ne,E(this,pt).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,H(this,_t,wo(this.options)),this.state=t.state??E(this,_t),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=E(this,he))==null?void 0:t.promise}setOptions(t){this.options={...E(this,ts),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Ne).remove(this)}setData(t,s){const r=co(this.state.data,t,this.options);return me(this,Re,Ve).call(this,{data:r,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),r}setState(t,s){me(this,Re,Ve).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var r,a;const s=(r=E(this,he))==null?void 0:r.promise;return(a=E(this,he))==null||a.cancel(t),s?s.then(Se).catch(Se):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,_t))}isActive(){return this.observers.some(t=>oo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qr||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>vr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!io(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=E(this,he))==null||s.continue()}onOnline(){var s;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=E(this,he))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),E(this,Ne).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(E(this,he)&&(E(this,mt)?E(this,he).cancel({revert:!0}):E(this,he).cancelRetry()),this.scheduleGc()),E(this,Ne).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||me(this,Re,Ve).call(this,{type:"invalidate"})}fetch(t,s){var u,p,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(E(this,he))return E(this,he).continueRetry(),E(this,he).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(y=>y.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(H(this,mt,!0),r.signal)})},i=()=>{const f=fa(this.options,s),h=(()=>{const x={client:E(this,pt),queryKey:this.queryKey,meta:this.meta};return a(x),x})();return H(this,mt,!1),this.options.persister?this.options.persister(f,h,this):f(h)},c=(()=>{const f={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:E(this,pt),state:this.state,fetchFn:i};return a(f),f})();(u=this.options.behavior)==null||u.onFetch(c,this),H(this,ut,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=c.fetchOptions)==null?void 0:p.meta))&&me(this,Re,Ve).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta});const d=f=>{var y,h,x,g;ir(f)&&f.silent||me(this,Re,Ve).call(this,{type:"error",error:f}),ir(f)||((h=(y=E(this,Ne).config).onError)==null||h.call(y,f,this),(g=(x=E(this,Ne).config).onSettled)==null||g.call(x,this.state.data,f,this)),this.scheduleGc()};return H(this,he,ya({initialPromise:s==null?void 0:s.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var y,h,x,g;if(f===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(C){d(C);return}(h=(y=E(this,Ne).config).onSuccess)==null||h.call(y,f,this),(g=(x=E(this,Ne).config).onSettled)==null||g.call(x,f,this.state.error,this),this.scheduleGc()},onError:d,onFail:(f,y)=>{me(this,Re,Ve).call(this,{type:"failed",failureCount:f,error:y})},onPause:()=>{me(this,Re,Ve).call(this,{type:"pause"})},onContinue:()=>{me(this,Re,Ve).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),E(this,he).start()}},_t=new WeakMap,ut=new WeakMap,Ne=new WeakMap,pt=new WeakMap,he=new WeakMap,ts=new WeakMap,mt=new WeakMap,Re=new WeakSet,Ve=function(t){const s=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...bo(r.data,this.options),fetchMeta:t.meta??null};case"success":return H(this,ut,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return ir(a)&&a.revert&&E(this,ut)?{...E(this,ut),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=s(this.state),ge.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),E(this,Ne).notify({query:this,type:"updated",action:t})})},la);function bo(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ga(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function wo(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Me,ca,jo=(ca=class extends Bs{constructor(t={}){super();Y(this,Me);this.config=t,H(this,Me,new Map)}build(t,s,r){const a=s.queryKey,i=s.queryHash??Ur(a,s);let o=this.get(i);return o||(o=new yo({client:t,queryKey:a,queryHash:i,options:t.defaultQueryOptions(s),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){E(this,Me).has(t.queryHash)||(E(this,Me).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=E(this,Me).get(t.queryHash);s&&(t.destroy(),s===t&&E(this,Me).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ge.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return E(this,Me).get(t)}getAll(){return[...E(this,Me).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(r=>dn(s,r))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(r=>dn(t,r)):s}notify(t){ge.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){ge.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ge.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Me=new WeakMap,ca),De,xe,ht,Be,Ze,da,ko=(da=class extends ba{constructor(t){super();Y(this,Be);Y(this,De);Y(this,xe);Y(this,ht);this.mutationId=t.mutationId,H(this,xe,t.mutationCache),H(this,De,[]),this.state=t.state||No(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){E(this,De).includes(t)||(E(this,De).push(t),this.clearGcTimeout(),E(this,xe).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){H(this,De,E(this,De).filter(s=>s!==t)),this.scheduleGc(),E(this,xe).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){E(this,De).length||(this.state.status==="pending"?this.scheduleGc():E(this,xe).remove(this))}continue(){var t;return((t=E(this,ht))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,c,d,u,p,m,f,y,h,x,g,C,b,v,S,j,N,A,O;const s=()=>{me(this,Be,Ze).call(this,{type:"continue"})};H(this,ht,ya({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:($,_)=>{me(this,Be,Ze).call(this,{type:"failed",failureCount:$,error:_})},onPause:()=>{me(this,Be,Ze).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,xe).canRun(this)}));const r=this.state.status==="pending",a=!E(this,ht).canStart();try{if(r)s();else{me(this,Be,Ze).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(i=E(this,xe).config).onMutate)==null?void 0:o.call(i,t,this));const _=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t));_!==this.state.context&&me(this,Be,Ze).call(this,{type:"pending",context:_,variables:t,isPaused:a})}const $=await E(this,ht).start();return await((p=(u=E(this,xe).config).onSuccess)==null?void 0:p.call(u,$,t,this.state.context,this)),await((f=(m=this.options).onSuccess)==null?void 0:f.call(m,$,t,this.state.context)),await((h=(y=E(this,xe).config).onSettled)==null?void 0:h.call(y,$,null,this.state.variables,this.state.context,this)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,$,null,t,this.state.context)),me(this,Be,Ze).call(this,{type:"success",data:$}),$}catch($){try{throw await((b=(C=E(this,xe).config).onError)==null?void 0:b.call(C,$,t,this.state.context,this)),await((S=(v=this.options).onError)==null?void 0:S.call(v,$,t,this.state.context)),await((N=(j=E(this,xe).config).onSettled)==null?void 0:N.call(j,void 0,$,this.state.variables,this.state.context,this)),await((O=(A=this.options).onSettled)==null?void 0:O.call(A,void 0,$,t,this.state.context)),$}finally{me(this,Be,Ze).call(this,{type:"error",error:$})}}finally{E(this,xe).runNext(this)}}},De=new WeakMap,xe=new WeakMap,ht=new WeakMap,Be=new WeakSet,Ze=function(t){const s=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),ge.batch(()=>{E(this,De).forEach(r=>{r.onMutationUpdate(t)}),E(this,xe).notify({mutation:this,type:"updated",action:t})})},da);function No(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ke,_e,ss,ua,Co=(ua=class extends Bs{constructor(t={}){super();Y(this,Ke);Y(this,_e);Y(this,ss);this.config=t,H(this,Ke,new Set),H(this,_e,new Map),H(this,ss,0)}build(t,s,r){const a=new ko({mutationCache:this,mutationId:++ms(this,ss)._,options:t.defaultMutationOptions(s),state:r});return this.add(a),a}add(t){E(this,Ke).add(t);const s=hs(t);if(typeof s=="string"){const r=E(this,_e).get(s);r?r.push(t):E(this,_e).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(E(this,Ke).delete(t)){const s=hs(t);if(typeof s=="string"){const r=E(this,_e).get(s);if(r)if(r.length>1){const a=r.indexOf(t);a!==-1&&r.splice(a,1)}else r[0]===t&&E(this,_e).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=hs(t);if(typeof s=="string"){const r=E(this,_e).get(s),a=r==null?void 0:r.find(i=>i.state.status==="pending");return!a||a===t}else return!0}runNext(t){var r;const s=hs(t);if(typeof s=="string"){const a=(r=E(this,_e).get(s))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ge.batch(()=>{E(this,Ke).forEach(t=>{this.notify({type:"removed",mutation:t})}),E(this,Ke).clear(),E(this,_e).clear()})}getAll(){return Array.from(E(this,Ke))}find(t){const s={exact:!0,...t};return this.getAll().find(r=>un(s,r))}findAll(t={}){return this.getAll().filter(s=>un(t,s))}notify(t){ge.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return ge.batch(()=>Promise.all(t.map(s=>s.continue().catch(Se))))}},Ke=new WeakMap,_e=new WeakMap,ss=new WeakMap,ua);function hs(e){var t;return(t=e.options.scope)==null?void 0:t.id}function hn(e){return{onFetch:(t,s)=>{var p,m,f,y,h;const r=t.options,a=(f=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:f.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],o=((h=t.state.data)==null?void 0:h.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const u=async()=>{let x=!1;const g=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?x=!0:t.signal.addEventListener("abort",()=>{x=!0}),t.signal)})},C=fa(t.options,t.fetchOptions),b=async(v,S,j)=>{if(x)return Promise.reject();if(S==null&&v.pages.length)return Promise.resolve(v);const A=(()=>{const w={client:t.client,queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};return g(w),w})(),O=await C(A),{maxPages:$}=t.options,_=j?po:uo;return{pages:_(v.pages,O,$),pageParams:_(v.pageParams,S,$)}};if(a&&i.length){const v=a==="backward",S=v?Eo:fn,j={pages:i,pageParams:o},N=S(r,j);c=await b(j,N,v)}else{const v=e??i.length;do{const S=d===0?o[0]??r.initialPageParam:fn(r,c);if(d>0&&S==null)break;c=await b(c,S),d++}while(d<v)}return c};t.options.persister?t.fetchFn=()=>{var x,g;return(g=(x=t.options).persister)==null?void 0:g.call(x,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=u}}}function fn(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function Eo(e,{pages:t,pageParams:s}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,s[0],s):void 0}var ne,et,tt,At,Lt,st,Ot,Tt,pa,So=(pa=class{constructor(e={}){Y(this,ne);Y(this,et);Y(this,tt);Y(this,At);Y(this,Lt);Y(this,st);Y(this,Ot);Y(this,Tt);H(this,ne,e.queryCache||new jo),H(this,et,e.mutationCache||new Co),H(this,tt,e.defaultOptions||{}),H(this,At,new Map),H(this,Lt,new Map),H(this,st,0)}mount(){ms(this,st)._++,E(this,st)===1&&(H(this,Ot,xa.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,ne).onFocus())})),H(this,Tt,Rs.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,ne).onOnline())})))}unmount(){var e,t;ms(this,st)._--,E(this,st)===0&&((e=E(this,Ot))==null||e.call(this),H(this,Ot,void 0),(t=E(this,Tt))==null||t.call(this),H(this,Tt,void 0))}isFetching(e){return E(this,ne).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,et).findAll({...e,status:"pending"}).length}getQueryData(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=E(this,ne).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=E(this,ne).build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(vr(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return E(this,ne).findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),a=E(this,ne).get(r.queryHash),i=a==null?void 0:a.state.data,o=no(t,i);if(o!==void 0)return E(this,ne).build(this,r).setData(o,{...s,manual:!0})}setQueriesData(e,t,s){return ge.batch(()=>E(this,ne).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){var s;const t=this.defaultQueryOptions({queryKey:e});return(s=E(this,ne).get(t.queryHash))==null?void 0:s.state}removeQueries(e){const t=E(this,ne);ge.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=E(this,ne);return ge.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=ge.batch(()=>E(this,ne).findAll(e).map(a=>a.cancel(s)));return Promise.all(r).then(Se).catch(Se)}invalidateQueries(e,t={}){return ge.batch(()=>(E(this,ne).findAll(e).forEach(s=>{s.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=ge.batch(()=>E(this,ne).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,s);return s.throwOnError||(i=i.catch(Se)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Se)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=E(this,ne).build(this,t);return s.isStaleByTime(vr(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Se).catch(Se)}fetchInfiniteQuery(e){return e.behavior=hn(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Se).catch(Se)}ensureInfiniteQueryData(e){return e.behavior=hn(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Rs.isOnline()?E(this,et).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,ne)}getMutationCache(){return E(this,et)}getDefaultOptions(){return E(this,tt)}setDefaultOptions(e){H(this,tt,e)}setQueryDefaults(e,t){E(this,At).set(Jt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...E(this,At).values()],s={};return t.forEach(r=>{Yt(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){E(this,Lt).set(Jt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...E(this,Lt).values()],s={};return t.forEach(r=>{Yt(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...E(this,tt).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ur(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===qr&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,tt).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,ne).clear(),E(this,et).clear()}},ne=new WeakMap,et=new WeakMap,tt=new WeakMap,At=new WeakMap,Lt=new WeakMap,st=new WeakMap,Ot=new WeakMap,Tt=new WeakMap,pa),Ro=l.createContext(void 0),_o=({client:e,children:t})=>(l.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Ro.Provider,{value:e,children:t}));let Ao={data:""},Lo=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Ao,Oo=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,To=/\/\*[^]*?\*\/|  +/g,xn=/\n+/g,Ye=(e,t)=>{let s="",r="",a="";for(let i in e){let o=e[i];i[0]=="@"?i[1]=="i"?s=i+" "+o+";":r+=i[1]=="f"?Ye(o,i):i+"{"+Ye(o,i[1]=="k"?"":t)+"}":typeof o=="object"?r+=Ye(o,t?t.replace(/([^,])+/g,c=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ye.p?Ye.p(i,o):i+":"+o+";")}return s+(t&&a?t+"{"+a+"}":a)+r},We={},wa=e=>{if(typeof e=="object"){let t="";for(let s in e)t+=s+wa(e[s]);return t}return e},Po=(e,t,s,r,a)=>{let i=wa(e),o=We[i]||(We[i]=(d=>{let u=0,p=11;for(;u<d.length;)p=101*p+d.charCodeAt(u++)>>>0;return"go"+p})(i));if(!We[o]){let d=i!==e?e:(u=>{let p,m,f=[{}];for(;p=Oo.exec(u.replace(To,""));)p[4]?f.shift():p[3]?(m=p[3].replace(xn," ").trim(),f.unshift(f[0][m]=f[0][m]||{})):f[0][p[1]]=p[2].replace(xn," ").trim();return f[0]})(e);We[o]=Ye(a?{["@keyframes "+o]:d}:d,s?"":"."+o)}let c=s&&We.g?We.g:null;return s&&(We.g=We[o]),((d,u,p,m)=>{m?u.data=u.data.replace(m,d):u.data.indexOf(d)===-1&&(u.data=p?d+u.data:u.data+d)})(We[o],t,r,c),o},Fo=(e,t,s)=>e.reduce((r,a,i)=>{let o=t[i];if(o&&o.call){let c=o(s),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=d?"."+d:c&&typeof c=="object"?c.props?"":Ye(c,""):c===!1?"":c}return r+a+(o??"")},"");function zs(e){let t=this||{},s=e.call?e(t.p):e;return Po(s.unshift?s.raw?Fo(s,[].slice.call(arguments,1),t.p):s.reduce((r,a)=>Object.assign(r,a&&a.call?a(t.p):a),{}):s,Lo(t.target),t.g,t.o,t.k)}let ja,br,wr;zs.bind({g:1});let Qe=zs.bind({k:1});function Mo(e,t,s,r){Ye.p=t,ja=e,br=s,wr=r}function nt(e,t){let s=this||{};return function(){let r=arguments;function a(i,o){let c=Object.assign({},i),d=c.className||a.className;s.p=Object.assign({theme:br&&br()},c),s.o=/ *go\d+/.test(d),c.className=zs.apply(s,r)+(d?" "+d:"");let u=e;return e[0]&&(u=c.as||e,delete c.as),wr&&u[0]&&wr(c),ja(u,c)}return a}}var Do=e=>typeof e=="function",_s=(e,t)=>Do(e)?e(t):e,Bo=(()=>{let e=0;return()=>(++e).toString()})(),ka=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),$o=20,Na=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,$o)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:s}=t;return Na(e,{type:e.toasts.find(i=>i.id===s.id)?1:0,toast:s});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+a}))}}},ys=[],ot={toasts:[],pausedAt:void 0},vt=e=>{ot=Na(ot,e),ys.forEach(t=>{t(ot)})},zo={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Io=(e={})=>{let[t,s]=l.useState(ot),r=l.useRef(ot);l.useEffect(()=>(r.current!==ot&&s(ot),ys.push(s),()=>{let i=ys.indexOf(s);i>-1&&ys.splice(i,1)}),[]);let a=t.toasts.map(i=>{var o,c,d;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||zo[i.type],style:{...e.style,...(d=e[i.type])==null?void 0:d.style,...i.style}}});return{...t,toasts:a}},Uo=(e,t="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...s,id:(s==null?void 0:s.id)||Bo()}),rs=e=>(t,s)=>{let r=Uo(t,e,s);return vt({type:2,toast:r}),r.id},ve=(e,t)=>rs("blank")(e,t);ve.error=rs("error");ve.success=rs("success");ve.loading=rs("loading");ve.custom=rs("custom");ve.dismiss=e=>{vt({type:3,toastId:e})};ve.remove=e=>vt({type:4,toastId:e});ve.promise=(e,t,s)=>{let r=ve.loading(t.loading,{...s,...s==null?void 0:s.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?_s(t.success,a):void 0;return i?ve.success(i,{id:r,...s,...s==null?void 0:s.success}):ve.dismiss(r),a}).catch(a=>{let i=t.error?_s(t.error,a):void 0;i?ve.error(i,{id:r,...s,...s==null?void 0:s.error}):ve.dismiss(r)}),e};var qo=(e,t)=>{vt({type:1,toast:{id:e,height:t}})},Ho=()=>{vt({type:5,time:Date.now()})},Qt=new Map,Wo=1e3,Vo=(e,t=Wo)=>{if(Qt.has(e))return;let s=setTimeout(()=>{Qt.delete(e),vt({type:4,toastId:e})},t);Qt.set(e,s)},Ko=e=>{let{toasts:t,pausedAt:s}=Io(e);l.useEffect(()=>{if(s)return;let i=Date.now(),o=t.map(c=>{if(c.duration===1/0)return;let d=(c.duration||0)+c.pauseDuration-(i-c.createdAt);if(d<0){c.visible&&ve.dismiss(c.id);return}return setTimeout(()=>ve.dismiss(c.id),d)});return()=>{o.forEach(c=>c&&clearTimeout(c))}},[t,s]);let r=l.useCallback(()=>{s&&vt({type:6,time:Date.now()})},[s]),a=l.useCallback((i,o)=>{let{reverseOrder:c=!1,gutter:d=8,defaultPosition:u}=o||{},p=t.filter(y=>(y.position||u)===(i.position||u)&&y.height),m=p.findIndex(y=>y.id===i.id),f=p.filter((y,h)=>h<m&&y.visible).length;return p.filter(y=>y.visible).slice(...c?[f+1]:[0,f]).reduce((y,h)=>y+(h.height||0)+d,0)},[t]);return l.useEffect(()=>{t.forEach(i=>{if(i.dismissed)Vo(i.id,i.removeDelay);else{let o=Qt.get(i.id);o&&(clearTimeout(o),Qt.delete(i.id))}})},[t]),{toasts:t,handlers:{updateHeight:qo,startPause:Ho,endPause:r,calculateOffset:a}}},Qo=Qe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Zo=Qe`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Jo=Qe`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Yo=nt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Qo} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Zo} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Jo} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Go=Qe`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Xo=nt("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Go} 1s linear infinite;
`,el=Qe`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,tl=Qe`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,sl=nt("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${el} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${tl} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,rl=nt("div")`
  position: absolute;
`,nl=nt("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,al=Qe`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,il=nt("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${al} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ol=({toast:e})=>{let{icon:t,type:s,iconTheme:r}=e;return t!==void 0?typeof t=="string"?l.createElement(il,null,t):t:s==="blank"?null:l.createElement(nl,null,l.createElement(Xo,{...r}),s!=="loading"&&l.createElement(rl,null,s==="error"?l.createElement(Yo,{...r}):l.createElement(sl,{...r})))},ll=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,cl=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,dl="0%{opacity:0;} 100%{opacity:1;}",ul="0%{opacity:1;} 100%{opacity:0;}",pl=nt("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ml=nt("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hl=(e,t)=>{let s=e.includes("top")?1:-1,[r,a]=ka()?[dl,ul]:[ll(s),cl(s)];return{animation:t?`${Qe(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Qe(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},fl=l.memo(({toast:e,position:t,style:s,children:r})=>{let a=e.height?hl(e.position||t||"top-center",e.visible):{opacity:0},i=l.createElement(ol,{toast:e}),o=l.createElement(ml,{...e.ariaProps},_s(e.message,e));return l.createElement(pl,{className:e.className,style:{...a,...s,...e.style}},typeof r=="function"?r({icon:i,message:o}):l.createElement(l.Fragment,null,i,o))});Mo(l.createElement);var xl=({id:e,className:t,style:s,onHeightUpdate:r,children:a})=>{let i=l.useCallback(o=>{if(o){let c=()=>{let d=o.getBoundingClientRect().height;r(e,d)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return l.createElement("div",{ref:i,className:t,style:s},a)},gl=(e,t)=>{let s=e.includes("top"),r=s?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ka()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(s?1:-1)}px)`,...r,...a}},vl=zs`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,fs=16,yl=({reverseOrder:e,position:t="top-center",toastOptions:s,gutter:r,children:a,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:d}=Ko(s);return l.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:fs,left:fs,right:fs,bottom:fs,pointerEvents:"none",...i},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let p=u.position||t,m=d.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),f=gl(p,m);return l.createElement(xl,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?vl:"",style:f},u.type==="custom"?_s(u.message,u):a?a(u):l.createElement(fl,{toast:u,position:p}))}))},$e=ve;const bl={},gn=e=>{let t;const s=new Set,r=(p,m)=>{const f=typeof p=="function"?p(t):p;if(!Object.is(f,t)){const y=t;t=m??(typeof f!="object"||f===null)?f:Object.assign({},t,f),s.forEach(h=>h(t,y))}},a=()=>t,d={setState:r,getState:a,getInitialState:()=>u,subscribe:p=>(s.add(p),()=>s.delete(p)),destroy:()=>{(bl?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},u=t=e(r,a,d);return d},wl=e=>e?gn(e):gn;var Ca={exports:{}},Ea={},Sa={exports:{}},Ra={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pt=l;function jl(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kl=typeof Object.is=="function"?Object.is:jl,Nl=Pt.useState,Cl=Pt.useEffect,El=Pt.useLayoutEffect,Sl=Pt.useDebugValue;function Rl(e,t){var s=t(),r=Nl({inst:{value:s,getSnapshot:t}}),a=r[0].inst,i=r[1];return El(function(){a.value=s,a.getSnapshot=t,or(a)&&i({inst:a})},[e,s,t]),Cl(function(){return or(a)&&i({inst:a}),e(function(){or(a)&&i({inst:a})})},[e]),Sl(s),s}function or(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!kl(e,s)}catch{return!0}}function _l(e,t){return t()}var Al=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_l:Rl;Ra.useSyncExternalStore=Pt.useSyncExternalStore!==void 0?Pt.useSyncExternalStore:Al;Sa.exports=Ra;var Ll=Sa.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Is=l,Ol=Ll;function Tl(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pl=typeof Object.is=="function"?Object.is:Tl,Fl=Ol.useSyncExternalStore,Ml=Is.useRef,Dl=Is.useEffect,Bl=Is.useMemo,$l=Is.useDebugValue;Ea.useSyncExternalStoreWithSelector=function(e,t,s,r,a){var i=Ml(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Bl(function(){function d(y){if(!u){if(u=!0,p=y,y=r(y),a!==void 0&&o.hasValue){var h=o.value;if(a(h,y))return m=h}return m=y}if(h=m,Pl(p,y))return h;var x=r(y);return a!==void 0&&a(h,x)?(p=y,h):(p=y,m=x)}var u=!1,p,m,f=s===void 0?null:s;return[function(){return d(t())},f===null?void 0:function(){return d(f())}]},[t,s,r,a]);var c=Fl(e,i[0],i[1]);return Dl(function(){o.hasValue=!0,o.value=c},[c]),$l(c),c};Ca.exports=Ea;var zl=Ca.exports;const Il=ma(zl),_a={},{useDebugValue:Ul}=Ir,{useSyncExternalStoreWithSelector:ql}=Il;let vn=!1;const Hl=e=>e;function Wl(e,t=Hl,s){(_a?"production":void 0)!=="production"&&s&&!vn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),vn=!0);const r=ql(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,s);return Ul(r),r}const yn=e=>{(_a?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?wl(e):e,s=(r,a)=>Wl(t,r,a);return Object.assign(s,t),s},Aa=e=>e?yn(e):yn,Vl={};function Kl(e,t){let s;try{s=e()}catch{return}return{getItem:a=>{var i;const o=d=>d===null?null:JSON.parse(d,void 0),c=(i=s.getItem(a))!=null?i:null;return c instanceof Promise?c.then(o):o(c)},setItem:(a,i)=>s.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>s.removeItem(a)}}const Gt=e=>t=>{try{const s=e(t);return s instanceof Promise?s:{then(r){return Gt(r)(s)},catch(r){return this}}}catch(s){return{then(r){return this},catch(r){return Gt(r)(s)}}}},Ql=(e,t)=>(s,r,a)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:g=>g,version:0,merge:(g,C)=>({...C,...g}),...t},o=!1;const c=new Set,d=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...g)},r,a);const p=Gt(i.serialize),m=()=>{const g=i.partialize({...r()});let C;const b=p({state:g,version:i.version}).then(v=>u.setItem(i.name,v)).catch(v=>{C=v});if(C)throw C;return b},f=a.setState;a.setState=(g,C)=>{f(g,C),m()};const y=e((...g)=>{s(...g),m()},r,a);let h;const x=()=>{var g;if(!u)return;o=!1,c.forEach(b=>b(r()));const C=((g=i.onRehydrateStorage)==null?void 0:g.call(i,r()))||void 0;return Gt(u.getItem.bind(u))(i.name).then(b=>{if(b)return i.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return i.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var v;return h=i.merge(b,(v=r())!=null?v:y),s(h,!0),m()}).then(()=>{C==null||C(h,void 0),o=!0,d.forEach(b=>b(h))}).catch(b=>{C==null||C(void 0,b)})};return a.persist={setOptions:g=>{i={...i,...g},g.getStorage&&(u=g.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:g=>(c.add(g),()=>{c.delete(g)}),onFinishHydration:g=>(d.add(g),()=>{d.delete(g)})},x(),h||y},Zl=(e,t)=>(s,r,a)=>{let i={storage:Kl(()=>localStorage),partialize:x=>x,version:0,merge:(x,g)=>({...g,...x}),...t},o=!1;const c=new Set,d=new Set;let u=i.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),s(...x)},r,a);const p=()=>{const x=i.partialize({...r()});return u.setItem(i.name,{state:x,version:i.version})},m=a.setState;a.setState=(x,g)=>{m(x,g),p()};const f=e((...x)=>{s(...x),p()},r,a);a.getInitialState=()=>f;let y;const h=()=>{var x,g;if(!u)return;o=!1,c.forEach(b=>{var v;return b((v=r())!=null?v:f)});const C=((g=i.onRehydrateStorage)==null?void 0:g.call(i,(x=r())!=null?x:f))||void 0;return Gt(u.getItem.bind(u))(i.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==i.version){if(i.migrate)return[!0,i.migrate(b.state,b.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var v;const[S,j]=b;if(y=i.merge(j,(v=r())!=null?v:f),s(y,!0),S)return p()}).then(()=>{C==null||C(y,void 0),y=r(),o=!0,d.forEach(b=>b(y))}).catch(b=>{C==null||C(void 0,b)})};return a.persist={setOptions:x=>{i={...i,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>h(),hasHydrated:()=>o,onHydrate:x=>(c.add(x),()=>{c.delete(x)}),onFinishHydration:x=>(d.add(x),()=>{d.delete(x)})},i.skipHydration||h(),y||f},Jl=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Vl?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Ql(e,t)):Zl(e,t),La=Jl;function Oa(e,t){return function(){return e.apply(t,arguments)}}const{toString:Yl}=Object.prototype,{getPrototypeOf:Hr}=Object,{iterator:Us,toStringTag:Ta}=Symbol,qs=(e=>t=>{const s=Yl.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Oe=e=>(e=e.toLowerCase(),t=>qs(t)===e),Hs=e=>t=>typeof t===e,{isArray:Dt}=Array,Xt=Hs("undefined");function ns(e){return e!==null&&!Xt(e)&&e.constructor!==null&&!Xt(e.constructor)&&ye(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Pa=Oe("ArrayBuffer");function Gl(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Pa(e.buffer),t}const Xl=Hs("string"),ye=Hs("function"),Fa=Hs("number"),as=e=>e!==null&&typeof e=="object",ec=e=>e===!0||e===!1,bs=e=>{if(qs(e)!=="object")return!1;const t=Hr(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ta in e)&&!(Us in e)},tc=e=>{if(!as(e)||ns(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},sc=Oe("Date"),rc=Oe("File"),nc=Oe("Blob"),ac=Oe("FileList"),ic=e=>as(e)&&ye(e.pipe),oc=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ye(e.append)&&((t=qs(e))==="formdata"||t==="object"&&ye(e.toString)&&e.toString()==="[object FormData]"))},lc=Oe("URLSearchParams"),[cc,dc,uc,pc]=["ReadableStream","Request","Response","Headers"].map(Oe),mc=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function is(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),Dt(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(ns(e))return;const i=s?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let c;for(r=0;r<o;r++)c=i[r],t.call(null,e[c],c,e)}}function Ma(e,t){if(ns(e))return null;t=t.toLowerCase();const s=Object.keys(e);let r=s.length,a;for(;r-- >0;)if(a=s[r],t===a.toLowerCase())return a;return null}const lt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Da=e=>!Xt(e)&&e!==lt;function jr(){const{caseless:e}=Da(this)&&this||{},t={},s=(r,a)=>{const i=e&&Ma(t,a)||a;bs(t[i])&&bs(r)?t[i]=jr(t[i],r):bs(r)?t[i]=jr({},r):Dt(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&is(arguments[r],s);return t}const hc=(e,t,s,{allOwnKeys:r}={})=>(is(t,(a,i)=>{s&&ye(a)?e[i]=Oa(a,s):e[i]=a},{allOwnKeys:r}),e),fc=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),xc=(e,t,s,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},gc=(e,t,s,r)=>{let a,i,o;const c={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)o=a[i],(!r||r(o,e,t))&&!c[o]&&(t[o]=e[o],c[o]=!0);e=s!==!1&&Hr(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},vc=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const r=e.indexOf(t,s);return r!==-1&&r===s},yc=e=>{if(!e)return null;if(Dt(e))return e;let t=e.length;if(!Fa(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},bc=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Hr(Uint8Array)),wc=(e,t)=>{const r=(e&&e[Us]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},jc=(e,t)=>{let s;const r=[];for(;(s=e.exec(t))!==null;)r.push(s);return r},kc=Oe("HTMLFormElement"),Nc=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,r,a){return r.toUpperCase()+a}),bn=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Cc=Oe("RegExp"),Ba=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),r={};is(s,(a,i)=>{let o;(o=t(a,i,e))!==!1&&(r[i]=o||a)}),Object.defineProperties(e,r)},Ec=e=>{Ba(e,(t,s)=>{if(ye(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const r=e[s];if(ye(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Sc=(e,t)=>{const s={},r=a=>{a.forEach(i=>{s[i]=!0})};return Dt(e)?r(e):r(String(e).split(t)),s},Rc=()=>{},_c=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Ac(e){return!!(e&&ye(e.append)&&e[Ta]==="FormData"&&e[Us])}const Lc=e=>{const t=new Array(10),s=(r,a)=>{if(as(r)){if(t.indexOf(r)>=0)return;if(ns(r))return r;if(!("toJSON"in r)){t[a]=r;const i=Dt(r)?[]:{};return is(r,(o,c)=>{const d=s(o,a+1);!Xt(d)&&(i[c]=d)}),t[a]=void 0,i}}return r};return s(e,0)},Oc=Oe("AsyncFunction"),Tc=e=>e&&(as(e)||ye(e))&&ye(e.then)&&ye(e.catch),$a=((e,t)=>e?setImmediate:t?((s,r)=>(lt.addEventListener("message",({source:a,data:i})=>{a===lt&&i===s&&r.length&&r.shift()()},!1),a=>{r.push(a),lt.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ye(lt.postMessage)),Pc=typeof queueMicrotask<"u"?queueMicrotask.bind(lt):typeof process<"u"&&process.nextTick||$a,Fc=e=>e!=null&&ye(e[Us]),k={isArray:Dt,isArrayBuffer:Pa,isBuffer:ns,isFormData:oc,isArrayBufferView:Gl,isString:Xl,isNumber:Fa,isBoolean:ec,isObject:as,isPlainObject:bs,isEmptyObject:tc,isReadableStream:cc,isRequest:dc,isResponse:uc,isHeaders:pc,isUndefined:Xt,isDate:sc,isFile:rc,isBlob:nc,isRegExp:Cc,isFunction:ye,isStream:ic,isURLSearchParams:lc,isTypedArray:bc,isFileList:ac,forEach:is,merge:jr,extend:hc,trim:mc,stripBOM:fc,inherits:xc,toFlatObject:gc,kindOf:qs,kindOfTest:Oe,endsWith:vc,toArray:yc,forEachEntry:wc,matchAll:jc,isHTMLForm:kc,hasOwnProperty:bn,hasOwnProp:bn,reduceDescriptors:Ba,freezeMethods:Ec,toObjectSet:Sc,toCamelCase:Nc,noop:Rc,toFiniteNumber:_c,findKey:Ma,global:lt,isContextDefined:Da,isSpecCompliantForm:Ac,toJSONObject:Lc,isAsyncFn:Oc,isThenable:Tc,setImmediate:$a,asap:Pc,isIterable:Fc};function V(e,t,s,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}k.inherits(V,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:k.toJSONObject(this.config),code:this.code,status:this.status}}});const za=V.prototype,Ia={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Ia[e]={value:e}});Object.defineProperties(V,Ia);Object.defineProperty(za,"isAxiosError",{value:!0});V.from=(e,t,s,r,a,i)=>{const o=Object.create(za);return k.toFlatObject(e,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),V.call(o,e.message,t,s,r,a),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Mc=null;function kr(e){return k.isPlainObject(e)||k.isArray(e)}function Ua(e){return k.endsWith(e,"[]")?e.slice(0,-2):e}function wn(e,t,s){return e?e.concat(t).map(function(a,i){return a=Ua(a),!s&&i?"["+a+"]":a}).join(s?".":""):t}function Dc(e){return k.isArray(e)&&!e.some(kr)}const Bc=k.toFlatObject(k,{},null,function(t){return/^is[A-Z]/.test(t)});function Ws(e,t,s){if(!k.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=k.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,g){return!k.isUndefined(g[x])});const r=s.metaTokens,a=s.visitor||p,i=s.dots,o=s.indexes,d=(s.Blob||typeof Blob<"u"&&Blob)&&k.isSpecCompliantForm(t);if(!k.isFunction(a))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(k.isDate(h))return h.toISOString();if(k.isBoolean(h))return h.toString();if(!d&&k.isBlob(h))throw new V("Blob is not supported. Use a Buffer instead.");return k.isArrayBuffer(h)||k.isTypedArray(h)?d&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function p(h,x,g){let C=h;if(h&&!g&&typeof h=="object"){if(k.endsWith(x,"{}"))x=r?x:x.slice(0,-2),h=JSON.stringify(h);else if(k.isArray(h)&&Dc(h)||(k.isFileList(h)||k.endsWith(x,"[]"))&&(C=k.toArray(h)))return x=Ua(x),C.forEach(function(v,S){!(k.isUndefined(v)||v===null)&&t.append(o===!0?wn([x],S,i):o===null?x:x+"[]",u(v))}),!1}return kr(h)?!0:(t.append(wn(g,x,i),u(h)),!1)}const m=[],f=Object.assign(Bc,{defaultVisitor:p,convertValue:u,isVisitable:kr});function y(h,x){if(!k.isUndefined(h)){if(m.indexOf(h)!==-1)throw Error("Circular reference detected in "+x.join("."));m.push(h),k.forEach(h,function(C,b){(!(k.isUndefined(C)||C===null)&&a.call(t,C,k.isString(b)?b.trim():b,x,f))===!0&&y(C,x?x.concat(b):[b])}),m.pop()}}if(!k.isObject(e))throw new TypeError("data must be an object");return y(e),t}function jn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Wr(e,t){this._pairs=[],e&&Ws(e,this,t)}const qa=Wr.prototype;qa.append=function(t,s){this._pairs.push([t,s])};qa.toString=function(t){const s=t?function(r){return t.call(this,r,jn)}:jn;return this._pairs.map(function(a){return s(a[0])+"="+s(a[1])},"").join("&")};function $c(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ha(e,t,s){if(!t)return e;const r=s&&s.encode||$c;k.isFunction(s)&&(s={serialize:s});const a=s&&s.serialize;let i;if(a?i=a(t,s):i=k.isURLSearchParams(t)?t.toString():new Wr(t,s).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class kn{constructor(){this.handlers=[]}use(t,s,r){return this.handlers.push({fulfilled:t,rejected:s,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){k.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Wa={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zc=typeof URLSearchParams<"u"?URLSearchParams:Wr,Ic=typeof FormData<"u"?FormData:null,Uc=typeof Blob<"u"?Blob:null,qc={isBrowser:!0,classes:{URLSearchParams:zc,FormData:Ic,Blob:Uc},protocols:["http","https","file","blob","url","data"]},Vr=typeof window<"u"&&typeof document<"u",Nr=typeof navigator=="object"&&navigator||void 0,Hc=Vr&&(!Nr||["ReactNative","NativeScript","NS"].indexOf(Nr.product)<0),Wc=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Vc=Vr&&window.location.href||"http://localhost",Kc=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Vr,hasStandardBrowserEnv:Hc,hasStandardBrowserWebWorkerEnv:Wc,navigator:Nr,origin:Vc},Symbol.toStringTag,{value:"Module"})),fe={...Kc,...qc};function Qc(e,t){return Ws(e,new fe.classes.URLSearchParams,{visitor:function(s,r,a,i){return fe.isNode&&k.isBuffer(s)?(this.append(r,s.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Zc(e){return k.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Jc(e){const t={},s=Object.keys(e);let r;const a=s.length;let i;for(r=0;r<a;r++)i=s[r],t[i]=e[i];return t}function Va(e){function t(s,r,a,i){let o=s[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=i>=s.length;return o=!o&&k.isArray(a)?a.length:o,d?(k.hasOwnProp(a,o)?a[o]=[a[o],r]:a[o]=r,!c):((!a[o]||!k.isObject(a[o]))&&(a[o]=[]),t(s,r,a[o],i)&&k.isArray(a[o])&&(a[o]=Jc(a[o])),!c)}if(k.isFormData(e)&&k.isFunction(e.entries)){const s={};return k.forEachEntry(e,(r,a)=>{t(Zc(r),a,s,0)}),s}return null}function Yc(e,t,s){if(k.isString(e))try{return(t||JSON.parse)(e),k.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(s||JSON.stringify)(e)}const os={transitional:Wa,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const r=s.getContentType()||"",a=r.indexOf("application/json")>-1,i=k.isObject(t);if(i&&k.isHTMLForm(t)&&(t=new FormData(t)),k.isFormData(t))return a?JSON.stringify(Va(t)):t;if(k.isArrayBuffer(t)||k.isBuffer(t)||k.isStream(t)||k.isFile(t)||k.isBlob(t)||k.isReadableStream(t))return t;if(k.isArrayBufferView(t))return t.buffer;if(k.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let c;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Qc(t,this.formSerializer).toString();if((c=k.isFileList(t))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Ws(c?{"files[]":t}:t,d&&new d,this.formSerializer)}}return i||a?(s.setContentType("application/json",!1),Yc(t)):t}],transformResponse:[function(t){const s=this.transitional||os.transitional,r=s&&s.forcedJSONParsing,a=this.responseType==="json";if(k.isResponse(t)||k.isReadableStream(t))return t;if(t&&k.isString(t)&&(r&&!this.responseType||a)){const o=!(s&&s.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(c){if(o)throw c.name==="SyntaxError"?V.from(c,V.ERR_BAD_RESPONSE,this,null,this.response):c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fe.classes.FormData,Blob:fe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};k.forEach(["delete","get","head","post","put","patch"],e=>{os.headers[e]={}});const Gc=k.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Xc=e=>{const t={};let s,r,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),s=o.substring(0,a).trim().toLowerCase(),r=o.substring(a+1).trim(),!(!s||t[s]&&Gc[s])&&(s==="set-cookie"?t[s]?t[s].push(r):t[s]=[r]:t[s]=t[s]?t[s]+", "+r:r)}),t},Nn=Symbol("internals");function Ut(e){return e&&String(e).trim().toLowerCase()}function ws(e){return e===!1||e==null?e:k.isArray(e)?e.map(ws):String(e)}function ed(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=s.exec(e);)t[r[1]]=r[2];return t}const td=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function lr(e,t,s,r,a){if(k.isFunction(r))return r.call(this,t,s);if(a&&(t=s),!!k.isString(t)){if(k.isString(r))return t.indexOf(r)!==-1;if(k.isRegExp(r))return r.test(t)}}function sd(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,r)=>s.toUpperCase()+r)}function rd(e,t){const s=k.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+s,{value:function(a,i,o){return this[r].call(this,t,a,i,o)},configurable:!0})})}let be=class{constructor(t){t&&this.set(t)}set(t,s,r){const a=this;function i(c,d,u){const p=Ut(d);if(!p)throw new Error("header name must be a non-empty string");const m=k.findKey(a,p);(!m||a[m]===void 0||u===!0||u===void 0&&a[m]!==!1)&&(a[m||d]=ws(c))}const o=(c,d)=>k.forEach(c,(u,p)=>i(u,p,d));if(k.isPlainObject(t)||t instanceof this.constructor)o(t,s);else if(k.isString(t)&&(t=t.trim())&&!td(t))o(Xc(t),s);else if(k.isObject(t)&&k.isIterable(t)){let c={},d,u;for(const p of t){if(!k.isArray(p))throw TypeError("Object iterator must return a key-value pair");c[u=p[0]]=(d=c[u])?k.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}o(c,s)}else t!=null&&i(s,t,r);return this}get(t,s){if(t=Ut(t),t){const r=k.findKey(this,t);if(r){const a=this[r];if(!s)return a;if(s===!0)return ed(a);if(k.isFunction(s))return s.call(this,a,r);if(k.isRegExp(s))return s.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Ut(t),t){const r=k.findKey(this,t);return!!(r&&this[r]!==void 0&&(!s||lr(this,this[r],r,s)))}return!1}delete(t,s){const r=this;let a=!1;function i(o){if(o=Ut(o),o){const c=k.findKey(r,o);c&&(!s||lr(r,r[c],c,s))&&(delete r[c],a=!0)}}return k.isArray(t)?t.forEach(i):i(t),a}clear(t){const s=Object.keys(this);let r=s.length,a=!1;for(;r--;){const i=s[r];(!t||lr(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const s=this,r={};return k.forEach(this,(a,i)=>{const o=k.findKey(r,i);if(o){s[o]=ws(a),delete s[i];return}const c=t?sd(i):String(i).trim();c!==i&&delete s[i],s[c]=ws(a),r[c]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return k.forEach(this,(r,a)=>{r!=null&&r!==!1&&(s[a]=t&&k.isArray(r)?r.join(", "):r)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const r=new this(t);return s.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[Nn]=this[Nn]={accessors:{}}).accessors,a=this.prototype;function i(o){const c=Ut(o);r[c]||(rd(a,o),r[c]=!0)}return k.isArray(t)?t.forEach(i):i(t),this}};be.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);k.reduceDescriptors(be.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[s]=r}}});k.freezeMethods(be);function cr(e,t){const s=this||os,r=t||s,a=be.from(r.headers);let i=r.data;return k.forEach(e,function(c){i=c.call(s,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function Ka(e){return!!(e&&e.__CANCEL__)}function Bt(e,t,s){V.call(this,e??"canceled",V.ERR_CANCELED,t,s),this.name="CanceledError"}k.inherits(Bt,V,{__CANCEL__:!0});function Qa(e,t,s){const r=s.config.validateStatus;!s.status||!r||r(s.status)?e(s):t(new V("Request failed with status code "+s.status,[V.ERR_BAD_REQUEST,V.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function nd(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ad(e,t){e=e||10;const s=new Array(e),r=new Array(e);let a=0,i=0,o;return t=t!==void 0?t:1e3,function(d){const u=Date.now(),p=r[i];o||(o=u),s[a]=d,r[a]=u;let m=i,f=0;for(;m!==a;)f+=s[m++],m=m%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-o<t)return;const y=p&&u-p;return y?Math.round(f*1e3/y):void 0}}function id(e,t){let s=0,r=1e3/t,a,i;const o=(u,p=Date.now())=>{s=p,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const p=Date.now(),m=p-s;m>=r?o(u,p):(a=u,i||(i=setTimeout(()=>{i=null,o(a)},r-m)))},()=>a&&o(a)]}const As=(e,t,s=3)=>{let r=0;const a=ad(50,250);return id(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,d=o-r,u=a(d),p=o<=c;r=o;const m={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:u||void 0,estimated:u&&c&&p?(c-o)/u:void 0,event:i,lengthComputable:c!=null,[t?"download":"upload"]:!0};e(m)},s)},Cn=(e,t)=>{const s=e!=null;return[r=>t[0]({lengthComputable:s,total:e,loaded:r}),t[1]]},En=e=>(...t)=>k.asap(()=>e(...t)),od=fe.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,fe.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(fe.origin),fe.navigator&&/(msie|trident)/i.test(fe.navigator.userAgent)):()=>!0,ld=fe.hasStandardBrowserEnv?{write(e,t,s,r,a,i){const o=[e+"="+encodeURIComponent(t)];k.isNumber(s)&&o.push("expires="+new Date(s).toGMTString()),k.isString(r)&&o.push("path="+r),k.isString(a)&&o.push("domain="+a),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function cd(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function dd(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Za(e,t,s){let r=!cd(t);return e&&(r||s==!1)?dd(e,t):t}const Sn=e=>e instanceof be?{...e}:e;function xt(e,t){t=t||{};const s={};function r(u,p,m,f){return k.isPlainObject(u)&&k.isPlainObject(p)?k.merge.call({caseless:f},u,p):k.isPlainObject(p)?k.merge({},p):k.isArray(p)?p.slice():p}function a(u,p,m,f){if(k.isUndefined(p)){if(!k.isUndefined(u))return r(void 0,u,m,f)}else return r(u,p,m,f)}function i(u,p){if(!k.isUndefined(p))return r(void 0,p)}function o(u,p){if(k.isUndefined(p)){if(!k.isUndefined(u))return r(void 0,u)}else return r(void 0,p)}function c(u,p,m){if(m in t)return r(u,p);if(m in e)return r(void 0,u)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,p,m)=>a(Sn(u),Sn(p),m,!0)};return k.forEach(Object.keys({...e,...t}),function(p){const m=d[p]||a,f=m(e[p],t[p],p);k.isUndefined(f)&&m!==c||(s[p]=f)}),s}const Ja=e=>{const t=xt({},e);let{data:s,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:c}=t;t.headers=o=be.from(o),t.url=Ha(Za(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(k.isFormData(s)){if(fe.hasStandardBrowserEnv||fe.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[u,...p]=d?d.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...p].join("; "))}}if(fe.hasStandardBrowserEnv&&(r&&k.isFunction(r)&&(r=r(t)),r||r!==!1&&od(t.url))){const u=a&&i&&ld.read(i);u&&o.set(a,u)}return t},ud=typeof XMLHttpRequest<"u",pd=ud&&function(e){return new Promise(function(s,r){const a=Ja(e);let i=a.data;const o=be.from(a.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:u}=a,p,m,f,y,h;function x(){y&&y(),h&&h(),a.cancelToken&&a.cancelToken.unsubscribe(p),a.signal&&a.signal.removeEventListener("abort",p)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function C(){if(!g)return;const v=be.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),j={data:!c||c==="text"||c==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:v,config:e,request:g};Qa(function(A){s(A),x()},function(A){r(A),x()},j),g=null}"onloadend"in g?g.onloadend=C:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(C)},g.onabort=function(){g&&(r(new V("Request aborted",V.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new V("Network Error",V.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const j=a.transitional||Wa;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),r(new V(S,j.clarifyTimeoutError?V.ETIMEDOUT:V.ECONNABORTED,e,g)),g=null},i===void 0&&o.setContentType(null),"setRequestHeader"in g&&k.forEach(o.toJSON(),function(S,j){g.setRequestHeader(j,S)}),k.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),c&&c!=="json"&&(g.responseType=a.responseType),u&&([f,h]=As(u,!0),g.addEventListener("progress",f)),d&&g.upload&&([m,y]=As(d),g.upload.addEventListener("progress",m),g.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(p=v=>{g&&(r(!v||v.type?new Bt(null,e,g):v),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(p),a.signal&&(a.signal.aborted?p():a.signal.addEventListener("abort",p)));const b=nd(a.url);if(b&&fe.protocols.indexOf(b)===-1){r(new V("Unsupported protocol "+b+":",V.ERR_BAD_REQUEST,e));return}g.send(i||null)})},md=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let r=new AbortController,a;const i=function(u){if(!a){a=!0,c();const p=u instanceof Error?u:this.reason;r.abort(p instanceof V?p:new Bt(p instanceof Error?p.message:p))}};let o=t&&setTimeout(()=>{o=null,i(new V(`timeout ${t} of ms exceeded`,V.ETIMEDOUT))},t);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:d}=r;return d.unsubscribe=()=>k.asap(c),d}},hd=function*(e,t){let s=e.byteLength;if(s<t){yield e;return}let r=0,a;for(;r<s;)a=r+t,yield e.slice(r,a),r=a},fd=async function*(e,t){for await(const s of xd(e))yield*hd(s,t)},xd=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:r}=await t.read();if(s)break;yield r}}finally{await t.cancel()}},Rn=(e,t,s,r)=>{const a=fd(e,t);let i=0,o,c=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:u,value:p}=await a.next();if(u){c(),d.close();return}let m=p.byteLength;if(s){let f=i+=m;s(f)}d.enqueue(new Uint8Array(p))}catch(u){throw c(u),u}},cancel(d){return c(d),a.return()}},{highWaterMark:2})},Vs=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Ya=Vs&&typeof ReadableStream=="function",gd=Vs&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ga=(e,...t)=>{try{return!!e(...t)}catch{return!1}},vd=Ya&&Ga(()=>{let e=!1;const t=new Request(fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),_n=64*1024,Cr=Ya&&Ga(()=>k.isReadableStream(new Response("").body)),Ls={stream:Cr&&(e=>e.body)};Vs&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ls[t]&&(Ls[t]=k.isFunction(e[t])?s=>s[t]():(s,r)=>{throw new V(`Response type '${t}' is not supported`,V.ERR_NOT_SUPPORT,r)})})})(new Response);const yd=async e=>{if(e==null)return 0;if(k.isBlob(e))return e.size;if(k.isSpecCompliantForm(e))return(await new Request(fe.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(k.isArrayBufferView(e)||k.isArrayBuffer(e))return e.byteLength;if(k.isURLSearchParams(e)&&(e=e+""),k.isString(e))return(await gd(e)).byteLength},bd=async(e,t)=>{const s=k.toFiniteNumber(e.getContentLength());return s??yd(t)},wd=Vs&&(async e=>{let{url:t,method:s,data:r,signal:a,cancelToken:i,timeout:o,onDownloadProgress:c,onUploadProgress:d,responseType:u,headers:p,withCredentials:m="same-origin",fetchOptions:f}=Ja(e);u=u?(u+"").toLowerCase():"text";let y=md([a,i&&i.toAbortSignal()],o),h;const x=y&&y.unsubscribe&&(()=>{y.unsubscribe()});let g;try{if(d&&vd&&s!=="get"&&s!=="head"&&(g=await bd(p,r))!==0){let j=new Request(t,{method:"POST",body:r,duplex:"half"}),N;if(k.isFormData(r)&&(N=j.headers.get("content-type"))&&p.setContentType(N),j.body){const[A,O]=Cn(g,As(En(d)));r=Rn(j.body,_n,A,O)}}k.isString(m)||(m=m?"include":"omit");const C="credentials"in Request.prototype;h=new Request(t,{...f,signal:y,method:s.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:C?m:void 0});let b=await fetch(h,f);const v=Cr&&(u==="stream"||u==="response");if(Cr&&(c||v&&x)){const j={};["status","statusText","headers"].forEach($=>{j[$]=b[$]});const N=k.toFiniteNumber(b.headers.get("content-length")),[A,O]=c&&Cn(N,As(En(c),!0))||[];b=new Response(Rn(b.body,_n,A,()=>{O&&O(),x&&x()}),j)}u=u||"text";let S=await Ls[k.findKey(Ls,u)||"text"](b,e);return!v&&x&&x(),await new Promise((j,N)=>{Qa(j,N,{data:S,headers:be.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:h})})}catch(C){throw x&&x(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new V("Network Error",V.ERR_NETWORK,e,h),{cause:C.cause||C}):V.from(C,C&&C.code,e,h)}}),Er={http:Mc,xhr:pd,fetch:wd};k.forEach(Er,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const An=e=>`- ${e}`,jd=e=>k.isFunction(e)||e===null||e===!1,Xa={getAdapter:e=>{e=k.isArray(e)?e:[e];const{length:t}=e;let s,r;const a={};for(let i=0;i<t;i++){s=e[i];let o;if(r=s,!jd(s)&&(r=Er[(o=String(s)).toLowerCase()],r===void 0))throw new V(`Unknown adapter '${o}'`);if(r)break;a[o||"#"+i]=r}if(!r){const i=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(An).join(`
`):" "+An(i[0]):"as no adapter specified";throw new V("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Er};function dr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Bt(null,e)}function Ln(e){return dr(e),e.headers=be.from(e.headers),e.data=cr.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Xa.getAdapter(e.adapter||os.adapter)(e).then(function(r){return dr(e),r.data=cr.call(e,e.transformResponse,r),r.headers=be.from(r.headers),r},function(r){return Ka(r)||(dr(e),r&&r.response&&(r.response.data=cr.call(e,e.transformResponse,r.response),r.response.headers=be.from(r.response.headers))),Promise.reject(r)})}const ei="1.11.0",Ks={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ks[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const On={};Ks.transitional=function(t,s,r){function a(i,o){return"[Axios v"+ei+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,c)=>{if(t===!1)throw new V(a(o," has been removed"+(s?" in "+s:"")),V.ERR_DEPRECATED);return s&&!On[o]&&(On[o]=!0,console.warn(a(o," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(i,o,c):!0}};Ks.spelling=function(t){return(s,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function kd(e,t,s){if(typeof e!="object")throw new V("options must be an object",V.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],o=t[i];if(o){const c=e[i],d=c===void 0||o(c,i,e);if(d!==!0)throw new V("option "+i+" must be "+d,V.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new V("Unknown option "+i,V.ERR_BAD_OPTION)}}const js={assertOptions:kd,validators:Ks},Pe=js.validators;let ft=class{constructor(t){this.defaults=t||{},this.interceptors={request:new kn,response:new kn}}async request(t,s){try{return await this._request(t,s)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=xt(this.defaults,s);const{transitional:r,paramsSerializer:a,headers:i}=s;r!==void 0&&js.assertOptions(r,{silentJSONParsing:Pe.transitional(Pe.boolean),forcedJSONParsing:Pe.transitional(Pe.boolean),clarifyTimeoutError:Pe.transitional(Pe.boolean)},!1),a!=null&&(k.isFunction(a)?s.paramsSerializer={serialize:a}:js.assertOptions(a,{encode:Pe.function,serialize:Pe.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),js.assertOptions(s,{baseUrl:Pe.spelling("baseURL"),withXsrfToken:Pe.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let o=i&&k.merge(i.common,i[s.method]);i&&k.forEach(["delete","get","head","post","put","patch","common"],h=>{delete i[h]}),s.headers=be.concat(o,i);const c=[];let d=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(s)===!1||(d=d&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let p,m=0,f;if(!d){const h=[Ln.bind(this),void 0];for(h.unshift(...c),h.push(...u),f=h.length,p=Promise.resolve(s);m<f;)p=p.then(h[m++],h[m++]);return p}f=c.length;let y=s;for(m=0;m<f;){const h=c[m++],x=c[m++];try{y=h(y)}catch(g){x.call(this,g);break}}try{p=Ln.call(this,y)}catch(h){return Promise.reject(h)}for(m=0,f=u.length;m<f;)p=p.then(u[m++],u[m++]);return p}getUri(t){t=xt(this.defaults,t);const s=Za(t.baseURL,t.url,t.allowAbsoluteUrls);return Ha(s,t.params,t.paramsSerializer)}};k.forEach(["delete","get","head","options"],function(t){ft.prototype[t]=function(s,r){return this.request(xt(r||{},{method:t,url:s,data:(r||{}).data}))}});k.forEach(["post","put","patch"],function(t){function s(r){return function(i,o,c){return this.request(xt(c||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ft.prototype[t]=s(),ft.prototype[t+"Form"]=s(!0)});let Nd=class ti{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(i){s=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(c=>{r.subscribe(c),i=c}).then(a);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,c){r.reason||(r.reason=new Bt(i,o,c),s(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=r=>{t.abort(r)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new ti(function(a){t=a}),cancel:t}}};function Cd(e){return function(s){return e.apply(null,s)}}function Ed(e){return k.isObject(e)&&e.isAxiosError===!0}const Sr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sr).forEach(([e,t])=>{Sr[t]=e});function si(e){const t=new ft(e),s=Oa(ft.prototype.request,t);return k.extend(s,ft.prototype,t,{allOwnKeys:!0}),k.extend(s,t,null,{allOwnKeys:!0}),s.create=function(a){return si(xt(e,a))},s}const ae=si(os);ae.Axios=ft;ae.CanceledError=Bt;ae.CancelToken=Nd;ae.isCancel=Ka;ae.VERSION=ei;ae.toFormData=Ws;ae.AxiosError=V;ae.Cancel=ae.CanceledError;ae.all=function(t){return Promise.all(t)};ae.spread=Cd;ae.isAxiosError=Ed;ae.mergeConfig=xt;ae.AxiosHeaders=be;ae.formToJSON=e=>Va(k.isHTMLForm(e)?new FormData(e):e);ae.getAdapter=Xa.getAdapter;ae.HttpStatusCode=Sr;ae.default=ae;const{Axios:Th,AxiosError:Ph,CanceledError:Fh,isCancel:Mh,CancelToken:Dh,VERSION:Bh,all:$h,Cancel:zh,isAxiosError:Ih,spread:Uh,toFormData:qh,AxiosHeaders:Hh,HttpStatusCode:Wh,formToJSON:Vh,getAdapter:Kh,mergeConfig:Qh}=ae,F=ae.create({baseURL:"http://localhost:5001/api",timeout:3e4,headers:{"Content-Type":"application/json"}});F.interceptors.request.use(e=>{var s;const t=re.getState();return(s=t.tokens)!=null&&s.accessToken&&(e.headers.Authorization=`Bearer ${t.tokens.accessToken}`),e},e=>Promise.reject(e));F.interceptors.response.use(e=>e,async e=>{var a,i,o,c,d;const t=e.config;if(((a=e.response)==null?void 0:a.status)===401&&!t._retry){t._retry=!0;try{if(await re.getState().refreshToken()&&t){const m=(i=re.getState().tokens)==null?void 0:i.accessToken;return t.headers.Authorization=`Bearer ${m}`,F(t)}}catch(u){return await re.getState().logout(),typeof window<"u"&&(window.location.href="/login"),Promise.reject(u)}}const s=Sd(e);return[401,403,422].includes(((o=e.response)==null?void 0:o.status)||0)||$e.error(s),Promise.reject({message:s,status:(c=e.response)==null?void 0:c.status,code:e.code,details:(d=e.response)==null?void 0:d.data})});function Sd(e){var t;if((t=e.response)!=null&&t.data){const s=e.response.data;if(s.message)return s.message;if(s.error)return s.error;if(s.details)return s.details;if(typeof s=="string")return s}return e.message?e.message==="Network Error"?"Unable to connect to the server. Please check your internet connection.":e.code==="ECONNABORTED"?"Request timeout. Please try again.":e.message:"An unexpected error occurred. Please try again."}const Rd=e=>{const t=new FormData;return Object.keys(e).forEach(s=>{const r=e[s];r!=null&&(r instanceof File||r instanceof Blob?t.append(s,r):Array.isArray(r)?r.forEach((a,i)=>{a instanceof File||a instanceof Blob?t.append(`${s}[${i}]`,a):t.append(`${s}[${i}]`,String(a))}):t.append(s,String(r)))}),t},qt={login:async(e,t)=>(await F.post("/auth/login",{identifier:e,password:t})).data.data,register:async e=>(await F.post("/auth/register",e)).data.data,logout:async()=>{await F.post("/auth/logout")},refreshToken:async e=>(await F.post("/auth/refresh-token",{refreshToken:e})).data.data,getCurrentUser:async()=>(await F.get("/auth/me")).data.data.user,updatePassword:async e=>{await F.put("/auth/password",e)},deleteAccount:async e=>{await F.delete("/auth/account",{data:{password:e}})},validateToken:async()=>{try{return await F.get("/auth/me"),!0}catch{return!1}}},re=Aa()(La((e,t)=>({user:null,tokens:null,isAuthenticated:!1,isLoading:!0,initializeAuth:async()=>{var s,r;e({isLoading:!0});try{const a=t();if((s=a.tokens)!=null&&s.accessToken)try{const i=await qt.getCurrentUser();e({user:i,isAuthenticated:!0,isLoading:!1});return}catch{if(console.warn("Failed to get current user, trying to refresh token..."),(r=a.tokens)!=null&&r.refreshToken&&await t().refreshToken())return}e({user:null,tokens:null,isAuthenticated:!1,isLoading:!1})}catch(a){console.error("Auth initialization failed:",a),e({user:null,tokens:null,isAuthenticated:!1,isLoading:!1})}},login:async(s,r)=>{e({isLoading:!0});try{const a=await qt.login(s,r);e({user:a.user,tokens:a.tokens,isAuthenticated:!0,isLoading:!1})}catch(a){throw e({isLoading:!1}),a}},register:async s=>{e({isLoading:!0});try{const r=await qt.register(s);e({user:r.user,tokens:r.tokens,isAuthenticated:!0,isLoading:!1})}catch(r){throw e({isLoading:!1}),r}},logout:async()=>{e({isLoading:!0});try{await qt.logout()}catch(s){console.warn("Logout API call failed:",s)}finally{e({user:null,tokens:null,isAuthenticated:!1,isLoading:!1})}},refreshToken:async()=>{var r;const s=t();if(!((r=s.tokens)!=null&&r.refreshToken))return!1;try{const a=await qt.refreshToken(s.tokens.refreshToken);return e({tokens:{accessToken:a.tokens.accessToken,refreshToken:s.tokens.refreshToken,expiresIn:a.tokens.expiresIn}}),!0}catch(a){return console.error("Token refresh failed:",a),e({user:null,tokens:null,isAuthenticated:!1}),!1}},updateUser:s=>{const r=t().user;r&&e({user:{...r,...s}})},getToken:()=>{var r;return((r=t().tokens)==null?void 0:r.accessToken)||null}}),{name:"socialvibe-auth",partialize:e=>({user:e.user,tokens:e.tokens,isAuthenticated:e.isAuthenticated})})),_d=()=>typeof window>"u"||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",Tn=e=>e==="system"?_d():e,ri=Aa()(La((e,t)=>({theme:"dark",resolvedTheme:"dark",setTheme:s=>{const r=Tn(s);e({theme:s,resolvedTheme:r}),r==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},toggleTheme:()=>{const{theme:s}=t();let r;if(s==="light")r="dark";else if(s==="dark")r="light";else{const{resolvedTheme:a}=t();r=a==="light"?"dark":"light"}t().setTheme(r)},initializeTheme:()=>{const{theme:s}=t(),r=Tn(s);if(e({resolvedTheme:r}),r==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),typeof window<"u"&&s==="system"){const a=window.matchMedia("(prefers-color-scheme: dark)"),i=o=>{const c=o.matches?"dark":"light";e({resolvedTheme:c}),c==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};return a.addEventListener("change",i),()=>a.removeEventListener("change",i)}}}),{name:"socialvibe-theme",partialize:e=>({theme:e.theme})})),Ad=()=>{const{tokens:e,refreshToken:t,logout:s}=re();l.useEffect(()=>{if(e!=null&&e.accessToken)try{const a=JSON.parse(atob(e.accessToken.split(".")[1])).exp*1e3,i=Date.now(),o=a-i,c=5*60*1e3;o<=c&&o>0?t().catch(async d=>{console.error("Failed to refresh token:",d),$e.error("Your session has expired. Please log in again."),await s()}):o<=0&&s().then(()=>{$e.error("Your session has expired. Please log in again.")})}catch(r){console.error("Failed to parse token:",r)}},[e==null?void 0:e.accessToken,t,s])},Pn=({children:e})=>n.jsxs("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center p-4",children:[n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-4xl font-bold text-gradient mb-2",children:"SocialVibe"}),n.jsx("p",{className:"text-dark-muted",children:"Connect with friends and share moments"})]}),n.jsx("div",{className:"glass-card p-8",children:e})]}),n.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-primary-500/20 via-transparent to-transparent blur-3xl"}),n.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-secondary-500/10 rounded-full blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-primary-500/10 rounded-full blur-3xl animate-pulse animate-delay-150"})]})]});function Ld({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const Od=l.forwardRef(Ld);function Td({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Pd=l.forwardRef(Td);function Fd({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0Zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 1 0-2.636 6.364M16.5 12V8.25"}))}const ni=l.forwardRef(Fd);function Md({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const Dd=l.forwardRef(Md);function Bd({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const Kr=l.forwardRef(Bd);function $d({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const zd=l.forwardRef($d);function Id({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Ud=l.forwardRef(Id);function qd({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const Qr=l.forwardRef(qd);function Hd({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Wd=l.forwardRef(Hd);function Vd({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const Kd=l.forwardRef(Vd);function Qd({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ai=l.forwardRef(Qd);function Zd({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Jd=l.forwardRef(Zd);function Yd({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const ii=l.forwardRef(Yd);function Gd({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))}const Xd=l.forwardRef(Gd);function eu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const oi=l.forwardRef(eu);function tu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Zr=l.forwardRef(tu);function su({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const ru=l.forwardRef(su);function nu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const au=l.forwardRef(nu);function iu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Os=l.forwardRef(iu);function ou({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Fn=l.forwardRef(ou);function lu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z"}))}const Mn=l.forwardRef(lu);function cu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const Dn=l.forwardRef(cu);function du({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const uu=l.forwardRef(du);function pu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Qs=l.forwardRef(pu);function mu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const Ts=l.forwardRef(mu);function hu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122"}))}const fu=l.forwardRef(hu);function xu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"}))}const li=l.forwardRef(xu);function gu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const vu=l.forwardRef(gu);function yu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const bu=l.forwardRef(yu);function wu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const ju=l.forwardRef(wu);function ku({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const Nu=l.forwardRef(ku);function Cu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const Bn=l.forwardRef(Cu);function Eu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const ci=l.forwardRef(Eu);function Su({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Ru=l.forwardRef(Su);function _u({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Jr=l.forwardRef(_u);function Au({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Lu=l.forwardRef(Au);function Ou({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ls=l.forwardRef(Ou);function Tu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M6.32 2.577a49.255 49.255 0 0 1 11.36 0c1.497.174 2.57 1.46 2.57 2.93V21a.75.75 0 0 1-1.085.67L12 18.089l-7.165 3.583A.75.75 0 0 1 3.75 21V5.507c0-1.47 1.073-2.756 2.57-2.93Z",clipRule:"evenodd"}))}const di=l.forwardRef(Tu);function Pu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{d:"M4.913 2.658c2.075-.27 4.19-.408 6.337-.408 2.147 0 4.262.139 6.337.408 1.922.25 3.291 1.861 3.405 3.727a4.403 4.403 0 0 0-1.032-.211 50.89 50.89 0 0 0-8.42 0c-2.358.196-4.04 2.19-4.04 4.434v4.286a4.47 4.47 0 0 0 2.433 3.984L7.28 21.53A.75.75 0 0 1 6 21v-4.03a48.527 48.527 0 0 1-1.087-.128C2.905 16.58 1.5 14.833 1.5 12.862V6.638c0-1.97 1.405-3.718 3.413-3.979Z"}),l.createElement("path",{d:"M15.75 7.5c-1.376 0-2.739.057-4.086.169C10.124 7.797 9 9.103 9 10.609v4.285c0 1.507 1.128 2.814 2.67 2.94 1.243.102 2.5.157 3.768.165l2.782 2.781a.75.75 0 0 0 1.28-.53v-2.39l.33-.026c1.542-.125 2.67-1.433 2.67-2.94v-4.286c0-1.505-1.125-2.811-2.664-2.94A49.392 49.392 0 0 0 15.75 7.5Z"}))}const Fu=l.forwardRef(Pu);function Mu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const Du=l.forwardRef(Mu);function Bu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M11.078 2.25c-.917 0-1.699.663-1.85 1.567L9.05 4.889c-.02.12-.115.26-.297.348a7.493 7.493 0 0 0-.986.57c-.166.115-.334.126-.45.083L6.3 5.508a1.875 1.875 0 0 0-2.282.819l-.922 1.597a1.875 1.875 0 0 0 .432 2.385l.84.692c.095.078.17.229.154.43a7.598 7.598 0 0 0 0 1.139c.015.2-.059.352-.153.43l-.841.692a1.875 1.875 0 0 0-.432 2.385l.922 1.597a1.875 1.875 0 0 0 2.282.818l1.019-.382c.115-.043.283-.031.45.082.312.214.641.405.985.57.182.088.277.228.297.35l.178 1.071c.151.904.933 1.567 1.85 1.567h1.844c.916 0 1.699-.663 1.85-1.567l.178-1.072c.02-.12.114-.26.297-.349.344-.165.673-.356.985-.57.167-.114.335-.125.45-.082l1.02.382a1.875 1.875 0 0 0 2.28-.819l.923-1.597a1.875 1.875 0 0 0-.432-2.385l-.84-.692c-.095-.078-.17-.229-.154-.43a7.614 7.614 0 0 0 0-1.139c-.016-.2.059-.352.153-.43l.84-.692c.708-.582.891-1.59.433-2.385l-.922-1.597a1.875 1.875 0 0 0-2.282-.818l-1.02.382c-.114.043-.282.031-.449-.083a7.49 7.49 0 0 0-.985-.57c-.183-.087-.277-.227-.297-.348l-.179-1.072a1.875 1.875 0 0 0-1.85-1.567h-1.843ZM12 15.75a3.75 3.75 0 1 0 0-7.5 3.75 3.75 0 0 0 0 7.5Z",clipRule:"evenodd"}))}const $u=l.forwardRef(Bu);function zu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const Yr=l.forwardRef(zu);function Iu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),l.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const Uu=l.forwardRef(Iu);function qu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z",clipRule:"evenodd"}))}const Hu=l.forwardRef(qu);function Wu({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))}const Vu=l.forwardRef(Wu);function Ku({title:e,titleId:t,...s},r){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},s),e?l.createElement("title",{id:t},e):null,l.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const Qu=l.forwardRef(Ku),ze=Object.create(null);ze.open="0";ze.close="1";ze.ping="2";ze.pong="3";ze.message="4";ze.upgrade="5";ze.noop="6";const ks=Object.create(null);Object.keys(ze).forEach(e=>{ks[ze[e]]=e});const Rr={type:"error",data:"parser error"},ui=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",pi=typeof ArrayBuffer=="function",mi=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Gr=({type:e,data:t},s,r)=>ui&&t instanceof Blob?s?r(t):$n(t,r):pi&&(t instanceof ArrayBuffer||mi(t))?s?r(t):$n(new Blob([t]),r):r(ze[e]+(t||"")),$n=(e,t)=>{const s=new FileReader;return s.onload=function(){const r=s.result.split(",")[1];t("b"+(r||""))},s.readAsDataURL(e)};function zn(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let ur;function Zu(e,t){if(ui&&e.data instanceof Blob)return e.data.arrayBuffer().then(zn).then(t);if(pi&&(e.data instanceof ArrayBuffer||mi(e.data)))return t(zn(e.data));Gr(e,!1,s=>{ur||(ur=new TextEncoder),t(ur.encode(s))})}const In="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kt=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<In.length;e++)Kt[In.charCodeAt(e)]=e;const Ju=e=>{let t=e.length*.75,s=e.length,r,a=0,i,o,c,d;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),p=new Uint8Array(u);for(r=0;r<s;r+=4)i=Kt[e.charCodeAt(r)],o=Kt[e.charCodeAt(r+1)],c=Kt[e.charCodeAt(r+2)],d=Kt[e.charCodeAt(r+3)],p[a++]=i<<2|o>>4,p[a++]=(o&15)<<4|c>>2,p[a++]=(c&3)<<6|d&63;return u},Yu=typeof ArrayBuffer=="function",Xr=(e,t)=>{if(typeof e!="string")return{type:"message",data:hi(e,t)};const s=e.charAt(0);return s==="b"?{type:"message",data:Gu(e.substring(1),t)}:ks[s]?e.length>1?{type:ks[s],data:e.substring(1)}:{type:ks[s]}:Rr},Gu=(e,t)=>{if(Yu){const s=Ju(e);return hi(s,t)}else return{base64:!0,data:e}},hi=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},fi="",Xu=(e,t)=>{const s=e.length,r=new Array(s);let a=0;e.forEach((i,o)=>{Gr(i,!1,c=>{r[o]=c,++a===s&&t(r.join(fi))})})},ep=(e,t)=>{const s=e.split(fi),r=[];for(let a=0;a<s.length;a++){const i=Xr(s[a],t);if(r.push(i),i.type==="error")break}return r};function tp(){return new TransformStream({transform(e,t){Zu(e,s=>{const r=s.length;let a;if(r<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,r);else if(r<65536){a=new Uint8Array(3);const i=new DataView(a.buffer);i.setUint8(0,126),i.setUint16(1,r)}else{a=new Uint8Array(9);const i=new DataView(a.buffer);i.setUint8(0,127),i.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(a[0]|=128),t.enqueue(a),t.enqueue(s)})}})}let pr;function xs(e){return e.reduce((t,s)=>t+s.length,0)}function gs(e,t){if(e[0].length===t)return e.shift();const s=new Uint8Array(t);let r=0;for(let a=0;a<t;a++)s[a]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),s}function sp(e,t){pr||(pr=new TextDecoder);const s=[];let r=0,a=-1,i=!1;return new TransformStream({transform(o,c){for(s.push(o);;){if(r===0){if(xs(s)<1)break;const d=gs(s,1);i=(d[0]&128)===128,a=d[0]&127,a<126?r=3:a===126?r=1:r=2}else if(r===1){if(xs(s)<2)break;const d=gs(s,2);a=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),r=3}else if(r===2){if(xs(s)<8)break;const d=gs(s,8),u=new DataView(d.buffer,d.byteOffset,d.length),p=u.getUint32(0);if(p>Math.pow(2,21)-1){c.enqueue(Rr);break}a=p*Math.pow(2,32)+u.getUint32(4),r=3}else{if(xs(s)<a)break;const d=gs(s,a);c.enqueue(Xr(i?d:pr.decode(d),t)),r=0}if(a===0||a>e){c.enqueue(Rr);break}}}})}const xi=4;function oe(e){if(e)return rp(e)}function rp(e){for(var t in oe.prototype)e[t]=oe.prototype[t];return e}oe.prototype.on=oe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};oe.prototype.once=function(e,t){function s(){this.off(e,s),t.apply(this,arguments)}return s.fn=t,this.on(e,s),this};oe.prototype.off=oe.prototype.removeListener=oe.prototype.removeAllListeners=oe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+e];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,a=0;a<s.length;a++)if(r=s[a],r===t||r.fn===t){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+e],this};oe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),s=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(s){s=s.slice(0);for(var r=0,a=s.length;r<a;++r)s[r].apply(this,t)}return this};oe.prototype.emitReserved=oe.prototype.emit;oe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};oe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Zs=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,s)=>s(t,0),Ee=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),np="arraybuffer";function gi(e,...t){return t.reduce((s,r)=>(e.hasOwnProperty(r)&&(s[r]=e[r]),s),{})}const ap=Ee.setTimeout,ip=Ee.clearTimeout;function Js(e,t){t.useNativeTimers?(e.setTimeoutFn=ap.bind(Ee),e.clearTimeoutFn=ip.bind(Ee)):(e.setTimeoutFn=Ee.setTimeout.bind(Ee),e.clearTimeoutFn=Ee.clearTimeout.bind(Ee))}const op=1.33;function lp(e){return typeof e=="string"?cp(e):Math.ceil((e.byteLength||e.size)*op)}function cp(e){let t=0,s=0;for(let r=0,a=e.length;r<a;r++)t=e.charCodeAt(r),t<128?s+=1:t<2048?s+=2:t<55296||t>=57344?s+=3:(r++,s+=4);return s}function vi(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function dp(e){let t="";for(let s in e)e.hasOwnProperty(s)&&(t.length&&(t+="&"),t+=encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t}function up(e){let t={},s=e.split("&");for(let r=0,a=s.length;r<a;r++){let i=s[r].split("=");t[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return t}class pp extends Error{constructor(t,s,r){super(t),this.description=s,this.context=r,this.type="TransportError"}}class en extends oe{constructor(t){super(),this.writable=!1,Js(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,s,r){return super.emitReserved("error",new pp(t,s,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const s=Xr(t,this.socket.binaryType);this.onPacket(s)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,s={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const s=dp(t);return s.length?"?"+s:""}}class mp extends en{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const s=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||s()})),this.writable||(r++,this.once("drain",function(){--r||s()}))}else s()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const s=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};ep(t,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,Xu(t,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=vi()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(t,s)}}let yi=!1;try{yi=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const hp=yi;function fp(){}class xp extends mp{constructor(t){if(super(t),typeof location<"u"){const s=location.protocol==="https:";let r=location.port;r||(r=s?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,s){const r=this.request({method:"POST",data:t});r.on("success",s),r.on("error",(a,i)=>{this.onError("xhr post error",a,i)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(s,r)=>{this.onError("xhr poll error",s,r)}),this.pollXhr=t}}let Ct=class Ns extends oe{constructor(t,s,r){super(),this.createRequest=t,Js(this,r),this._opts=r,this._method=r.method||"GET",this._uri=s,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const s=gi(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(s);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&r.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var a;r.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=Ns.requestsCount++,Ns.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=fp,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ns.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Ct.requestsCount=0;Ct.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Un);else if(typeof addEventListener=="function"){const e="onpagehide"in Ee?"pagehide":"unload";addEventListener(e,Un,!1)}}function Un(){for(let e in Ct.requests)Ct.requests.hasOwnProperty(e)&&Ct.requests[e].abort()}const gp=function(){const e=bi({xdomain:!1});return e&&e.responseType!==null}();class vp extends xp{constructor(t){super(t);const s=t&&t.forceBase64;this.supportsBinary=gp&&!s}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Ct(bi,this.uri(),t)}}function bi(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||hp))return new XMLHttpRequest}catch{}if(!t)try{return new Ee[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const wi=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class yp extends en{get name(){return"websocket"}doOpen(){const t=this.uri(),s=this.opts.protocols,r=wi?{}:gi(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,s,r)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const r=t[s],a=s===t.length-1;Gr(r,this.supportsBinary,i=>{try{this.doWrite(r,i)}catch{}a&&Zs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=vi()),this.supportsBinary||(s.b64=1),this.createUri(t,s)}}const mr=Ee.WebSocket||Ee.MozWebSocket;class bp extends yp{createSocket(t,s,r){return wi?new mr(t,s,r):s?new mr(t,s):new mr(t)}doWrite(t,s){this.ws.send(s)}}class wp extends en{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const s=sp(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(s).getReader(),a=tp();a.readable.pipeTo(t.writable),this._writer=a.writable.getWriter();const i=()=>{r.read().then(({done:c,value:d})=>{c||(this.onPacket(d),i())}).catch(c=>{})};i();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let s=0;s<t.length;s++){const r=t[s],a=s===t.length-1;this._writer.write(r).then(()=>{a&&Zs(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const jp={websocket:bp,webtransport:wp,polling:vp},kp=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Np=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function _r(e){if(e.length>8e3)throw"URI too long";const t=e,s=e.indexOf("["),r=e.indexOf("]");s!=-1&&r!=-1&&(e=e.substring(0,s)+e.substring(s,r).replace(/:/g,";")+e.substring(r,e.length));let a=kp.exec(e||""),i={},o=14;for(;o--;)i[Np[o]]=a[o]||"";return s!=-1&&r!=-1&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=Cp(i,i.path),i.queryKey=Ep(i,i.query),i}function Cp(e,t){const s=/\/{2,9}/g,r=t.replace(s,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Ep(e,t){const s={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,a,i){a&&(s[a]=i)}),s}const Ar=typeof addEventListener=="function"&&typeof removeEventListener=="function",Cs=[];Ar&&addEventListener("offline",()=>{Cs.forEach(e=>e())},!1);class rt extends oe{constructor(t,s){if(super(),this.binaryType=np,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(s=t,t=null),t){const r=_r(t);s.hostname=r.host,s.secure=r.protocol==="https"||r.protocol==="wss",s.port=r.port,r.query&&(s.query=r.query)}else s.host&&(s.hostname=_r(s.host).host);Js(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},s.transports.forEach(r=>{const a=r.prototype.name;this.transports.push(a),this._transportsByName[a]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=up(this.opts.query)),Ar&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Cs.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const s=Object.assign({},this.opts.query);s.EIO=xi,s.transport=t,this.id&&(s.sid=this.id);const r=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&rt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const s=this.createTransport(t);s.open(),this.setTransport(s)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",s=>this._onClose("transport close",s))}onOpen(){this.readyState="open",rt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const s=new Error("server error");s.code=t.data,this._onError(s);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let r=0;r<this.writeBuffer.length;r++){const a=this.writeBuffer[r].data;if(a&&(s+=lp(a)),r>0&&s>this._maxPayload)return this.writeBuffer.slice(0,r);s+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Zs(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,s,r){return this._sendPacket("message",t,s,r),this}send(t,s,r){return this._sendPacket("message",t,s,r),this}_sendPacket(t,s,r,a){if(typeof s=="function"&&(a=s,s=void 0),typeof r=="function"&&(a=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const i={type:t,data:s,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),a&&this.once("flush",a),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),t()},r=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(rt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,s){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ar&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Cs.indexOf(this._offlineEventListener);r!==-1&&Cs.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,s),this.writeBuffer=[],this._prevBufferLen=0}}}rt.protocol=xi;class Sp extends rt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let s=this.createTransport(t),r=!1;rt.priorWebsocketSuccess=!1;const a=()=>{r||(s.send([{type:"ping",data:"probe"}]),s.once("packet",m=>{if(!r)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;rt.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(p(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=s.name,this.emitReserved("upgradeError",f)}}))};function i(){r||(r=!0,p(),s.close(),s=null)}const o=m=>{const f=new Error("probe error: "+m);f.transport=s.name,i(),this.emitReserved("upgradeError",f)};function c(){o("transport closed")}function d(){o("socket closed")}function u(m){s&&m.name!==s.name&&i()}const p=()=>{s.removeListener("open",a),s.removeListener("error",o),s.removeListener("close",c),this.off("close",d),this.off("upgrading",u)};s.once("open",a),s.once("error",o),s.once("close",c),this.once("close",d),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||s.open()},200):s.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const s=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&s.push(t[r]);return s}}let Rp=class extends Sp{constructor(t,s={}){const r=typeof t=="object"?t:s;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(a=>jp[a]).filter(a=>!!a)),super(t,r)}};function _p(e,t="",s){let r=e;s=s||typeof location<"u"&&location,e==null&&(e=s.protocol+"//"+s.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=s.protocol+e:e=s.host+e),/^(https?|wss?):\/\//.test(e)||(typeof s<"u"?e=s.protocol+"//"+e:e="https://"+e),r=_r(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const i=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+i+":"+r.port+t,r.href=r.protocol+"://"+i+(s&&s.port===r.port?"":":"+r.port),r}const Ap=typeof ArrayBuffer=="function",Lp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,ji=Object.prototype.toString,Op=typeof Blob=="function"||typeof Blob<"u"&&ji.call(Blob)==="[object BlobConstructor]",Tp=typeof File=="function"||typeof File<"u"&&ji.call(File)==="[object FileConstructor]";function tn(e){return Ap&&(e instanceof ArrayBuffer||Lp(e))||Op&&e instanceof Blob||Tp&&e instanceof File}function Es(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let s=0,r=e.length;s<r;s++)if(Es(e[s]))return!0;return!1}if(tn(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Es(e.toJSON(),!0);for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&Es(e[s]))return!0;return!1}function Pp(e){const t=[],s=e.data,r=e;return r.data=Lr(s,t),r.attachments=t.length,{packet:r,buffers:t}}function Lr(e,t){if(!e)return e;if(tn(e)){const s={_placeholder:!0,num:t.length};return t.push(e),s}else if(Array.isArray(e)){const s=new Array(e.length);for(let r=0;r<e.length;r++)s[r]=Lr(e[r],t);return s}else if(typeof e=="object"&&!(e instanceof Date)){const s={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=Lr(e[r],t));return s}return e}function Fp(e,t){return e.data=Or(e.data,t),delete e.attachments,e}function Or(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let s=0;s<e.length;s++)e[s]=Or(e[s],t);else if(typeof e=="object")for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(e[s]=Or(e[s],t));return e}const Mp=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Dp=5;var J;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(J||(J={}));class Bp{constructor(t){this.replacer=t}encode(t){return(t.type===J.EVENT||t.type===J.ACK)&&Es(t)?this.encodeAsBinary({type:t.type===J.EVENT?J.BINARY_EVENT:J.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let s=""+t.type;return(t.type===J.BINARY_EVENT||t.type===J.BINARY_ACK)&&(s+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(s+=t.nsp+","),t.id!=null&&(s+=t.id),t.data!=null&&(s+=JSON.stringify(t.data,this.replacer)),s}encodeAsBinary(t){const s=Pp(t),r=this.encodeAsString(s.packet),a=s.buffers;return a.unshift(r),a}}function qn(e){return Object.prototype.toString.call(e)==="[object Object]"}class sn extends oe{constructor(t){super(),this.reviver=t}add(t){let s;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(t);const r=s.type===J.BINARY_EVENT;r||s.type===J.BINARY_ACK?(s.type=r?J.EVENT:J.ACK,this.reconstructor=new $p(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(tn(t)||t.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(t),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let s=0;const r={type:Number(t.charAt(0))};if(J[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===J.BINARY_EVENT||r.type===J.BINARY_ACK){const i=s+1;for(;t.charAt(++s)!=="-"&&s!=t.length;);const o=t.substring(i,s);if(o!=Number(o)||t.charAt(s)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(s+1)==="/"){const i=s+1;for(;++s&&!(t.charAt(s)===","||s===t.length););r.nsp=t.substring(i,s)}else r.nsp="/";const a=t.charAt(s+1);if(a!==""&&Number(a)==a){const i=s+1;for(;++s;){const o=t.charAt(s);if(o==null||Number(o)!=o){--s;break}if(s===t.length)break}r.id=Number(t.substring(i,s+1))}if(t.charAt(++s)){const i=this.tryParse(t.substr(s));if(sn.isPayloadValid(r.type,i))r.data=i;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,s){switch(t){case J.CONNECT:return qn(s);case J.DISCONNECT:return s===void 0;case J.CONNECT_ERROR:return typeof s=="string"||qn(s);case J.EVENT:case J.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&Mp.indexOf(s[0])===-1);case J.ACK:case J.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class $p{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const s=Fp(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const zp=Object.freeze(Object.defineProperty({__proto__:null,Decoder:sn,Encoder:Bp,get PacketType(){return J},protocol:Dp},Symbol.toStringTag,{value:"Module"}));function Ae(e,t,s){return e.on(t,s),function(){e.off(t,s)}}const Ip=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class ki extends oe{constructor(t,s,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=s,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ae(t,"open",this.onopen.bind(this)),Ae(t,"packet",this.onpacket.bind(this)),Ae(t,"error",this.onerror.bind(this)),Ae(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...s){var r,a,i;if(Ip.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(s.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const o={type:J.EVENT,data:s};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const p=this.ids++,m=s.pop();this._registerAckCallback(p,m),o.id=p}const c=(a=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||a===void 0?void 0:a.writable,d=this.connected&&!(!((i=this.io.engine)===null||i===void 0)&&i._hasPingExpired());return this.flags.volatile&&!c||(d?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,s){var r;const a=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(a===void 0){this.acks[t]=s;return}const i=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);s.call(this,new Error("operation has timed out"))},a),o=(...c)=>{this.io.clearTimeoutFn(i),s.apply(this,c)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...s){return new Promise((r,a)=>{const i=(o,c)=>o?a(o):r(c);i.withError=!0,s.push(i),this.emit(t,...s)})}_addToQueue(t){let s;typeof t[t.length-1]=="function"&&(s=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((a,...i)=>r!==this._queue[0]?void 0:(a!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(a)):(this._queue.shift(),s&&s(null,...i)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!t||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:J.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,s),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case J.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case J.EVENT:case J.BINARY_EVENT:this.onevent(t);break;case J.ACK:case J.BINARY_ACK:this.onack(t);break;case J.DISCONNECT:this.ondisconnect();break;case J.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const s=t.data||[];t.id!=null&&s.push(this.ack(t.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const r of s)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const s=this;let r=!1;return function(...a){r||(r=!0,s.packet({type:J.ACK,id:t,data:a}))}}onack(t){const s=this.acks[t.id];typeof s=="function"&&(delete this.acks[t.id],s.withError&&t.data.unshift(null),s.apply(this,t.data))}onconnect(t,s){this.id=t,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:J.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const s=this._anyListeners;for(let r=0;r<s.length;r++)if(t===s[r])return s.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const s=this._anyOutgoingListeners;for(let r=0;r<s.length;r++)if(t===s[r])return s.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const r of s)r.apply(this,t.data)}}}function $t(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}$t.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),s=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+s:e-s}return Math.min(e,this.max)|0};$t.prototype.reset=function(){this.attempts=0};$t.prototype.setMin=function(e){this.ms=e};$t.prototype.setMax=function(e){this.max=e};$t.prototype.setJitter=function(e){this.jitter=e};class Tr extends oe{constructor(t,s){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(s=t,t=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,Js(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((r=s.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new $t({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=t;const a=s.parser||zp;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var s;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(s=this.backoff)===null||s===void 0||s.setMin(t),this)}randomizationFactor(t){var s;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(s=this.backoff)===null||s===void 0||s.setJitter(t),this)}reconnectionDelayMax(t){var s;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(s=this.backoff)===null||s===void 0||s.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Rp(this.uri,this.opts);const s=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const a=Ae(s,"open",function(){r.onopen(),t&&t()}),i=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},o=Ae(s,"error",i);if(this._timeout!==!1){const c=this._timeout,d=this.setTimeoutFn(()=>{a(),i(new Error("timeout")),s.close()},c);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(a),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ae(t,"ping",this.onping.bind(this)),Ae(t,"data",this.ondata.bind(this)),Ae(t,"error",this.onerror.bind(this)),Ae(t,"close",this.onclose.bind(this)),Ae(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(s){this.onclose("parse error",s)}}ondecoded(t){Zs(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,s){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new ki(this,t,s),this.nsps[t]=r),r}_destroy(t){const s=Object.keys(this.nsps);for(const r of s)if(this.nsps[r].active)return;this._close()}_packet(t){const s=this.encoder.encode(t);for(let r=0;r<s.length;r++)this.engine.write(s[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,s){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(a=>{a?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",a)):t.onreconnect()}))},s);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Ht={};function Ss(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const s=_p(e,t.path||"/socket.io"),r=s.source,a=s.id,i=s.path,o=Ht[a]&&i in Ht[a].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let d;return c?d=new Tr(r,t):(Ht[a]||(Ht[a]=new Tr(r,t)),d=Ht[a]),s.query&&!t.query&&(t.query=s.queryKey),d.socket(s.path,t)}Object.assign(Ss,{Manager:Tr,Socket:ki,io:Ss,connect:Ss});class Up{constructor(){pe(this,"socket",null);pe(this,"isConnected",!1);pe(this,"reconnectAttempts",0);pe(this,"maxReconnectAttempts",5);pe(this,"reconnectDelay",1e3);pe(this,"serverUnavailable",!1);pe(this,"messageListeners",[]);pe(this,"typingListeners",[]);pe(this,"userOnlineListeners",[]);pe(this,"userOfflineListeners",[]);pe(this,"messageReadListeners",[]);pe(this,"reactionListeners",[]);pe(this,"notificationListeners",[])}connect(){if(this.socket&&this.isConnected||this.serverUnavailable)return;const t=re.getState().getToken();if(!t){console.warn("No authentication token available for Socket.IO connection");return}const s="http://localhost:5001";this.socket=Ss(s,{auth:{token:t},transports:["websocket","polling"],timeout:2e4,forceNew:!0}),this.setupEventListeners()}setupEventListeners(){this.socket&&(this.socket.on("connect",()=>{console.log(" Connected to Socket.IO server at http://localhost:5001"),this.isConnected=!0,this.reconnectAttempts=0,this.serverUnavailable=!1}),this.socket.on("disconnect",t=>{console.log("Disconnected from Socket.IO server:",t),this.isConnected=!1,t==="io server disconnect"&&this.handleReconnect()}),this.socket.on("connect_error",t=>{console.error("Socket.IO connection error:",t),this.handleReconnect()}),this.socket.on("new_message",t=>{this.messageListeners.forEach(s=>s(t))}),this.socket.on("message_edited",t=>{console.log("Message edited:",t)}),this.socket.on("message_deleted",t=>{console.log("Message deleted:",t)}),this.socket.on("message_reaction_added",t=>{this.reactionListeners.forEach(s=>s(t))}),this.socket.on("message_reaction_removed",t=>{console.log("Reaction removed:",t)}),this.socket.on("messages_read",t=>{this.messageReadListeners.forEach(s=>s(t))}),this.socket.on("user_typing",t=>{this.typingListeners.forEach(s=>s(t))}),this.socket.on("user_stopped_typing",t=>{console.log("User stopped typing:",t)}),this.socket.on("user_online",t=>{this.userOnlineListeners.forEach(s=>s(t))}),this.socket.on("user_offline",t=>{this.userOfflineListeners.forEach(s=>s(t))}),this.socket.on("new_like",t=>{this.notificationListeners.forEach(s=>s({...t,type:"like"}))}),this.socket.on("new_reel_like",t=>{this.notificationListeners.forEach(s=>s({...t,type:"like"}))}),this.socket.on("new_comment_notification",t=>{this.notificationListeners.forEach(s=>s({...t,type:"comment"}))}),this.socket.on("new_follower",t=>{this.notificationListeners.forEach(s=>s({...t,type:"follow"}))}),this.socket.on("story_viewed",t=>{this.notificationListeners.forEach(s=>s({...t,type:"story_view"}))}))}handleReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.warn("Max reconnection attempts reached. Socket.IO will remain disconnected."),this.serverUnavailable=!0;return}setTimeout(()=>{this.reconnectAttempts++,console.log(`Attempting to reconnect... (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),this.connect()},Math.min(this.reconnectDelay*this.reconnectAttempts,1e4))}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.isConnected=!1)}joinConversation(t){this.socket&&this.isConnected?this.socket.emit("join_conversation",t):this.serverUnavailable||console.warn("Cannot join conversation: Socket not connected")}leaveConversation(t){this.socket&&this.isConnected&&this.socket.emit("leave_conversation",t)}sendMessage(t){this.socket&&this.isConnected?this.socket.emit("send_message",t):this.serverUnavailable||console.warn("Cannot send real-time message: Socket not connected. Message will be sent via API only.")}startTyping(t){this.socket&&this.isConnected&&this.socket.emit("typing_start",{conversationId:t})}stopTyping(t){this.socket&&this.isConnected&&this.socket.emit("typing_stop",{conversationId:t})}markMessageRead(t,s){this.socket&&this.isConnected&&this.socket.emit("mark_message_read",{conversationId:t,messageId:s})}likePost(t,s){this.socket&&this.isConnected&&this.socket.emit("like_post",{postId:t,postAuthorId:s})}likeReel(t,s){this.socket&&this.isConnected&&this.socket.emit("like_reel",{reelId:t,reelAuthorId:s})}newComment(t,s,r){this.socket&&this.isConnected&&this.socket.emit("new_comment",{postId:t,postAuthorId:s,comment:r})}newFollow(t){this.socket&&this.isConnected&&this.socket.emit("new_follow",{followedUserId:t})}viewStory(t,s){this.socket&&this.isConnected&&this.socket.emit("view_story",{storyId:t,storyAuthorId:s})}onNewMessage(t){return this.messageListeners.push(t),()=>{this.messageListeners=this.messageListeners.filter(s=>s!==t)}}onTyping(t){return this.typingListeners.push(t),()=>{this.typingListeners=this.typingListeners.filter(s=>s!==t)}}onUserOnline(t){return this.userOnlineListeners.push(t),()=>{this.userOnlineListeners=this.userOnlineListeners.filter(s=>s!==t)}}onUserOffline(t){return this.userOfflineListeners.push(t),()=>{this.userOfflineListeners=this.userOfflineListeners.filter(s=>s!==t)}}onMessageRead(t){return this.messageReadListeners.push(t),()=>{this.messageReadListeners=this.messageReadListeners.filter(s=>s!==t)}}onReaction(t){return this.reactionListeners.push(t),()=>{this.reactionListeners=this.reactionListeners.filter(s=>s!==t)}}onNotification(t){return this.notificationListeners.push(t),()=>{this.notificationListeners=this.notificationListeners.filter(s=>s!==t)}}isSocketConnected(){return this.isConnected}isServerAvailable(){return!this.serverUnavailable}retryConnection(){this.serverUnavailable=!1,this.reconnectAttempts=0,this.connect()}getSocket(){return this.socket}}const te=new Up;function qp({notification:e,onClose:t,autoClose:s=!0,duration:r=5e3}){const[a,i]=l.useState(!1),[o,c]=l.useState(!1);l.useEffect(()=>{if(setTimeout(()=>i(!0),100),s){const f=setTimeout(()=>{d()},r);return()=>clearTimeout(f)}},[s,r]);const d=()=>{c(!0),setTimeout(()=>{t()},300)},u=()=>{switch(e.type){case"like":return"";case"comment":return"";case"follow":return"";case"story_view":return"";default:return""}},p=()=>{switch(e.type){case"like":return"New Like";case"comment":return"New Comment";case"follow":return"New Follower";case"story_view":return"Story View";default:return"Notification"}},m=()=>{const f=e.by.username;switch(e.type){case"like":return`${f} liked your ${e.postId?"post":"reel"}`;case"comment":return`${f} commented on your post`;case"follow":return`${f} started following you`;case"story_view":return`${f} viewed your story`;default:return"You have a new notification"}};return n.jsxs("div",{className:`fixed top-4 right-4 z-50 max-w-sm w-full transform transition-all duration-300 ease-in-out ${a&&!o?"translate-x-0 opacity-100 scale-100":"translate-x-full opacity-0 scale-95"}`,children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 p-4",children:[n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center text-lg",children:u()})}),n.jsx("div",{className:"flex-1 min-w-0",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:p()}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mt-0.5",children:m()}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Just now"})]}),n.jsx("button",{onClick:d,className:"ml-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.by.avatar&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("img",{src:e.by.avatar,alt:e.by.username,className:"w-8 h-8 rounded-full object-cover"})})]}),s&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gray-200 dark:bg-gray-700 rounded-b-lg overflow-hidden",children:n.jsx("div",{className:"h-full bg-blue-500 transition-all ease-linear",style:{width:"100%",animation:`shrink ${r}ms linear`}})})]}),n.jsx("style",{children:`
        @keyframes shrink {
          from {
            width: 100%;
          }
          to {
            width: 0%;
          }
        }
      `})]})}function Hp(){const[e,t]=l.useState([]);l.useEffect(()=>te.onNotification(d=>{const u={...d,id:Date.now().toString()+Math.random().toString(36).substr(2,9)};if(t(p=>[...p,u]),"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission(),"Notification"in window&&Notification.permission==="granted"){const p=new Notification(s(d),{body:r(d),icon:d.by.avatar||"/icon-192x192.png",badge:"/icon-192x192.png",tag:d.type,requireInteraction:!1});setTimeout(()=>{p.close()},5e3),p.onclick=()=>{a(d),p.close()}}}),[]);const s=c=>{const d=c.by.username;switch(c.type){case"like":return`${d} liked your ${c.postId?"post":"reel"}`;case"comment":return`${d} commented on your post`;case"follow":return`${d} started following you`;case"story_view":return`${d} viewed your story`;default:return"New notification"}},r=c=>{switch(c.type){case"like":return"Click to view";case"comment":return"Click to see the comment";case"follow":return"Click to view profile";case"story_view":return"Click to see who viewed your story";default:return"Click to view details"}},a=c=>{switch(c.type){case"like":case"comment":c.postId?window.location.href=`/posts/${c.postId}`:c.reelId&&(window.location.href=`/reels/${c.reelId}`);break;case"follow":window.location.href=`/profile/${c.by.username}`;break;case"story_view":c.storyId&&(window.location.href=`/stories/${c.storyId}`);break}},i=c=>{t(d=>d.filter(u=>u.id!==c))},o=e.slice(-3);return n.jsx("div",{className:"fixed top-0 right-0 z-50 pointer-events-none",children:n.jsx("div",{className:"space-y-2 p-4",children:o.map((c,d)=>n.jsx("div",{className:"pointer-events-auto",style:{transform:`translateY(${d*10}px)`,zIndex:50-d},children:n.jsx(qp,{notification:c,onClose:()=>i(c.id),autoClose:!0,duration:5e3})},c.id))})})}const kt=({children:e})=>{const t=Xi(),{user:s}=re();l.useEffect(()=>(s?te.connect():te.disconnect(),()=>{}),[s]);const r=[{name:"Home",href:"/",icon:ru,iconSolid:Uu},{name:"Explore",href:"/explore",icon:au,iconSolid:Hu},{name:"Reels",href:"/reels",icon:Qs,iconSolid:Vu},{name:"Messages",href:"/messages",icon:Ud,iconSolid:Fu},{name:"Profile",href:`/profile/${(s==null?void 0:s.username)||""}`,icon:Jr,iconSolid:Qu},{name:"Settings",href:"/settings",icon:ai,iconSolid:$u}],a=i=>i==="/"?t.pathname==="/":t.pathname.startsWith(i);return n.jsxs("div",{className:"min-h-screen bg-dark-bg",children:[n.jsxs("div",{className:"hidden lg:fixed lg:inset-y-0 lg:left-0 lg:z-50 lg:block lg:w-64 lg:overflow-y-auto lg:bg-dark-surface lg:pb-4",children:[n.jsx("div",{className:"flex h-16 shrink-0 items-center px-6",children:n.jsx("h1",{className:"text-2xl font-bold text-gradient",children:"SocialVibe"})}),n.jsx("nav",{className:"mt-8",children:n.jsx("ul",{className:"flex flex-col gap-y-2 px-4",children:r.map(i=>{const o=a(i.href),c=o?i.iconSolid:i.icon;return n.jsx("li",{children:n.jsxs(Zt,{to:i.href,className:`nav-item ${o?"active":""}`,children:[n.jsx(c,{className:"h-6 w-6 mr-3"}),n.jsx("span",{className:"text-sm font-medium",children:i.name})]})},i.name)})})})]}),n.jsxs("div",{className:"lg:pl-64",children:[n.jsx("div",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-dark-border bg-dark-surface px-4 shadow-sm lg:hidden",children:n.jsx("h1",{className:"text-xl font-bold text-gradient",children:"SocialVibe"})}),n.jsx("main",{className:"py-6",children:n.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e})})]}),n.jsx("nav",{className:"mobile-bottom-nav lg:hidden bg-dark-surface border-t border-dark-border",children:n.jsx("div",{className:"flex justify-around py-2",children:r.slice(0,5).map(i=>{const o=a(i.href),c=o?i.iconSolid:i.icon;return n.jsxs(Zt,{to:i.href,className:`flex flex-col items-center p-2 ${o?"text-primary-500":"text-gray-400"}`,children:[n.jsx(c,{className:"h-6 w-6"}),n.jsx("span",{className:"text-xs mt-1",children:i.name})]},i.name)})})}),s&&n.jsx(Hp,{})]})};function Ni(e){var t,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(s=Ni(e[t]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function ee(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=Ni(e))&&(r&&(r+=" "),r+=t);return r}const Z=l.forwardRef(({variant:e="primary",size:t="md",loading:s=!1,icon:r,iconPosition:a="left",fullWidth:i=!1,children:o,className:c,disabled:d,...u},p)=>{const m="inline-flex items-center justify-center font-medium rounded-xl transition-all duration-300 transform focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2 focus-visible:ring-offset-dark-bg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",f={primary:"bg-gradient-primary text-white hover:shadow-neon hover:scale-[1.02] active:scale-[0.98]",secondary:"bg-dark-surface text-white border border-dark-border hover:bg-dark-card hover:border-primary-500/50",ghost:"text-gray-300 hover:text-white hover:bg-white/10",danger:"bg-red-500 text-white hover:bg-red-600 hover:shadow-lg",glass:"glassmorphism-dark text-white hover:bg-white/10 border border-white/20"},y={sm:"px-3 py-2 text-sm",md:"px-4 py-2.5 text-sm",lg:"px-6 py-3 text-base"},h={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-5 h-5"};return n.jsx("button",{ref:p,disabled:d||s,className:ee(m,f[e],y[t],i&&"w-full",c),...u,children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:ee("animate-spin border-2 border-current border-t-transparent rounded-full mr-2",h[t])}),"Loading..."]}):n.jsxs(n.Fragment,{children:[r&&a==="left"&&n.jsx("span",{className:ee("mr-2",h[t]),children:r}),o,r&&a==="right"&&n.jsx("span",{className:ee("ml-2",h[t]),children:r})]})})});Z.displayName="Button";class Wp extends l.Component{constructor(s){super(s);pe(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});pe(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1}}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,r){console.error("ErrorBoundary caught an error:",s,r),this.setState({error:s,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:n.jsx("div",{className:"min-h-screen bg-dark-bg flex items-center justify-center px-4",children:n.jsxs("div",{className:"max-w-md w-full text-center",children:[n.jsxs("div",{className:"bg-dark-surface rounded-xl p-8 border border-dark-border",children:[n.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-red-500/10 rounded-full flex items-center justify-center",children:n.jsx(oi,{className:"w-8 h-8 text-red-400"})}),n.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Oops! Something went wrong"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"We encountered an unexpected error. Don't worry, this has been reported to our team."}),!1,n.jsxs("div",{className:"space-y-3",children:[n.jsx(Z,{onClick:this.handleReset,className:"w-full",icon:n.jsx(Od,{className:"w-4 h-4"}),children:"Try Again"}),n.jsx(Z,{onClick:this.handleReload,variant:"secondary",className:"w-full",children:"Reload Page"})]})]}),n.jsxs("p",{className:"text-gray-500 text-sm mt-6",children:["If the problem persists, please"," ",n.jsx("a",{href:"mailto:support@socialvibe.com",className:"text-primary-400 hover:text-primary-300",children:"contact support"})]})]})}):this.props.children}}const Pr={_id:"user-123",username:"You",profile:{avatar:"https://placehold.co/100x100/7c3aed/ffffff?text=U"}},Vp=()=>({user:Pr}),Kp=(e,t)=>e>5?[]:Array.from({length:t},(s,r)=>({_id:`post_${e}_${r}`,author:{_id:`user_${r}`,username:`user_${Math.floor(Math.random()*1e3)}`,profile:{avatar:`https://placehold.co/100x100/a855f7/ffffff?text=A${r}`}},content:`This is post number ${r+(e-1)*t}. It's a great day for some mock data and infinite scrolling!`,media:r%3===0?[{url:`https://placehold.co/600x400/1e1b4b/ffffff?text=Image+${r}`,type:"image"}]:[],likes:[],comments:[],stats:{likesCount:Math.floor(Math.random()*100),commentsCount:Math.floor(Math.random()*20)},createdAt:new Date().toISOString()})),Wt={getFeedPosts:async(e=1,t=10)=>{console.log(`Fetching page ${e}...`),await new Promise(r=>setTimeout(r,500));const s=Kp(e,t);return{data:{items:s,pagination:{hasNextPage:s.length>0&&e<5}}}},createPost:async e=>(console.log("Creating post:",e),await new Promise(s=>setTimeout(s,500)),{_id:`new_post_${Date.now()}`,author:Pr,content:e.content,media:[],likes:[],comments:[],stats:{likesCount:0,commentsCount:0},createdAt:new Date().toISOString()}),toggleLikePost:async e=>(console.log(`Toggling like for post ${e}`),await new Promise(s=>setTimeout(s,200)),{isLiked:Math.random()>.5,likesCount:Math.floor(Math.random()*101)}),addComment:async(e,t)=>(console.log(`Adding comment to ${e}: ${t}`),await new Promise(r=>setTimeout(r,300)),{comment:{_id:`comment_${Date.now()}`,author:Pr,text:t,createdAt:new Date().toISOString()},commentsCount:Math.floor(Math.random()*21)})},Qp={createStory:async e=>(console.log("Creating story:",e),await new Promise(t=>setTimeout(t,500)),{success:!0})},Fr=({className:e})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Zp=({className:e,solid:t=!1})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:t?"currentColor":"none",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z"})}),Jp=({className:e})=>n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e||"w-6 h-6",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 011.037-.443 48.282 48.282 0 005.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})}),Ft=({children:e,onClick:t,variant:s="primary",size:r="md",icon:a})=>{const i="flex items-center justify-center font-semibold rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900",o=s==="primary"?"bg-indigo-600 hover:bg-indigo-700 text-white focus:ring-indigo-500":"bg-gray-700 hover:bg-gray-600 text-gray-200 focus:ring-gray-500",c=r==="sm"?"px-3 py-1.5 text-sm":"px-4 py-2";return n.jsxs("button",{onClick:t,className:`${i} ${o} ${c}`,children:[a&&n.jsx("span",{className:"mr-2",children:a}),e]})},Yp=({isOpen:e,onClose:t,onCreatePost:s})=>{const[r,a]=l.useState(""),[i,o]=l.useState(!1);if(!e)return null;const c=async()=>{if(!(!r.trim()||i)){o(!0);try{await s({content:r}),a(""),t()}catch(d){console.error("Failed to create post from modal",d)}finally{o(!1)}}};return n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl p-6 w-full max-w-md mx-4",children:[n.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Create Post"}),n.jsx("textarea",{value:r,onChange:d=>a(d.target.value),placeholder:"What's on your mind?",className:"w-full h-32 p-3 bg-gray-900 rounded-lg text-white border border-gray-700 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[n.jsx(Ft,{onClick:t,variant:"secondary",children:"Cancel"}),n.jsxs(Ft,{onClick:c,children:["// disabled=",i,i?"Posting...":"Post"]})]})]})})},Gp=({isOpen:e,onClose:t,onCreateStory:s})=>e?n.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl p-6 w-full max-w-md mx-4",children:[n.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Create Story"}),n.jsx("p",{className:"text-gray-400 mb-4",children:"Story creation UI would go here."}),n.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[n.jsx(Ft,{onClick:t,variant:"secondary",children:"Cancel"}),n.jsx(Ft,{onClick:async()=>{await s({}),t()},children:"Create"})]})]})}):null,Xp=({onCreateStory:e})=>n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-700 flex items-center space-x-4 overflow-x-auto",children:[n.jsxs("button",{onClick:e,className:"flex-shrink-0 flex flex-col items-center space-y-1 text-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-700 border-2 border-dashed border-gray-500 flex items-center justify-center text-gray-400 hover:bg-gray-600 transition-colors",children:n.jsx(Fr,{className:"w-6 h-6"})}),n.jsx("span",{className:"text-xs text-gray-300",children:"Your Story"})]}),Array.from({length:8}).map((t,s)=>n.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center space-y-1 text-center",children:[n.jsx("div",{className:"w-16 h-16 rounded-full p-0.5 bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-500",children:n.jsx("div",{className:"bg-gray-800 p-0.5 rounded-full",children:n.jsx("img",{src:`https://placehold.co/100x100/1e1b4b/ffffff?text=S${s}`,alt:`Story ${s}`,className:"w-full h-full object-cover rounded-full"})})}),n.jsxs("span",{className:"text-xs text-gray-400",children:["user_",s]})]},s))]}),em=({post:e,onLike:t,currentUserId:s})=>{const r=s?e.likes.includes(s):!1;return n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"p-4 flex items-center space-x-3",children:[n.jsx("img",{src:e.author.profile.avatar,alt:e.author.username,className:"w-10 h-10 rounded-full object-cover"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-white",children:e.author.username}),n.jsx("p",{className:"text-xs text-gray-400",children:new Date(e.createdAt).toLocaleString()})]})]}),n.jsx("p",{className:"px-4 pb-4 text-gray-300",children:e.content}),e.media.length>0&&n.jsx("img",{src:e.media[0].url,alt:"Post media",className:"w-full h-auto"}),n.jsx("div",{className:"p-4",children:n.jsx("div",{className:"flex items-center justify-between text-gray-400",children:n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsxs("button",{onClick:()=>t(e._id),className:`flex items-center space-x-1.5 group ${r?"text-red-500":"hover:text-red-500"}`,children:[n.jsx(Zp,{className:"w-6 h-6 transition-transform group-hover:scale-110",solid:r}),n.jsx("span",{children:e.stats.likesCount})]}),n.jsxs("button",{className:"flex items-center space-x-1.5 hover:text-indigo-400 group",children:[n.jsx(Jp,{className:"w-6 h-6 transition-transform group-hover:scale-110"}),n.jsx("span",{children:e.stats.commentsCount})]})]})})})]})},tm=()=>{const{user:e}=Vp(),[t,s]=l.useState([]),[r,a]=l.useState(!0),[i,o]=l.useState(!1),[c,d]=l.useState(!0),[u,p]=l.useState(1),m=l.useRef(null),[f,y]=l.useState(!1),[h,x]=l.useState(!1);l.useEffect(()=>{(async()=>{try{a(!0);const N=await Wt.getFeedPosts(1,10);s(N.data.items),d(N.data.pagination.hasNextPage),p(2)}catch(N){console.error("Error loading feed:",N)}finally{a(!1)}})()},[]);const g=l.useCallback(async()=>{if(!(i||!c))try{o(!0);const j=await Wt.getFeedPosts(u,10);s(N=>[...N,...j.data.items]),d(j.data.pagination.hasNextPage),p(N=>N+1)}catch(j){console.error("Error loading more posts:",j)}finally{o(!1)}},[u,c,i]);l.useEffect(()=>{const j=new IntersectionObserver(A=>{A[0].isIntersecting&&g()},{threshold:.5}),N=m.current;return N&&j.observe(N),()=>{N&&j.unobserve(N)}},[g]);const C=async j=>{try{const N=await Wt.createPost(j);s(A=>[N,...A])}catch(N){throw console.error("Error creating post:",N),N}},b=async j=>{try{await Qp.createStory(j)}catch(N){throw console.error("Error creating story:",N),N}},v=async j=>{if(!e)return;const N=[...t],A=t.findIndex(w=>w._id===j);if(A===-1)return;const O=t[A].likes.includes(e._id),$=O?t[A].stats.likesCount-1:t[A].stats.likesCount+1,_=t.map(w=>w._id===j?{...w,likes:O?w.likes.filter(P=>P!==e._id):[...w.likes,e._id],stats:{...w.stats,likesCount:$}}:w);s(_);try{const{isLiked:w,likesCount:P}=await Wt.toggleLikePost(j);s(D=>D.map(R=>R._id===j?{...R,likes:w?[...R.likes.filter(B=>B!==e._id),e._id]:R.likes.filter(B=>B!==e._id),stats:{...R.stats,likesCount:P}}:R))}catch(w){console.error("Error toggling like:",w),s(N)}},S=async(j,N)=>{try{const{comment:A,commentsCount:O}=await Wt.addComment(j,N);s($=>$.map(_=>_._id===j?{..._,comments:[..._.comments,A],stats:{..._.stats,commentsCount:O}}:_))}catch(A){throw console.error("Error adding comment:",A),A}};return r?n.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})}):n.jsxs("div",{className:"max-w-2xl mx-auto space-y-6 pb-20 px-2 sm:px-0",children:[n.jsx(Xp,{onCreateStory:()=>x(!0)}),e&&n.jsx("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-4 border border-gray-700",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gradient-to-tr from-purple-600 to-indigo-600",children:e.profile.avatar?n.jsx("img",{src:e.profile.avatar,alt:"Your avatar",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-medium",children:e.username[0].toUpperCase()})}),n.jsx("button",{onClick:()=>y(!0),className:"flex-1 text-left px-4 py-3 bg-gray-900/50 hover:bg-gray-900/70 rounded-full text-gray-400 transition-colors",children:"What's on your mind?"}),n.jsx(Ft,{onClick:()=>y(!0),variant:"primary",size:"sm",icon:n.jsx(Fr,{className:"w-4 h-4"}),children:"Post"})]})}),n.jsx("div",{className:"space-y-6",children:t.map(j=>n.jsx(em,{post:j,onLike:v,onComment:S,currentUserId:e==null?void 0:e._id},j._id))}),i&&n.jsx("div",{className:"flex justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-indigo-500"})}),c&&n.jsx("div",{ref:m,className:"h-4"}),!c&&t.length>0&&n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-gray-400",children:"You're all caught up!"})}),t.length===0&&!r&&n.jsx("div",{className:"text-center py-12",children:n.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl p-8 border border-gray-700",children:[n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Welcome to the Feed!"}),n.jsx("p",{className:"text-gray-400 mb-6",children:"It's looking a little empty. Start by creating a post."}),n.jsx(Ft,{onClick:()=>y(!0),icon:n.jsx(Fr,{className:"w-4 h-4"}),children:"Create Your First Post"})]})}),n.jsx(Yp,{isOpen:f,onClose:()=>y(!1),onCreatePost:C}),n.jsx(Gp,{isOpen:h,onClose:()=>x(!1),onCreateStory:b})]})};function sm(){return n.jsx("div",{className:"bg-gray-900 text-white min-h-screen font-sans py-8",children:n.jsx(tm,{})})}function rm(){const[e,t]=l.useState(""),[s,r]=l.useState(""),[a,i]=l.useState(!1),o=Ds(),{login:c}=re(),d=async u=>{u.preventDefault(),i(!0);try{await c(e,s),o("/")}catch(p){console.error("Login failed:",p)}finally{i(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsx("div",{children:n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Sign in to your account"})}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsx("div",{children:n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:u=>t(u.target.value)})}),n.jsx("div",{children:n.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:s,onChange:u=>r(u.target.value)})})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:a?"Signing in...":"Sign in"})}),n.jsx("div",{className:"text-center",children:n.jsx(Zt,{to:"/register",className:"text-indigo-600 hover:text-indigo-500",children:"Don't have an account? Sign up"})})]})]})})}function nm(){const[e,t]=l.useState(""),[s,r]=l.useState(""),[a,i]=l.useState(""),[o,c]=l.useState(""),[d,u]=l.useState(!1),p=Ds(),{register:m}=re(),f=async y=>{if(y.preventDefault(),s!==a){alert("Passwords do not match");return}u(!0);try{await m({email:e,password:s,username:o}),p("/")}catch(h){console.error("Registration failed:",h)}finally{u(!1)}};return n.jsx("div",{className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full space-y-8",children:[n.jsx("div",{children:n.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create your account"})}),n.jsxs("form",{className:"mt-8 space-y-6",onSubmit:f,children:[n.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n.jsx("div",{children:n.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Username",value:o,onChange:y=>c(y.target.value)})}),n.jsx("div",{children:n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:y=>t(y.target.value)})}),n.jsx("div",{children:n.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:s,onChange:y=>r(y.target.value)})}),n.jsx("div",{children:n.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:a,onChange:y=>i(y.target.value)})})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:d,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:d?"Creating account...":"Sign up"})}),n.jsx("div",{className:"text-center",children:n.jsx(Zt,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Already have an account? Sign in"})})]})]})})}const Le={getUserByUsername:async e=>(await F.get(`/users/${e}`)).data.data.user,getUserById:async e=>(await F.get(`/users/${e}`)).data.data.user,getCurrentUser:async()=>(await F.get("/users/me")).data.data.user,updateProfile:async e=>(await F.put("/users/profile",{profile:e})).data.data.user,completeProfile:async e=>(await F.post("/users/profile/complete",e)).data.data.user,getProfileCompletionStatus:async()=>(await F.get("/users/profile/completion-status")).data.data,updateAvatar:async e=>{const t=new FormData;return t.append("avatar",e),(await F.patch("/users/me/avatar",t,{headers:{"Content-Type":"multipart/form-data"}})).data.data},toggleFollowUser:async e=>(await F.post(`/users/${e}/follow`)).data.data,getUserFollowers:async(e,t=1,s=20)=>(await F.get(`/users/${e}/followers`,{params:{page:t,limit:s}})).data,getUserFollowing:async(e,t=1,s=20)=>(await F.get(`/users/${e}/following`,{params:{page:t,limit:s}})).data,getMutualFollowers:async(e,t=10)=>(await F.get(`/users/${e}/mutual-followers`,{params:{limit:t}})).data.data,searchUsers:async(e,t=1,s=20)=>(await F.get("/users/search",{params:{query:e,page:t,limit:s}})).data,getSuggestedUsers:async(e=10)=>(await F.get("/users/suggested",{params:{limit:e}})).data.data,toggleBlockUser:async e=>(await F.post(`/users/${e}/block`)).data.data,reportUser:async(e,t,s)=>{await F.post(`/users/${e}/report`,{reason:t,description:s})},deleteAccount:async e=>{await F.delete("/users/me",{data:{password:e}})},changePassword:async(e,t)=>{await F.patch("/users/me/password",{currentPassword:e,newPassword:t})},toggleTwoFactorAuth:async()=>(await F.post("/users/me/2fa")).data.data,verifyTwoFactorAuth:async e=>(await F.post("/users/me/2fa/verify",{code:e})).data.data,getUserSessions:async()=>(await F.get("/users/me/sessions")).data.data,logoutAllDevices:async()=>{await F.post("/users/me/logout-all")}},Ce={getConversations:async(e=1,t=20)=>(await F.get("/messages/conversations",{params:{page:e,limit:t}})).data,getOrCreateDirectConversation:async e=>(await F.get(`/messages/conversations/direct/${e}`)).data.data.conversation,getConversationMessages:async(e,t=1,s=50)=>(await F.get(`/messages/conversations/${e}/messages`,{params:{page:t,limit:s}})).data,sendMessage:async(e,t)=>{const s=new FormData;return t.content&&s.append("content",t.content),t.replyToMessageId&&s.append("replyToMessageId",t.replyToMessageId),t.media&&s.append("media",t.media),(await F.post(`/messages/conversations/${e}/messages`,s,{headers:{"Content-Type":"multipart/form-data"}})).data.data.message},editMessage:async(e,t)=>(await F.put(`/messages/messages/${e}`,{content:t})).data.data.message,deleteMessage:async(e,t="me")=>{await F.delete(`/messages/messages/${e}`,{data:{deleteFor:t}})},addReaction:async(e,t)=>{await F.post(`/messages/messages/${e}/reactions`,{emoji:t})},removeReaction:async e=>{await F.delete(`/messages/messages/${e}/reactions`)},markMessagesAsRead:async e=>{await F.post(`/messages/conversations/${e}/read`)},searchMessages:async(e,t,s=1,r=20)=>(await F.get(`/messages/conversations/${e}/search`,{params:{query:t,page:s,limit:r}})).data,getUnreadCount:async()=>(await F.get("/messages/unread-count")).data.data,toggleArchiveConversation:async e=>(await F.post(`/messages/conversations/${e}/archive`)).data.data,toggleMuteConversation:async(e,t)=>(await F.post(`/messages/conversations/${e}/mute`,{muteUntil:t})).data.data,togglePinConversation:async e=>(await F.post(`/messages/conversations/${e}/pin`)).data.data},Vt={getTrendingPosts:async(e=20)=>(await F.get("/posts/trending",{params:{limit:e}})).data.data,getPost:async e=>(await F.get(`/posts/${e}`)).data.data.post,createPost:async(e,t)=>{var a,i;const s=Rd({caption:e.caption||"",hashtags:((a=e.hashtags)==null?void 0:a.join(" "))||"",mentions:((i=e.mentions)==null?void 0:i.join(" "))||"",location:e.location?JSON.stringify(e.location):"",hideLikeCount:e.hideLikeCount||!1,commentsDisabled:e.commentsDisabled||!1});return e.files.forEach(o=>{s.append("media",o)}),(await F.post("/posts",s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:o=>{if(t&&o.total){const c=Math.round(o.loaded*100/o.total);t(c)}}})).data.data.post},toggleLikePost:async e=>(await F.post(`/posts/${e}/like`)).data.data,addComment:async(e,t)=>(await F.post(`/posts/${e}/comments`,{text:t})).data.data,replyToComment:async(e,t,s)=>(await F.post(`/posts/${e}/comments/${t}/replies`,{text:s})).data.data,toggleLikeComment:async(e,t)=>(await F.post(`/posts/${e}/comments/${t}/like`)).data.data,deletePost:async e=>{await F.delete(`/posts/${e}`)},toggleArchivePost:async e=>(await F.patch(`/posts/${e}/archive`)).data.data,getUserPosts:async(e,t=1,s=12)=>(await F.get(`/users/${e}/posts`,{params:{page:t,limit:s}})).data,searchPostsByHashtag:async(e,t=1,s=20)=>(await F.get(`/posts/hashtag/${e}`,{params:{page:t,limit:s}})).data},Je={getReelsFeed:async(e=1,t=10)=>{const s=await F.get("/reels/feed",{params:{page:e,limit:t}}),r=s.data.data;return{status:s.data.status,pagination:{...r.pagination,hasNextPage:r.pagination.hasNext},data:{items:r.reels,pagination:{...r.pagination,hasNextPage:r.pagination.hasNext},reverse:function(){throw new Error("Function not implemented.")},filter:function(a){throw new Error("Function not implemented.")}}}},getTrendingReels:async(e=20)=>(await F.get("/reels/trending",{params:{limit:e}})).data.data,getReel:async e=>(await F.get(`/reels/${e}`)).data.data.reel,createReel:async(e,t)=>{const s=new FormData;return s.append("video",e.video),e.caption&&s.append("caption",e.caption),e.hashtags&&s.append("hashtags",e.hashtags.join(" ")),e.mentions&&s.append("mentions",e.mentions.join(" ")),e.music&&s.append("music",JSON.stringify(e.music)),e.location&&s.append("location",JSON.stringify(e.location)),s.append("allowDuet",String(e.allowDuet??!0)),s.append("allowRemix",String(e.allowRemix??!0)),s.append("commentsDisabled",String(e.commentsDisabled??!1)),(await F.post("/reels",s,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a=>{if(t&&a.total){const i=Math.round(a.loaded*100/a.total);t(i)}}})).data.data.reel},toggleLikeReel:async e=>(await F.post(`/reels/${e}/like`)).data.data,toggleSaveReel:async e=>(await F.post(`/reels/${e}/save`)).data.data,shareReel:async e=>(await F.post(`/reels/${e}/share`)).data.data,addComment:async(e,t)=>(await F.post(`/reels/${e}/comments`,{text:t})).data.data,replyToComment:async(e,t,s)=>(await F.post(`/reels/${e}/comments/${t}/replies`,{text:s})).data.data,deleteReel:async e=>{await F.delete(`/reels/${e}`)},toggleArchiveReel:async e=>(await F.patch(`/reels/${e}/archive`)).data.data,getUserReels:async(e,t=1,s=12)=>{const r=await F.get(`/reels/user/${e}`,{params:{page:t,limit:s}}),a=r.data.data;return{status:r.data.status,pagination:{...a.pagination,hasNextPage:a.pagination.hasNext},data:{items:a.reels,pagination:{...a.pagination,hasNextPage:a.pagination.hasNext},reverse:()=>{throw new Error("reverse() not implemented for reels")},filter:i=>{throw new Error("filter() not implemented for reels")}}}},searchReelsByHashtag:async(e,t=1,s=20)=>{const r=await F.get(`/reels/hashtag/${e}`,{params:{page:t,limit:s}}),a=r.data.data;return{status:r.data.status,hashtag:a.hashtag,pagination:{...a.pagination,hasNextPage:a.pagination.hasNext},data:{items:a.reels,pagination:{...a.pagination,hasNextPage:a.pagination.hasNext},reverse:function(){throw new Error("Function not implemented.")},filter:function(i){throw new Error("Function not implemented.")}}}},searchReelsByMusic:async(e,t=1,s=20)=>{const r=await F.get(`/reels/music/${e}`,{params:{page:t,limit:s}}),a=r.data.data;return{status:r.data.status,musicName:a.musicName,pagination:{...a.pagination,hasNextPage:a.pagination.hasNext},data:{items:a.reels,pagination:{...a.pagination,hasNextPage:a.pagination.hasNext},reverse:function(){throw new Error("Function not implemented.")},filter:function(i){throw new Error("Function not implemented.")}}}}};function rn({user:e,onFollowChange:t,size:s="md",variant:r="primary"}){const[a,i]=l.useState(e.isFollowed||!1),[o,c]=l.useState(!1),[d,u]=l.useState(null),p=async()=>{try{c(!0),u(null);const h=await Le.toggleFollowUser(e._id);i(h.isFollowing),h.isFollowing&&te.newFollow(e._id),t&&t(h.isFollowing,h.followersCount)}catch(h){u(h.message||"Failed to update follow status"),console.error("Follow error:",h)}finally{c(!1)}},m=()=>{switch(s){case"sm":return"px-3 py-1.5 text-sm";case"lg":return"px-6 py-3 text-base";case"md":default:return"px-4 py-2 text-sm"}},f=()=>{if(a)return"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-red-500 hover:text-white";switch(r){case"secondary":return"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-200 dark:hover:bg-gray-600";case"outline":return"border-2 border-blue-600 text-blue-600 hover:bg-blue-600 hover:text-white";case"primary":default:return"bg-blue-600 text-white hover:bg-blue-700"}},y=()=>o?a?"Unfollowing...":"Following...":a?"Unfollow":"Follow";return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:p,disabled:o,className:`
          ${m()}
          ${f()}
          font-semibold rounded-lg transition-all duration-200
          disabled:opacity-50 disabled:cursor-not-allowed
          group relative overflow-hidden
        `,children:[o&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-current border-t-transparent"})}),n.jsx("span",{className:o?"opacity-0":"opacity-100",children:y()}),a&&n.jsx("span",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:"Unfollow"})]}),d&&n.jsxs("div",{className:`absolute top-full left-0 right-0 mt-1 p-2 bg-red-100 dark:bg-red-900/20 
                      border border-red-300 dark:border-red-700 rounded text-xs text-red-600 dark:text-red-400 z-10`,children:[d,n.jsx("button",{onClick:()=>u(null),className:"ml-2 hover:underline",children:"Dismiss"})]})]})}const am={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-7xl"};function yt({isOpen:e,onClose:t,title:s,size:r="md",showCloseButton:a=!0,children:i,className:o}){return n.jsx(Vi,{open:e,onOpenChange:t,children:n.jsxs(Ki,{children:[n.jsx(Qi,{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 animate-in fade-in-0"}),n.jsxs(Zi,{className:ee("fixed left-[50%] top-[50%] z-50 w-full translate-x-[-50%] translate-y-[-50%] transform overflow-hidden rounded-2xl glassmorphism-dark p-6 text-left align-middle shadow-glass animate-in fade-in-0 zoom-in-95 duration-300",am[r],o),children:[(s||a)&&n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s&&n.jsx(Ji,{className:"text-lg font-medium text-white",children:s}),a&&n.jsx(Yi,{asChild:!0,children:n.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-white rounded-lg hover:bg-white/10 transition-colors duration-200",children:n.jsx(ls,{className:"w-5 h-5"})})})]}),n.jsx("div",{children:i})]})]})})}function Hn({user:e,onClose:t,initialTab:s="followers"}){var N,A;const[r,a]=l.useState(s),[i,o]=l.useState([]),[c,d]=l.useState([]),[u,p]=l.useState(!1),[m,f]=l.useState(null),[y,h]=l.useState(!0),[x,g]=l.useState(1),{user:C}=re();l.useEffect(()=>{b(1,!0)},[r]);const b=async(O=1,$=!1)=>{var _,w;try{p(!0),f(null);const P=r==="followers"?await Le.getUserFollowers(e._id,O,20):await Le.getUserFollowing(e._id,O,20),D=((_=P.data)==null?void 0:_.items)||[];$?r==="followers"?o(D):d(D):r==="followers"?o(R=>[...R,...D]):d(R=>[...R,...D]),h(((w=P.pagination)==null?void 0:w.hasNext)||!1),g(O)}catch(P){f(P.message||"Failed to load users")}finally{p(!1)}},v=()=>{!u&&y&&b(x+1,!1)},S=(O,$)=>{const _=w=>w.map(P=>P._id===O?{...P,isFollowed:$}:P);o(w=>_(w)),d(w=>_(w))},j=r==="followers"?i:c;return n.jsx(yt,{isOpen:!0,onClose:t,title:`${e.profile.fullName||e.username}`,children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"flex border-b border-gray-200 dark:border-gray-700 mb-4",children:[n.jsxs("button",{onClick:()=>a("followers"),className:`flex-1 py-2 px-4 text-center font-medium transition-colors ${r==="followers"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Followers (",((N=e.stats)==null?void 0:N.followersCount)||0,")"]}),n.jsxs("button",{onClick:()=>a("following"),className:`flex-1 py-2 px-4 text-center font-medium transition-colors ${r==="following"?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:["Following (",((A=e.stats)==null?void 0:A.followingCount)||0,")"]})]}),m&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:m})}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:u&&x===1?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-500 dark:text-gray-400",children:"Loading..."})]}):j.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),n.jsx("p",{children:r==="followers"?`${e.username} has no followers yet`:`${e.username} isn't following anyone yet`})]}):n.jsxs("div",{className:"space-y-3",children:[j.map(O=>n.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[n.jsx("div",{className:"flex-shrink-0",children:O.profile.avatar?n.jsx("img",{src:O.profile.avatar,alt:O.username,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-semibold text-gray-600 dark:text-gray-300",children:O.username.charAt(0).toUpperCase()})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:O.profile.fullName||O.username}),O.profile.isVerified&&n.jsx("svg",{className:"w-4 h-4 text-blue-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:["@",O.username]}),O.profile.bio&&n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate",children:O.profile.bio})]})]}),O._id!==(C==null?void 0:C._id)&&n.jsx("div",{className:"flex-shrink-0 ml-3",children:n.jsx(rn,{user:O,size:"sm",onFollowChange:$=>S(O._id,$)})})]},O._id)),y&&n.jsx("div",{className:"text-center py-4",children:n.jsx("button",{onClick:v,disabled:u,className:"px-4 py-2 text-sm text-blue-600 hover:text-blue-700 disabled:text-gray-400 disabled:cursor-not-allowed",children:u?"Loading...":"Load more"})})]})})]})})}const zt=l.forwardRef(({label:e,error:t,helperText:s,variant:r="default",fullWidth:a=!1,resize:i=!0,className:o,...c},d)=>{const u="block px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",p={default:"bg-dark-surface border border-dark-border rounded-xl hover:border-primary-500/50",glass:"input-glass"};return n.jsxs("div",{className:ee(a&&"w-full",o),children:[e&&n.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:e}),n.jsx("textarea",{ref:d,className:ee(u,p[r],a&&"w-full",!i&&"resize-none",t&&"border-red-500 focus:ring-red-500"),...c}),(t||s)&&n.jsx("p",{className:ee("mt-1 text-sm",t?"text-red-400":"text-gray-400"),children:t||s})]})});zt.displayName="Textarea";function im({isOpen:e,onClose:t,comments:s,onAddComment:r,onLikeComment:a,onReplyToComment:i,onDeleteComment:o,className:c}){var O,$,_;const{user:d}=re(),[u,p]=l.useState(""),[m,f]=l.useState(!1),[y,h]=l.useState(null),[x,g]=l.useState(""),C=l.useRef(null),b=l.useRef(null);l.useEffect(()=>{e&&C.current&&C.current.focus()},[e]),l.useEffect(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[s]);const v=async()=>{var w,P;if(!(!u.trim()||m))try{f(!0),await r(u.trim()),p(""),$e.success("Comment added!")}catch(D){console.error("Error adding comment:",D),$e.error(((P=(w=D==null?void 0:D.response)==null?void 0:w.data)==null?void 0:P.message)||"Failed to add comment")}finally{f(!1)}},S=async w=>{var P,D;if(!(!x.trim()||!i))try{await i(w,x.trim()),g(""),h(null),$e.success("Reply added!")}catch(R){console.error("Error adding reply:",R),$e.error(((D=(P=R==null?void 0:R.response)==null?void 0:P.data)==null?void 0:D.message)||"Failed to add reply")}},j=async w=>{if(a)try{await a(w)}catch(P){console.error("Error liking comment:",P)}},N=w=>{const P=new Date,D=new Date(w),R=P.getTime()-D.getTime(),B=Math.floor(R/1e3),L=Math.floor(B/60),z=Math.floor(L/60),I=Math.floor(z/24),U=Math.floor(I/7);return U>0?`${U}w`:I>0?`${I}d`:z>0?`${z}h`:L>0?`${L}m`:"now"},A=({comment:w,isReply:P=!1})=>{const D=w.likes.includes((d==null?void 0:d._id)||""),R=w.author._id===(d==null?void 0:d._id);return n.jsxs("div",{className:ee("flex space-x-3",P&&"ml-12 mt-2"),children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gradient-primary",children:w.author.profile.avatar?n.jsx("img",{src:w.author.profile.avatar,alt:w.author.username,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-medium text-sm",children:w.author.username[0].toUpperCase()})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"bg-dark-surface rounded-2xl px-3 py-2",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("span",{className:"font-medium text-white text-sm",children:w.author.profile.fullName||w.author.username}),n.jsxs("span",{className:"text-gray-500 text-xs",children:["@",w.author.username]}),n.jsx("span",{className:"text-gray-500 text-xs",children:""}),n.jsx("span",{className:"text-gray-500 text-xs",children:N(w.createdAt)})]}),n.jsx("p",{className:"text-gray-200 text-sm whitespace-pre-wrap",children:w.text})]}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-gray-400 text-xs",children:[n.jsxs("button",{onClick:()=>j(w._id),className:"flex items-center space-x-1 hover:text-red-400 transition-colors",disabled:!a,children:[D?n.jsx(Yr,{className:"w-4 h-4 text-red-500"}):n.jsx(Zr,{className:"w-4 h-4"}),w.likes.length>0&&n.jsx("span",{children:w.likes.length})]}),!P&&i&&n.jsx("button",{onClick:()=>h(y===w._id?null:w._id),className:"hover:text-white transition-colors",children:"Reply"}),R&&o&&n.jsx("button",{onClick:()=>o(w._id),className:"hover:text-red-400 transition-colors",children:"Delete"})]}),y===w._id&&n.jsxs("div",{className:"mt-3 flex space-x-2",children:[n.jsx("input",{type:"text",value:x,onChange:B=>g(B.target.value),placeholder:"Write a reply...",className:"flex-1 bg-dark-bg border border-dark-border rounded-full px-4 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-primary-500",onKeyPress:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),S(w._id))}}),n.jsx(Z,{size:"sm",onClick:()=>S(w._id),disabled:!x.trim(),className:"!rounded-full !px-3",children:n.jsx(Dn,{className:"w-4 h-4"})})]}),w.replies&&w.replies.length>0&&n.jsx("div",{className:"mt-3 space-y-3",children:w.replies.map(B=>n.jsx(A,{comment:B,isReply:!0},B._id))})]})]})};return n.jsx(yt,{isOpen:e,onClose:t,className:ee("max-w-lg",c),title:`Comments (${s.length})`,children:n.jsxs("div",{className:"flex flex-col h-[500px]",children:[n.jsx("div",{ref:b,className:"flex-1 overflow-y-auto space-y-4 p-1 scroll-smooth",children:s.length>0?s.map(w=>n.jsx(A,{comment:w},w._id)):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-8",children:[n.jsx("div",{className:"text-gray-400 mb-4",children:n.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),n.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No comments yet"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Be the first to share what you think!"})]})}),n.jsx("div",{className:"border-t border-dark-border pt-4 mt-4",children:n.jsxs("div",{className:"flex space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gradient-primary",children:(O=d==null?void 0:d.profile)!=null&&O.avatar?n.jsx("img",{src:d.profile.avatar,alt:d.username,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-medium",children:(_=($=d==null?void 0:d.username)==null?void 0:$[0])==null?void 0:_.toUpperCase()})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx(zt,{ref:C,value:u,onChange:w=>p(w.target.value),placeholder:"Add a comment...",rows:1,className:"resize-none bg-dark-surface border-dark-border focus:border-primary-500",onKeyPress:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),v())}}),n.jsxs("div",{className:"flex justify-between items-center mt-2",children:[n.jsx("div",{className:"text-xs text-gray-500",children:"Press Enter to post, Shift+Enter for new line"}),n.jsxs(Z,{size:"sm",onClick:v,loading:m,disabled:!u.trim()||m,className:"!rounded-full",children:[n.jsx(Dn,{className:"w-4 h-4 mr-1"}),"Post"]})]})]})]})})]})})}function om({post:e,currentUserId:t,onLike:s,onComment:r,onShare:a,onSave:i,onUserClick:o=()=>{},className:c}){const[d,u]=l.useState(0),[p,m]=l.useState(!1),[f,y]=l.useState(t?e.likes.includes(t):!1),[h,x]=l.useState(!1),g=()=>{y(!f),s(e._id)},C=()=>{a==null||a(e._id)},b=()=>{x(!h),i==null||i(e._id)},v=j=>j.replace(/#(\w+)/g,'<span class="text-primary-400 hover:underline cursor-pointer">#$1</span>'),S=j=>j.replace(/@(\w+)/g,'<span class="text-primary-400 hover:underline cursor-pointer">@$1</span>');return n.jsxs("article",{className:ee("post-card",c),children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("div",{className:"flex items-center space-x-3",children:n.jsxs("button",{onClick:()=>o(e.author.username),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[n.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gradient-primary",children:e.author.profile.avatar?n.jsx("img",{src:e.author.profile.avatar,alt:`${e.author.username}'s avatar`,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-medium",children:e.author.username[0].toUpperCase()})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("span",{className:"font-medium text-white",children:e.author.username}),e.author.profile.isVerified&&n.jsx("svg",{className:"w-4 h-4 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),e.location&&n.jsx("p",{className:"text-xs text-gray-400",children:e.location.name})]})]})}),n.jsx("button",{className:"p-2 text-gray-400 hover:text-white rounded-lg hover:bg-white/10 transition-colors",children:n.jsx(ii,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"relative mb-4 rounded-xl overflow-hidden bg-dark-surface",children:[e.media.length>0&&n.jsxs("div",{className:"aspect-square relative",children:[e.media[d].type==="image"?n.jsx("img",{src:e.media[d].url,alt:"Post media",className:"w-full h-full object-cover"}):n.jsx("video",{src:e.media[d].url,className:"w-full h-full object-cover",controls:!0,poster:e.media[d].thumbnail}),e.media.length>1&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 px-2 py-1 rounded-full text-white text-sm",children:[d+1," / ",e.media.length]}),d>0&&n.jsx("button",{onClick:()=>u(d-1),className:"absolute left-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),d<e.media.length-1&&n.jsx("button",{onClick:()=>u(d+1),className:"absolute right-4 top-1/2 -translate-y-1/2 w-8 h-8 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-colors",children:n.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),e.media.length>1&&n.jsx("div",{className:"flex justify-center space-x-1 mt-3",children:e.media.map((j,N)=>n.jsx("button",{onClick:()=>u(N),className:ee("w-2 h-2 rounded-full transition-colors",N===d?"bg-primary-500":"bg-gray-600")},N))})]}),n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{onClick:g,className:ee("p-2 rounded-lg transition-colors",f?"text-red-500":"text-gray-400 hover:text-white"),children:f?n.jsx(Yr,{className:"w-6 h-6"}):n.jsx(Zr,{className:"w-6 h-6"})}),!e.commentsDisabled&&n.jsx("button",{onClick:()=>m(!0),className:"p-2 text-gray-400 hover:text-white rounded-lg transition-colors",children:n.jsx(Qr,{className:"w-6 h-6"})}),n.jsx("button",{onClick:C,className:"p-2 text-gray-400 hover:text-white rounded-lg transition-colors",children:n.jsx(li,{className:"w-6 h-6"})})]}),n.jsx("button",{onClick:b,className:ee("p-2 rounded-lg transition-colors",h?"text-primary-500":"text-gray-400 hover:text-white"),children:h?n.jsx(di,{className:"w-6 h-6"}):n.jsx(Kr,{className:"w-6 h-6"})})]}),!e.hideLikeCount&&e.stats.likesCount>0&&n.jsxs("p",{className:"text-white font-medium mb-2",children:[e.stats.likesCount.toLocaleString()," ",e.stats.likesCount===1?"like":"likes"]}),e.caption&&n.jsx("div",{className:"mb-2",children:n.jsxs("p",{className:"text-white",children:[n.jsx("button",{onClick:()=>o(e.author.username),className:"font-medium hover:opacity-80 transition-opacity mr-2",children:e.author.username}),n.jsx("span",{dangerouslySetInnerHTML:{__html:S(v(e.caption))}})]})}),e.stats.commentsCount>0&&n.jsxs("div",{className:"mb-2",children:[n.jsxs("button",{onClick:()=>m(!0),className:"text-gray-400 hover:text-white text-sm mb-2 transition-colors",children:["View all ",e.stats.commentsCount," comments"]}),e.comments&&e.comments.length>0&&e.comments.slice(0,2).map(j=>n.jsxs("div",{className:"text-white mb-1",children:[n.jsx("button",{onClick:()=>o(j.author.username),className:"font-medium hover:opacity-80 transition-opacity mr-2",children:j.author.username}),n.jsx("span",{className:"text-gray-300",children:j.text})]},j._id))]}),n.jsx("p",{className:"text-gray-400 text-sm mb-4",children:e.timeAgo}),n.jsx(im,{isOpen:p,onClose:()=>m(!1),contentId:e._id,contentType:"post",comments:(e.comments||[]).map(j=>({...j,updatedAt:j.updatedAt??j.createdAt})),onAddComment:async j=>{const N=await r(e._id,j);return{...N,comment:{...N.comment,updatedAt:N.comment.updatedAt??N.comment.createdAt}}}})]})}var Ci={exports:{}},lm="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cm=lm,dm=cm;function Ei(){}function Si(){}Si.resetWarningCache=Ei;var um=function(){function e(r,a,i,o,c,d){if(d!==dm){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var s={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Si,resetWarningCache:Ei};return s.PropTypes=s,s};Ci.exports=um();var pm=Ci.exports;const X=ma(pm),mm=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Mt(e,t,s){const r=hm(e),{webkitRelativePath:a}=e,i=typeof t=="string"?t:typeof a=="string"&&a.length>0?a:`./${e.name}`;return typeof r.path!="string"&&Wn(r,"path",i),Wn(r,"relativePath",i),r}function hm(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),a=mm.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}function Wn(e,t,s){Object.defineProperty(e,t,{value:s,writable:!1,configurable:!1,enumerable:!0})}const fm=[".DS_Store","Thumbs.db"];function xm(e){return gt(this,void 0,void 0,function*(){return Ps(e)&&gm(e.dataTransfer)?wm(e.dataTransfer,e.type):vm(e)?ym(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?bm(e):[]})}function gm(e){return Ps(e)}function vm(e){return Ps(e)&&Ps(e.target)}function Ps(e){return typeof e=="object"&&e!==null}function ym(e){return Mr(e.target.files).map(t=>Mt(t))}function bm(e){return gt(this,void 0,void 0,function*(){return(yield Promise.all(e.map(s=>s.getFile()))).map(s=>Mt(s))})}function wm(e,t){return gt(this,void 0,void 0,function*(){if(e.items){const s=Mr(e.items).filter(a=>a.kind==="file");if(t!=="drop")return s;const r=yield Promise.all(s.map(jm));return Vn(Ri(r))}return Vn(Mr(e.files).map(s=>Mt(s)))})}function Vn(e){return e.filter(t=>fm.indexOf(t.name)===-1)}function Mr(e){if(e===null)return[];const t=[];for(let s=0;s<e.length;s++){const r=e[s];t.push(r)}return t}function jm(e){if(typeof e.webkitGetAsEntry!="function")return Kn(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?_i(t):Kn(e,t)}function Ri(e){return e.reduce((t,s)=>[...t,...Array.isArray(s)?Ri(s):[s]],[])}function Kn(e,t){return gt(this,void 0,void 0,function*(){var s;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const i=yield e.getAsFileSystemHandle();if(i===null)throw new Error(`${e} is not a File`);if(i!==void 0){const o=yield i.getFile();return o.handle=i,Mt(o)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return Mt(r,(s=t==null?void 0:t.fullPath)!==null&&s!==void 0?s:void 0)})}function km(e){return gt(this,void 0,void 0,function*(){return e.isDirectory?_i(e):Nm(e)})}function _i(e){const t=e.createReader();return new Promise((s,r)=>{const a=[];function i(){t.readEntries(o=>gt(this,void 0,void 0,function*(){if(o.length){const c=Promise.all(o.map(km));a.push(c),i()}else try{const c=yield Promise.all(a);s(c)}catch(c){r(c)}}),o=>{r(o)})}i()})}function Nm(e){return gt(this,void 0,void 0,function*(){return new Promise((t,s)=>{e.file(r=>{const a=Mt(r,e.fullPath);t(a)},r=>{s(r)})})})}var hr=function(e,t){if(e&&t){var s=Array.isArray(t)?t:t.split(",");if(s.length===0)return!0;var r=e.name||"",a=(e.type||"").toLowerCase(),i=a.replace(/\/.*$/,"");return s.some(function(o){var c=o.trim().toLowerCase();return c.charAt(0)==="."?r.toLowerCase().endsWith(c):c.endsWith("/*")?i===c.replace(/\/.*$/,""):a===c})}return!0};function Qn(e){return Sm(e)||Em(e)||Li(e)||Cm()}function Cm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Em(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sm(e){if(Array.isArray(e))return Dr(e)}function Zn(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,r)}return s}function Jn(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Zn(Object(s),!0).forEach(function(r){Ai(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Zn(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function Ai(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function es(e,t){return Am(e)||_m(e,t)||Li(e,t)||Rm()}function Rm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Li(e,t){if(e){if(typeof e=="string")return Dr(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Dr(e,t)}}function Dr(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function _m(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var r=[],a=!0,i=!1,o,c;try{for(s=s.call(e);!(a=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(d){i=!0,c=d}finally{try{!a&&s.return!=null&&s.return()}finally{if(i)throw c}}return r}}function Am(e){if(Array.isArray(e))return e}var Lm=typeof hr=="function"?hr:hr.default,Om="file-invalid-type",Tm="file-too-large",Pm="file-too-small",Fm="too-many-files",Mm=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",s=t.split(","),r=s.length>1?"one of ".concat(s.join(", ")):s[0];return{code:Om,message:"File type must be ".concat(r)}},Yn=function(t){return{code:Tm,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Gn=function(t){return{code:Pm,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Dm={code:Fm,message:"Too many files"};function Oi(e,t){var s=e.type==="application/x-moz-file"||Lm(e,t);return[s,s?null:Mm(t)]}function Ti(e,t,s){if(it(e.size))if(it(t)&&it(s)){if(e.size>s)return[!1,Yn(s)];if(e.size<t)return[!1,Gn(t)]}else{if(it(t)&&e.size<t)return[!1,Gn(t)];if(it(s)&&e.size>s)return[!1,Yn(s)]}return[!0,null]}function it(e){return e!=null}function Bm(e){var t=e.files,s=e.accept,r=e.minSize,a=e.maxSize,i=e.multiple,o=e.maxFiles,c=e.validator;return!i&&t.length>1||i&&o>=1&&t.length>o?!1:t.every(function(d){var u=Oi(d,s),p=es(u,1),m=p[0],f=Ti(d,r,a),y=es(f,1),h=y[0],x=c?c(d):null;return m&&h&&!x})}function Fs(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function vs(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Xn(e){e.preventDefault()}function $m(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function zm(e){return e.indexOf("Edge/")!==-1}function Im(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return $m(e)||zm(e)}function Fe(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(r){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return t.some(function(c){return!Fs(r)&&c&&c.apply(void 0,[r].concat(i)),Fs(r)})}}function Um(){return"showOpenFilePicker"in window}function qm(e){if(it(e)){var t=Object.entries(e).filter(function(s){var r=es(s,2),a=r[0],i=r[1],o=!0;return Pi(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(i)||!i.every(Fi))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(s,r){var a=es(r,2),i=a[0],o=a[1];return Jn(Jn({},s),{},Ai({},i,o))},{});return[{description:"Files",accept:t}]}return e}function Hm(e){if(it(e))return Object.entries(e).reduce(function(t,s){var r=es(s,2),a=r[0],i=r[1];return[].concat(Qn(t),[a],Qn(i))},[]).filter(function(t){return Pi(t)||Fi(t)}).join(",")}function Wm(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Vm(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function Pi(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function Fi(e){return/^.*\.[\w]+$/.test(e)}var Km=["children"],Qm=["open"],Zm=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Jm=["refKey","onChange","onClick"];function Ym(e){return eh(e)||Xm(e)||Mi(e)||Gm()}function Gm(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xm(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eh(e){if(Array.isArray(e))return Br(e)}function fr(e,t){return rh(e)||sh(e,t)||Mi(e,t)||th()}function th(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mi(e,t){if(e){if(typeof e=="string")return Br(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);if(s==="Object"&&e.constructor&&(s=e.constructor.name),s==="Map"||s==="Set")return Array.from(e);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Br(e,t)}}function Br(e,t){(t==null||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function sh(e,t){var s=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(s!=null){var r=[],a=!0,i=!1,o,c;try{for(s=s.call(e);!(a=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));a=!0);}catch(d){i=!0,c=d}finally{try{!a&&s.return!=null&&s.return()}finally{if(i)throw c}}return r}}function rh(e){if(Array.isArray(e))return e}function ea(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),s.push.apply(s,r)}return s}function se(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ea(Object(s),!0).forEach(function(r){$r(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ea(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}function $r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Ms(e,t){if(e==null)return{};var s=nh(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nh(e,t){if(e==null)return{};var s={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(s[a]=e[a]);return s}var nn=l.forwardRef(function(e,t){var s=e.children,r=Ms(e,Km),a=Bi(r),i=a.open,o=Ms(a,Qm);return l.useImperativeHandle(t,function(){return{open:i}},[i]),Ir.createElement(l.Fragment,null,s(se(se({},o),{},{open:i})))});nn.displayName="Dropzone";var Di={disabled:!1,getFilesFromEvent:xm,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};nn.defaultProps=Di;nn.propTypes={children:X.func,accept:X.objectOf(X.arrayOf(X.string)),multiple:X.bool,preventDropOnDocument:X.bool,noClick:X.bool,noKeyboard:X.bool,noDrag:X.bool,noDragEventsBubbling:X.bool,minSize:X.number,maxSize:X.number,maxFiles:X.number,disabled:X.bool,getFilesFromEvent:X.func,onFileDialogCancel:X.func,onFileDialogOpen:X.func,useFsAccessApi:X.bool,autoFocus:X.bool,onDragEnter:X.func,onDragLeave:X.func,onDragOver:X.func,onDrop:X.func,onDropAccepted:X.func,onDropRejected:X.func,onError:X.func,validator:X.func};var zr={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Bi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=se(se({},Di),e),s=t.accept,r=t.disabled,a=t.getFilesFromEvent,i=t.maxSize,o=t.minSize,c=t.multiple,d=t.maxFiles,u=t.onDragEnter,p=t.onDragLeave,m=t.onDragOver,f=t.onDrop,y=t.onDropAccepted,h=t.onDropRejected,x=t.onFileDialogCancel,g=t.onFileDialogOpen,C=t.useFsAccessApi,b=t.autoFocus,v=t.preventDropOnDocument,S=t.noClick,j=t.noKeyboard,N=t.noDrag,A=t.noDragEventsBubbling,O=t.onError,$=t.validator,_=l.useMemo(function(){return Hm(s)},[s]),w=l.useMemo(function(){return qm(s)},[s]),P=l.useMemo(function(){return typeof g=="function"?g:ta},[g]),D=l.useMemo(function(){return typeof x=="function"?x:ta},[x]),R=l.useRef(null),B=l.useRef(null),L=l.useReducer(ah,zr),z=fr(L,2),I=z[0],U=z[1],le=I.isFocused,je=I.isFileDialogActive,T=l.useRef(typeof window<"u"&&window.isSecureContext&&C&&Um()),K=function(){!T.current&&je&&setTimeout(function(){if(B.current){var q=B.current.files;q.length||(U({type:"closeDialog"}),D())}},300)};l.useEffect(function(){return window.addEventListener("focus",K,!1),function(){window.removeEventListener("focus",K,!1)}},[B,je,D,T]);var W=l.useRef([]),ue=function(q){R.current&&R.current.contains(q.target)||(q.preventDefault(),W.current=[])};l.useEffect(function(){return v&&(document.addEventListener("dragover",Xn,!1),document.addEventListener("drop",ue,!1)),function(){v&&(document.removeEventListener("dragover",Xn),document.removeEventListener("drop",ue))}},[R,v]),l.useEffect(function(){return!r&&b&&R.current&&R.current.focus(),function(){}},[R,b,r]);var G=l.useCallback(function(M){O?O(M):console.error(M)},[O]),ce=l.useCallback(function(M){M.preventDefault(),M.persist(),us(M),W.current=[].concat(Ym(W.current),[M.target]),vs(M)&&Promise.resolve(a(M)).then(function(q){if(!(Fs(M)&&!A)){var ie=q.length,de=ie>0&&Bm({files:q,accept:_,minSize:o,maxSize:i,multiple:c,maxFiles:d,validator:$}),we=ie>0&&!de;U({isDragAccept:de,isDragReject:we,isDragActive:!0,type:"setDraggedFiles"}),u&&u(M)}}).catch(function(q){return G(q)})},[a,u,G,A,_,o,i,c,d,$]),at=l.useCallback(function(M){M.preventDefault(),M.persist(),us(M);var q=vs(M);if(q&&M.dataTransfer)try{M.dataTransfer.dropEffect="copy"}catch{}return q&&m&&m(M),!1},[m,A]),cs=l.useCallback(function(M){M.preventDefault(),M.persist(),us(M);var q=W.current.filter(function(de){return R.current&&R.current.contains(de)}),ie=q.indexOf(M.target);ie!==-1&&q.splice(ie,1),W.current=q,!(q.length>0)&&(U({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),vs(M)&&p&&p(M))},[R,p,A]),bt=l.useCallback(function(M,q){var ie=[],de=[];M.forEach(function(we){var It=Oi(we,_),jt=fr(It,2),Gs=jt[0],Xs=jt[1],er=Ti(we,o,i),ps=fr(er,2),tr=ps[0],sr=ps[1],rr=$?$(we):null;if(Gs&&tr&&!rr)ie.push(we);else{var nr=[Xs,sr];rr&&(nr=nr.concat(rr)),de.push({file:we,errors:nr.filter(function(qi){return qi})})}}),(!c&&ie.length>1||c&&d>=1&&ie.length>d)&&(ie.forEach(function(we){de.push({file:we,errors:[Dm]})}),ie.splice(0)),U({acceptedFiles:ie,fileRejections:de,isDragReject:de.length>0,type:"setFiles"}),f&&f(ie,de,q),de.length>0&&h&&h(de,q),ie.length>0&&y&&y(ie,q)},[U,c,_,o,i,d,f,y,h,$]),Ie=l.useCallback(function(M){M.preventDefault(),M.persist(),us(M),W.current=[],vs(M)&&Promise.resolve(a(M)).then(function(q){Fs(M)&&!A||bt(q,M)}).catch(function(q){return G(q)}),U({type:"reset"})},[a,bt,G,A]),Q=l.useCallback(function(){if(T.current){U({type:"openDialog"}),P();var M={multiple:c,types:w};window.showOpenFilePicker(M).then(function(q){return a(q)}).then(function(q){bt(q,null),U({type:"closeDialog"})}).catch(function(q){Wm(q)?(D(q),U({type:"closeDialog"})):Vm(q)?(T.current=!1,B.current?(B.current.value=null,B.current.click()):G(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):G(q)});return}B.current&&(U({type:"openDialog"}),P(),B.current.value=null,B.current.click())},[U,P,D,C,bt,G,w,c]),ke=l.useCallback(function(M){!R.current||!R.current.isEqualNode(M.target)||(M.key===" "||M.key==="Enter"||M.keyCode===32||M.keyCode===13)&&(M.preventDefault(),Q())},[R,Q]),Te=l.useCallback(function(){U({type:"focus"})},[]),Ue=l.useCallback(function(){U({type:"blur"})},[]),on=l.useCallback(function(){S||(Im()?setTimeout(Q,0):Q())},[S,Q]),wt=function(q){return r?null:q},Ys=function(q){return j?null:wt(q)},ds=function(q){return N?null:wt(q)},us=function(q){A&&q.stopPropagation()},zi=l.useMemo(function(){return function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=M.refKey,ie=q===void 0?"ref":q,de=M.role,we=M.onKeyDown,It=M.onFocus,jt=M.onBlur,Gs=M.onClick,Xs=M.onDragEnter,er=M.onDragOver,ps=M.onDragLeave,tr=M.onDrop,sr=Ms(M,Zm);return se(se($r({onKeyDown:Ys(Fe(we,ke)),onFocus:Ys(Fe(It,Te)),onBlur:Ys(Fe(jt,Ue)),onClick:wt(Fe(Gs,on)),onDragEnter:ds(Fe(Xs,ce)),onDragOver:ds(Fe(er,at)),onDragLeave:ds(Fe(ps,cs)),onDrop:ds(Fe(tr,Ie)),role:typeof de=="string"&&de!==""?de:"presentation"},ie,R),!r&&!j?{tabIndex:0}:{}),sr)}},[R,ke,Te,Ue,on,ce,at,cs,Ie,j,N,r]),Ii=l.useCallback(function(M){M.stopPropagation()},[]),Ui=l.useMemo(function(){return function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},q=M.refKey,ie=q===void 0?"ref":q,de=M.onChange,we=M.onClick,It=Ms(M,Jm),jt=$r({accept:_,multiple:c,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:wt(Fe(de,Ie)),onClick:wt(Fe(we,Ii)),tabIndex:-1},ie,B);return se(se({},jt),It)}},[B,s,c,Ie,r]);return se(se({},I),{},{isFocused:le&&!r,getRootProps:zi,getInputProps:Ui,rootRef:R,inputRef:B,open:wt(Q)})}function ah(e,t){switch(t.type){case"focus":return se(se({},e),{},{isFocused:!0});case"blur":return se(se({},e),{},{isFocused:!1});case"openDialog":return se(se({},zr),{},{isFileDialogActive:!0});case"closeDialog":return se(se({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return se(se({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return se(se({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return se({},zr);default:return e}}function ta(){}function ih({accept:e={"image/*":[".jpeg",".jpg",".png",".gif",".webp"],"video/*":[".mp4",".webm",".mov"]},multiple:t=!0,maxFiles:s=10,maxSize:r=100*1024*1024,onFilesChange:a,className:i,disabled:o=!1,children:c}){const[d,u]=l.useState([]),p=b=>{const v=b.type.startsWith("image/")?"image":b.type.startsWith("video/")?"video":"other";return{file:b,preview:URL.createObjectURL(b),type:v,progress:0,uploaded:!1}},m=l.useCallback((b,v)=>{if(v.length>0){const N=v.map(A=>{var O;return{file:A.file,preview:"",type:"other",error:((O=A.errors[0])==null?void 0:O.message)||"File rejected"}});console.warn("Rejected files:",N)}const S=b.map(p),j=[...d,...S].slice(0,s);u(j),a(j)},[d,s,a]),{getRootProps:f,getInputProps:y,isDragActive:h,isDragReject:x}=Bi({onDrop:m,accept:e,multiple:t,maxFiles:s-d.length,maxSize:r,disabled:o}),g=b=>{const v=d.filter((S,j)=>j!==b);URL.revokeObjectURL(d[b].preview),u(v),a(v)},C=b=>{if(b===0)return"0 Bytes";const v=1024,S=["Bytes","KB","MB","GB"],j=Math.floor(Math.log(b)/Math.log(v));return parseFloat((b/Math.pow(v,j)).toFixed(2))+" "+S[j]};return n.jsxs("div",{className:ee("w-full",i),children:[d.length<s&&n.jsxs("div",{...f(),className:ee("relative border-2 border-dashed rounded-xl p-8 text-center cursor-pointer transition-all duration-300",h&&!x&&"border-primary-500 bg-primary-500/10",x&&"border-red-500 bg-red-500/10",!h&&"border-dark-border hover:border-primary-500/50 hover:bg-primary-500/5",o&&"opacity-50 cursor-not-allowed"),children:[n.jsx("input",{...y()}),c||n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx(Kd,{className:"w-12 h-12 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg font-medium text-white mb-1",children:h?"Drop files here":"Upload media"}),n.jsx("p",{className:"text-gray-400 text-sm",children:t?`Drag & drop up to ${s-d.length} files or click to browse`:"Drag & drop a file or click to browse"}),n.jsxs("p",{className:"text-gray-500 text-xs mt-1",children:["Max ",C(r)," per file"]})]})]}),x&&n.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-red-500/20 rounded-xl",children:n.jsx("p",{className:"text-red-400 font-medium",children:"Some files are not supported"})})]}),d.length>0&&n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h4",{className:"text-white font-medium",children:[d.length," file",d.length!==1?"s":""," selected"]}),n.jsx("button",{onClick:()=>{d.forEach(b=>URL.revokeObjectURL(b.preview)),u([]),a([])},className:"text-gray-400 hover:text-white text-sm",children:"Clear all"})]}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:d.map((b,v)=>n.jsx(oh,{uploadedFile:b,index:v,onRemove:g,formatFileSize:C},`${b.file.name}-${v}`))})]})]})}function oh({uploadedFile:e,index:t,onRemove:s,formatFileSize:r}){return n.jsxs("div",{className:"relative group",children:[n.jsxs("div",{className:"aspect-square bg-dark-surface rounded-lg overflow-hidden",children:[e.type==="image"&&n.jsx("img",{src:e.preview,alt:"Preview",className:"w-full h-full object-cover"}),e.type==="video"&&n.jsxs("div",{className:"relative w-full h-full",children:[n.jsx("video",{src:e.preview,className:"w-full h-full object-cover",muted:!0}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsx(Qs,{className:"w-8 h-8 text-white drop-shadow-lg"})})]}),e.type==="other"&&n.jsx("div",{className:"w-full h-full flex items-center justify-center",children:n.jsx(Jd,{className:"w-12 h-12 text-gray-400"})}),e.progress!==void 0&&e.progress<100&&n.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-black/50",children:n.jsx("div",{className:"h-1 bg-primary-500 transition-all duration-300",style:{width:`${e.progress}%`}})}),e.error&&n.jsx("div",{className:"absolute inset-0 bg-red-500/80 flex items-center justify-center",children:n.jsx("p",{className:"text-white text-xs text-center p-2",children:e.error})}),n.jsx("button",{onClick:()=>s(t),className:"absolute top-2 right-2 w-6 h-6 bg-black/70 hover:bg-black rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:n.jsx(ls,{className:"w-4 h-4 text-white"})}),e.uploaded&&n.jsx("div",{className:"absolute top-2 left-2",children:n.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})})]}),n.jsxs("div",{className:"mt-2",children:[n.jsx("p",{className:"text-white text-sm truncate",title:e.file.name,children:e.file.name}),n.jsx("p",{className:"text-gray-400 text-xs",children:r(e.file.size)})]})]})}const an=l.forwardRef(({label:e,error:t,helperText:s,leftIcon:r,rightIcon:a,variant:i="default",fullWidth:o=!1,className:c,...d},u)=>{const p="block px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",m={default:"bg-dark-surface border border-dark-border rounded-xl hover:border-primary-500/50",glass:"input-glass"};return n.jsxs("div",{className:ee(o&&"w-full",c),children:[e&&n.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:e}),n.jsxs("div",{className:"relative",children:[r&&n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("div",{className:"w-5 h-5 text-gray-400",children:r})}),n.jsx("input",{ref:u,className:ee(p,m[i],r&&"pl-10",a&&"pr-10",o&&"w-full",t&&"border-red-500 focus:ring-red-500"),...d}),a&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.jsx("div",{className:"w-5 h-5 text-gray-400",children:a})})]}),(t||s)&&n.jsx("p",{className:ee("mt-1 text-sm",t?"text-red-400":"text-gray-400"),children:t||s})]})});an.displayName="Input";const $i=({isOpen:e,onClose:t,onComplete:s})=>{var y,h;const{user:r,updateUser:a}=re(),[i,o]=l.useState(!1),[c,d]=l.useState(null),[u,p]=l.useState({fullName:((y=r==null?void 0:r.profile)==null?void 0:y.fullName)||"",bio:((h=r==null?void 0:r.profile)==null?void 0:h.bio)||""}),m=(x,g)=>{p(C=>({...C,[x]:g})),d(null)},f=async x=>{var g,C;if(x.preventDefault(),!u.fullName.trim()){d("Full name is required");return}if(!u.bio.trim()){d("Bio is required");return}try{o(!0),d(null);const b=await Le.completeProfile({fullName:u.fullName.trim(),bio:u.bio.trim()});a(b),s(),t()}catch(b){console.error("Error completing profile:",b),d(((C=(g=b==null?void 0:b.response)==null?void 0:g.data)==null?void 0:C.message)||"Failed to complete profile. Please try again.")}finally{o(!1)}};return n.jsx(yt,{isOpen:e,onClose:t,className:"max-w-md",children:n.jsxs("div",{className:"relative bg-dark-surface rounded-2xl p-6 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-primary-500 rounded-full flex items-center justify-center",children:n.jsx(Jr,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-white",children:"Complete Your Profile"}),n.jsx("p",{className:"text-sm text-gray-400",children:"Required to continue"})]})]}),n.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-300 transition-colors",children:n.jsx(ls,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(an,{label:"Full Name",placeholder:"Enter your full name",value:u.fullName,onChange:x=>m("fullName",x.target.value),required:!0,disabled:i}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This is required to use SocialVibe features"})]}),n.jsxs("div",{children:[n.jsx(zt,{label:"Bio",placeholder:"Tell us about yourself...",value:u.bio,onChange:x=>m("bio",x.target.value),disabled:i,rows:3,required:!0}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"This is required to complete your profile"})]}),c&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:n.jsx("p",{className:"text-red-400 text-sm",children:c})}),n.jsxs("div",{className:"flex space-x-3 pt-4",children:[n.jsx(Z,{type:"button",variant:"secondary",onClick:t,disabled:i,className:"flex-1",children:"Cancel"}),n.jsx(Z,{type:"submit",loading:i,disabled:!u.fullName.trim()||!u.bio.trim()||i,className:"flex-1",children:"Complete Profile"})]})]}),n.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:n.jsxs("p",{className:"text-blue-400 text-sm",children:[n.jsx("strong",{children:"Why is this required?"})," We need your full name and bio to personalize your experience and help others discover your content on SocialVibe."]})})]})})};function lh({isOpen:e,onClose:t,onCreatePost:s}){const{user:r}=re(),[a,i]=l.useState(""),[o,c]=l.useState([]),[d,u]=l.useState(),[p,m]=l.useState(!1),[f,y]=l.useState(!1),[h,x]=l.useState(""),[g,C]=l.useState(!1),[b,v]=l.useState(null),S=_=>{c(_)},j=_=>{const w=(_.match(/#(\w+)/g)||[]).map(D=>D.slice(1).toLowerCase()),P=(_.match(/@(\w+)/g)||[]).map(D=>D.slice(1).toLowerCase());return{hashtags:w,mentions:P}},N=async()=>{var _,w,P,D,R,B;if(!(!a.trim()&&o.length===0)){m(!0),v(null);try{const{hashtags:L,mentions:z}=j(a);await s({caption:a.trim(),files:o.map(I=>I.file),location:d&&h.trim()?{name:h.trim()}:void 0,hashtags:L,mentions:z}),i(""),c([]),u(void 0),x(""),y(!1),t()}catch(L){console.error("Error creating post:",L),((_=L==null?void 0:L.response)==null?void 0:_.status)===403&&((D=(P=(w=L==null?void 0:L.response)==null?void 0:w.data)==null?void 0:P.message)!=null&&D.includes("complete your profile"))?(C(!0),v("Please complete your profile to create posts")):v(((B=(R=L==null?void 0:L.response)==null?void 0:R.data)==null?void 0:B.message)||"Failed to create post. Please try again.")}finally{m(!1)}}},A=()=>{h.trim()&&(u({name:h.trim()}),y(!1))},O=2200-a.length,$=()=>{C(!1),v(null)};return n.jsxs(yt,{isOpen:e,onClose:t,title:"Create new post",size:"lg",className:"max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"space-y-6",children:[r&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gradient-primary",children:r.profile.avatar?n.jsx("img",{src:r.profile.avatar,alt:"Your avatar",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-medium",children:r.username[0].toUpperCase()})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:r.username}),r.profile.fullName&&n.jsx("p",{className:"text-sm text-gray-400",children:r.profile.fullName})]})]}),b&&n.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:n.jsx("p",{className:"text-red-400 text-sm",children:b})}),n.jsxs("div",{children:[n.jsx(zt,{placeholder:"Write a caption...",value:a,onChange:_=>i(_.target.value),rows:4,maxLength:2200,fullWidth:!0,variant:"glass",className:"resize-none"}),n.jsxs("div",{className:"flex justify-between items-center mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[n.jsxs("button",{onClick:()=>y(!f),className:"flex items-center space-x-1 hover:text-white transition-colors",children:[n.jsx(Os,{className:"w-4 h-4"}),n.jsx("span",{children:"Add location"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ci,{className:"w-4 h-4"}),n.jsx("span",{children:"Use #hashtags"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ni,{className:"w-4 h-4"}),n.jsx("span",{children:"Tag @friends"})]})]}),n.jsx("span",{className:`text-sm ${O<100?"text-yellow-400":O<0?"text-red-400":"text-gray-400"}`,children:O})]})]}),f&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("input",{type:"text",placeholder:"Enter location name",value:h,onChange:_=>x(_.target.value),className:"flex-1 px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500",onKeyPress:_=>_.key==="Enter"&&A()}),n.jsx(Z,{size:"sm",onClick:A,children:"Add"}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{y(!1),x(""),u(void 0)},children:"Cancel"})]}),d&&n.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-dark-surface rounded-lg",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Os,{className:"w-4 h-4 text-primary-500"}),n.jsx("span",{className:"text-white",children:d.name})]}),n.jsx("button",{onClick:()=>u(void 0),className:"text-gray-400 hover:text-white",children:"Remove"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-medium mb-3",children:"Media"}),n.jsx(ih,{onFilesChange:S,multiple:!0,maxFiles:10,accept:{"image/*":[".jpeg",".jpg",".png",".gif",".webp"],"video/*":[".mp4",".webm",".mov"]}})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-dark-border",children:[n.jsx(Z,{variant:"ghost",onClick:t,disabled:p,children:"Cancel"}),n.jsx(Z,{onClick:N,loading:p,disabled:!a.trim()&&o.length===0||O<0,children:p?"Creating...":"Share Post"})]})]}),n.jsx($i,{isOpen:g,onClose:()=>C(!1),onComplete:$})]})}function ch(){const{username:e}=eo(),t=Ds(),{user:s}=re(),[r,a]=l.useState(null),[i,o]=l.useState([]),[c,d]=l.useState([]),[u,p]=l.useState(!0),[m,f]=l.useState(!1),[y,h]=l.useState(!0),[x,g]=l.useState(1),[C,b]=l.useState("posts"),[v,S]=l.useState(!1),[j,N]=l.useState(!1),[A,O]=l.useState(!1),$=l.useRef(null),_=l.useRef(null),w=!e||(s==null?void 0:s.username)===e,P=e||(s==null?void 0:s.username);l.useEffect(()=>{P&&D()},[P]),l.useEffect(()=>{r&&(C==="posts"||C==="reels")&&R()},[r,C]),l.useEffect(()=>{const T=new IntersectionObserver(K=>{K[0].isIntersecting&&y&&!m&&C==="posts"&&B()},{threshold:.1});return _.current&&T.observe(_.current),()=>T.disconnect()},[y,m,C]);const D=async()=>{try{p(!0);const T=await Le.getUserByUsername(P);a(T)}catch(T){console.error("Error loading user profile:",T),t("/404")}finally{p(!1)}},R=async()=>{if(r)try{if(f(!0),C==="posts"){const T=await Vt.getUserPosts(r._id,1,12);o(T.data.posts),h(T.data.pagination.hasNext),g(2)}else if(C==="reels"){const T=await Je.getUserReels(r._id,1,12);d(T.data.items)}}catch(T){console.error("Error loading user content:",T)}finally{f(!1)}},B=async()=>{if(!(!r||m))try{f(!0);const T=await Vt.getUserPosts(r._id,x,12);o(K=>[...K,...T.data]),h(T.pagination.hasNextPage),g(K=>K+1)}catch(T){console.error("Error loading more posts:",T)}finally{f(!1)}},L=(T,K)=>{a(W=>W?{...W,isFollowed:T,stats:{...W.stats,followersCount:K}}:null)},z=async()=>{if(r)try{const T=await Ce.getOrCreateDirectConversation(r._id);t(`/messages?conversation=${T._id}`)}catch(T){console.error("Error creating conversation:",T)}},I=async T=>{var W;const K=(W=T.target.files)==null?void 0:W[0];if(!(!K||!w))try{const{avatarUrl:ue}=await Le.updateAvatar(K);if(a(G=>G?{...G,profile:{...G.profile,avatar:ue}}:null),s&&r&&r._id===s._id){const{updateUser:G}=re.getState();G({...s,profile:{...s.profile,avatar:ue}})}}catch(ue){console.error("Error updating avatar:",ue)}},U=async T=>{try{const K=await Vt.createPost(T);o(W=>Array.isArray(W)?[K,...W]:[K]),a(W=>W?{...W,stats:{...W.stats,postsCount:W.stats.postsCount+1}}:null)}catch(K){throw console.error("Error creating post:",K),K}},le=async T=>{if(s)try{const{isLiked:K,likesCount:W}=await Vt.toggleLikePost(T);o(ue=>ue.map(G=>G._id===T?{...G,likes:K?[...G.likes,s._id]:G.likes.filter(ce=>ce!==s._id),stats:{...G.stats,likesCount:W}}:G))}catch(K){console.error("Error toggling like:",K)}},je=async(T,K)=>{try{const{comment:W,commentsCount:ue}=await Vt.addComment(T,K);return o(G=>G.map(ce=>ce._id===T?{...ce,comments:[...ce.comments||[],W],stats:{...ce.stats,commentsCount:ue}}:ce)),{comment:W,commentsCount:ue}}catch(W){throw console.error("Error adding comment:",W),W}};return u?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):r?n.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6 space-y-8",children:[n.jsx("div",{className:"bg-dark-surface/50 backdrop-blur-sm rounded-2xl p-6 border border-dark-border",children:n.jsxs("div",{className:"flex flex-col md:flex-row md:items-start space-y-6 md:space-y-0 md:space-x-8",children:[n.jsx("div",{className:"flex-shrink-0 mx-auto md:mx-0",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 rounded-full overflow-hidden bg-gradient-primary",children:r.profile.avatar?n.jsx("img",{src:r.profile.avatar,alt:`${r.username}'s avatar`,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-bold text-4xl",children:r.username[0].toUpperCase()})}),w&&n.jsx("button",{onClick:()=>{var T;return(T=$.current)==null?void 0:T.click()},className:"absolute bottom-2 right-2 w-10 h-10 bg-primary-500 hover:bg-primary-600 rounded-full flex items-center justify-center transition-colors",children:n.jsx(zd,{className:"w-5 h-5 text-white"})}),n.jsx("input",{ref:$,type:"file",accept:"image/*",onChange:I,className:"hidden"})]})}),n.jsxs("div",{className:"flex-1 text-center md:text-left",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 mb-6",children:[n.jsxs("div",{className:"flex items-center justify-center md:justify-start space-x-2",children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:r.username}),r.profile.isVerified&&n.jsx(Du,{className:"w-6 h-6 text-blue-500"})]}),n.jsx("div",{className:"flex items-center justify-center space-x-3",children:w?n.jsxs(n.Fragment,{children:[n.jsx(Z,{variant:"secondary",onClick:()=>t("/settings"),icon:n.jsx(ai,{className:"w-4 h-4"}),children:"Edit Profile"}),n.jsx(Z,{onClick:()=>S(!0),icon:n.jsx(Ts,{className:"w-4 h-4"}),children:"New Post"})]}):n.jsxs(n.Fragment,{children:[n.jsx(rn,{user:r,onFollowChange:L,size:"md",variant:"primary"}),n.jsx(Z,{variant:"secondary",onClick:z,icon:n.jsx(Qr,{className:"w-4 h-4"}),children:"Message"}),n.jsx(Z,{variant:"ghost",size:"sm",children:n.jsx(ii,{className:"w-5 h-5"})})]})})]}),n.jsxs("div",{className:"flex justify-center md:justify-start space-x-8 mb-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"font-bold text-white text-xl",children:r.stats.postsCount}),n.jsx("div",{className:"text-gray-400 text-sm",children:"posts"})]}),n.jsxs("button",{onClick:()=>N(!0),className:"text-center hover:opacity-75 transition-opacity",children:[n.jsx("div",{className:"font-bold text-white text-xl",children:r.stats.followersCount}),n.jsx("div",{className:"text-gray-400 text-sm",children:"followers"})]}),n.jsxs("button",{onClick:()=>O(!0),className:"text-center hover:opacity-75 transition-opacity",children:[n.jsx("div",{className:"font-bold text-white text-xl",children:r.stats.followingCount}),n.jsx("div",{className:"text-gray-400 text-sm",children:"following"})]})]}),n.jsxs("div",{className:"space-y-2",children:[r.profile.fullName&&n.jsx("p",{className:"font-medium text-white",children:r.profile.fullName}),r.profile.bio&&n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap",children:r.profile.bio}),r.profile.website&&n.jsx("a",{href:r.profile.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:text-primary-300 transition-colors",children:r.profile.website}),r.profile.location&&n.jsxs("p",{className:"text-gray-400 text-sm",children:[" ",r.profile.location]})]})]})]})}),n.jsxs("div",{className:"bg-dark-surface/50 backdrop-blur-sm rounded-2xl border border-dark-border overflow-hidden",children:[n.jsxs("div",{className:"flex border-b border-dark-border",children:[n.jsxs("button",{onClick:()=>b("posts"),className:ee("flex-1 flex items-center justify-center space-x-2 py-4 text-sm font-medium transition-colors",C==="posts"?"text-white border-b-2 border-primary-500":"text-gray-400 hover:text-gray-300"),children:[n.jsx(Nu,{className:"w-5 h-5"}),n.jsx("span",{children:"Posts"})]}),n.jsxs("button",{onClick:()=>b("reels"),className:ee("flex-1 flex items-center justify-center space-x-2 py-4 text-sm font-medium transition-colors",C==="reels"?"text-white border-b-2 border-primary-500":"text-gray-400 hover:text-gray-300"),children:[n.jsx(fu,{className:"w-5 h-5"}),n.jsx("span",{children:"Reels"})]}),w&&n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>b("saved"),className:ee("flex-1 flex items-center justify-center space-x-2 py-4 text-sm font-medium transition-colors",C==="saved"?"text-white border-b-2 border-primary-500":"text-gray-400 hover:text-gray-300"),children:[n.jsx(Kr,{className:"w-5 h-5"}),n.jsx("span",{children:"Saved"})]}),n.jsxs("button",{onClick:()=>b("tagged"),className:ee("flex-1 flex items-center justify-center space-x-2 py-4 text-sm font-medium transition-colors",C==="tagged"?"text-white border-b-2 border-primary-500":"text-gray-400 hover:text-gray-300"),children:[n.jsx(Ru,{className:"w-5 h-5"}),n.jsx("span",{children:"Tagged"})]})]})]}),n.jsxs("div",{className:"p-6",children:[C==="posts"&&n.jsx("div",{className:"space-y-6",children:i.length>0?n.jsxs(n.Fragment,{children:[i.map(T=>n.jsx(om,{post:T,onLike:le,onComment:je,currentUserId:s==null?void 0:s._id},T._id)),m&&n.jsx("div",{className:"flex justify-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-500"})}),y&&n.jsx("div",{ref:_,className:"h-4"})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:w?"Share your first photo":"No posts yet"}),n.jsx("p",{className:"text-gray-400 mb-6",children:w?"Start sharing moments with your followers.":`${r.username} hasn't shared any posts yet.`}),w&&n.jsx(Z,{onClick:()=>S(!0),icon:n.jsx(Ts,{className:"w-4 h-4"}),children:"Create Post"})]})}),C==="reels"&&n.jsx("div",{children:c.length>0?n.jsx("div",{className:"grid grid-cols-3 gap-1",children:c.map(T=>n.jsxs("div",{className:"aspect-[9/16] bg-black rounded-lg overflow-hidden relative cursor-pointer hover:scale-105 transition-transform",onClick:()=>t(`/reels/${T._id}`),children:[n.jsx("img",{src:T.thumbnailUrl||T.videoUrl,alt:"Reel thumbnail",className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:n.jsx(Qs,{className:"w-8 h-8 text-white"})}),n.jsxs("div",{className:"absolute bottom-2 left-2 text-white text-xs",children:[T.stats.viewsCount," views"]})]},T._id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:w?"Create your first reel":"No reels yet"}),n.jsx("p",{className:"text-gray-400",children:w?"Share short videos to engage with your audience.":`${r.username} hasn't shared any reels yet.`})]})}),(C==="saved"||C==="tagged")&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Coming soon"}),n.jsx("p",{className:"text-gray-400",children:"This feature will be available soon."})]})]})]}),n.jsx(lh,{isOpen:v,onClose:()=>S(!1),onCreatePost:U}),j&&n.jsx(Hn,{user:r,onClose:()=>N(!1),initialTab:"followers"}),A&&n.jsx(Hn,{user:r,onClose:()=>O(!1),initialTab:"following"})]}):n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"User not found"}),n.jsx("p",{className:"text-gray-400",children:"This user doesn't exist or has been deactivated."})]})})}function dh({reel:e,isActive:t,currentUserId:s,onLike:r,onComment:a,onShare:i,onSave:o,onUserClick:c,onMusicClick:d,className:u}){const p=l.useRef(null),[m,f]=l.useState(!1),[y,h]=l.useState(!0),[x,g]=l.useState(0),[C,b]=l.useState(s?e.likes.includes(s):!1),[v,S]=l.useState(s?e.saves.includes(s):!1);l.useEffect(()=>{const w=p.current;w&&(t?w.play().then(()=>{f(!0)}).catch(console.error):(w.pause(),f(!1)))},[t]),l.useEffect(()=>{const w=p.current;if(!w)return;const P=()=>{const D=w.currentTime/w.duration*100;g(D)};return w.addEventListener("timeupdate",P),()=>w.removeEventListener("timeupdate",P)},[]);const j=()=>{const w=p.current;w&&(m?(w.pause(),f(!1)):(w.play(),f(!0)))},N=()=>{const w=p.current;w&&(w.muted=!y,h(!y))},A=()=>{b(!C),r(e._id)},O=()=>{S(!v),o(e._id)},$=w=>w.replace(/#(\w+)/g,'<span class="text-primary-400 font-medium">#$1</span>'),_=w=>w.replace(/@(\w+)/g,'<span class="text-primary-400 font-medium">@$1</span>');return n.jsxs("div",{className:ee("relative w-full h-screen bg-black flex items-center justify-center overflow-hidden",u),children:[n.jsx("video",{ref:p,src:e.videoUrl,poster:e.thumbnailUrl,loop:!0,muted:y,className:"h-full w-full object-cover",onClick:j,onEnded:()=>f(!1),playsInline:!0}),n.jsx("div",{className:"absolute bottom-0 left-0 w-full h-1 bg-white/20",children:n.jsx("div",{className:"h-full bg-white transition-all duration-100",style:{width:`${x}%`}})}),!m&&n.jsx("button",{onClick:j,className:"absolute inset-0 flex items-center justify-center bg-black/20 transition-opacity duration-200",children:n.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center",children:n.jsx(Qs,{className:"w-10 h-10 text-white ml-1"})})}),n.jsxs("div",{className:"absolute left-4 bottom-20 right-20 z-10",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsxs("button",{onClick:()=>c(e.author.username),className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[n.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gradient-primary",children:e.author.profile.avatar?n.jsx("img",{src:e.author.profile.avatar,alt:`${e.author.username}'s avatar`,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-bold text-lg",children:e.author.username[0].toUpperCase()})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:"text-white font-bold text-lg",children:e.author.username}),e.author.profile.isVerified&&n.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),e.location&&n.jsx("p",{className:"text-white/80 text-sm",children:e.location.name})]})]}),n.jsx("button",{className:"px-6 py-2 border border-white text-white font-medium rounded-full text-sm hover:bg-white hover:text-black transition-colors",children:"Follow"})]}),e.caption&&n.jsx("div",{className:"mb-4",children:n.jsx("p",{className:"text-white text-lg leading-relaxed",dangerouslySetInnerHTML:{__html:_($(e.caption))}})}),e.music&&n.jsxs("button",{onClick:()=>d==null?void 0:d(e.music),className:"flex items-center space-x-2 hover:opacity-80 transition-opacity mb-4",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-primary rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM15.657 6.343a1 1 0 011.414 0A9.972 9.972 0 0119 12a9.972 9.972 0 01-1.929 5.657 1 1 0 11-1.414-1.414A7.971 7.971 0 0017 12c0-2.21-.895-4.21-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 12a5.983 5.983 0 01-.757 2.828 1 1 0 01-1.415-1.414A3.987 3.987 0 0013 12a3.987 3.987 0 00-.172-1.414 1 1 0 010-1.415z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"text-left",children:[n.jsx("p",{className:"text-white font-medium text-sm",children:e.music.name}),n.jsx("p",{className:"text-white/60 text-xs",children:e.music.artist})]})]})]}),n.jsxs("div",{className:"absolute right-4 bottom-20 flex flex-col items-center space-y-6 z-10",children:[n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("button",{onClick:A,className:ee("w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 transform hover:scale-110",C?"bg-red-500 text-white":"bg-white/20 backdrop-blur-sm text-white hover:bg-white/30"),children:C?n.jsx(Yr,{className:"w-7 h-7"}):n.jsx(Zr,{className:"w-7 h-7"})}),e.stats.likesCount>0&&n.jsx("span",{className:"text-white text-sm font-medium mt-1",children:e.stats.likesCount>999?`${(e.stats.likesCount/1e3).toFixed(1)}k`:e.stats.likesCount})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("button",{onClick:()=>a(e._id,"hello"),className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 transform hover:scale-110",children:n.jsx(Qr,{className:"w-7 h-7"})}),e.stats.commentsCount>0&&n.jsx("span",{className:"text-white text-sm font-medium mt-1",children:e.stats.commentsCount>999?`${(e.stats.commentsCount/1e3).toFixed(1)}k`:e.stats.commentsCount})]}),n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsx("button",{onClick:()=>i(e._id),className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 transform hover:scale-110",children:n.jsx(li,{className:"w-7 h-7"})}),e.stats.sharesCount>0&&n.jsx("span",{className:"text-white text-sm font-medium mt-1",children:e.stats.sharesCount>999?`${(e.stats.sharesCount/1e3).toFixed(1)}k`:e.stats.sharesCount})]}),n.jsx("div",{className:"flex flex-col items-center",children:n.jsx("button",{onClick:O,className:ee("w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300 transform hover:scale-110",v?"bg-primary-500 text-white":"bg-white/20 backdrop-blur-sm text-white hover:bg-white/30"),children:v?n.jsx(di,{className:"w-7 h-7"}):n.jsx(Kr,{className:"w-7 h-7"})})}),n.jsx("button",{className:"w-12 h-12 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-white/30 transition-all duration-300 transform hover:scale-110",children:n.jsx(Xd,{className:"w-7 h-7"})}),n.jsx("button",{onClick:()=>c(e.author.username),className:"w-12 h-12 rounded-full overflow-hidden border-2 border-white",children:e.author.profile.avatar?n.jsx("img",{src:e.author.profile.avatar,alt:`${e.author.username}'s avatar`,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-gradient-primary flex items-center justify-center text-white font-bold",children:e.author.username[0].toUpperCase()})})]}),n.jsx("div",{className:"absolute top-6 right-4 flex items-center space-x-4 z-10",children:n.jsx("button",{onClick:N,className:"w-10 h-10 bg-black/30 backdrop-blur-sm rounded-full flex items-center justify-center text-white hover:bg-black/50 transition-colors",children:y?n.jsx(ju,{className:"w-6 h-6"}):n.jsx(bu,{className:"w-6 h-6"})})})]})}function uh({isOpen:e,onClose:t,onCreateReel:s}){const{user:r,updateUser:a}=re(),i=l.useRef(null),[o,c]=l.useState(!1),[d,u]=l.useState(!0),[p,m]=l.useState(!1),[f,y]=l.useState(null),[h,x]=l.useState(""),[g,C]=l.useState(""),[b,v]=l.useState(),[S,j]=l.useState(),[N,A]=l.useState(!0),[O,$]=l.useState(!0),[_,w]=l.useState(!1),[P,D]=l.useState(!1),[R,B]=l.useState(!1),[L,z]=l.useState(""),[I,U]=l.useState(!1),[le,je]=l.useState(""),[T,K]=l.useState("");l.useEffect(()=>{e&&r&&W()},[e,r]);const W=async()=>{if(r){m(!0);try{const Q=await Le.getProfileCompletionStatus();u(Q.isComplete),Q.isComplete||c(!0)}catch(Q){console.error("Failed to check profile completion:",Q),u(!0)}finally{m(!1)}}},ue=Q=>{var Ue;const ke=(Ue=Q.target.files)==null?void 0:Ue[0];if(!ke)return;if(!ke.type.startsWith("video/")){alert("Please select a video file");return}if(ke.size>100*1024*1024){alert("Video file too large. Maximum size is 100MB");return}const Te=document.createElement("video");Te.src=URL.createObjectURL(ke),Te.onloadedmetadata=()=>{if(Te.duration>60){alert("Video too long. Maximum duration is 60 seconds"),URL.revokeObjectURL(Te.src);return}y(ke),x(Te.src)}},G=()=>{h&&URL.revokeObjectURL(h),y(null),x(""),i.current&&(i.current.value="")},ce=Q=>{const ke=(Q.match(/#(\w+)/g)||[]).map(Ue=>Ue.slice(1).toLowerCase()),Te=(Q.match(/@(\w+)/g)||[]).map(Ue=>Ue.slice(1).toLowerCase());return{hashtags:ke,mentions:Te}},at=()=>{L.trim()&&(j({name:L.trim()}),B(!1),z(""))},cs=()=>{le.trim()&&T.trim()&&(v({name:le.trim(),artist:T.trim()}),U(!1),je(""),K(""))},bt=async()=>{if(!(!f||!d)){D(!0);try{const{hashtags:Q,mentions:ke}=ce(g);await s({video:f,caption:g.trim(),music:b,location:S,hashtags:Q,mentions:ke,allowDuet:N,allowRemix:O,commentsDisabled:_}),G(),C(""),v(void 0),j(void 0),A(!0),$(!0),w(!1),t()}catch(Q){console.error("Error creating reel:",Q)}finally{D(!1)}}},Ie=2200-g.length;return n.jsxs(yt,{isOpen:e,onClose:t,title:"Create Reel",size:"lg",className:"max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"space-y-6",children:[r&&n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gradient-primary",children:r.profile.avatar?n.jsx("img",{src:r.profile.avatar,alt:"Your avatar",className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-medium",children:r.username[0].toUpperCase()})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-white",children:r.username}),r.profile.fullName&&n.jsx("p",{className:"text-sm text-gray-400",children:r.profile.fullName})]})]}),!d&&!p&&n.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/30 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx(oi,{className:"w-6 h-6 text-yellow-500 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"text-yellow-200 font-medium mb-1",children:"Complete Your Profile"}),n.jsx("p",{className:"text-yellow-300/80 text-sm mb-3",children:"You need to complete your profile before creating reels. Please add your full name and any other required information."}),n.jsx(Z,{size:"sm",onClick:()=>c(!0),className:"bg-yellow-600 hover:bg-yellow-700 text-white border-0",children:"Complete Profile"})]})]})}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-white font-medium mb-3",children:"Video"}),f?n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"aspect-[9/16] max-w-xs mx-auto bg-black rounded-xl overflow-hidden",children:n.jsx("video",{src:h,controls:!0,className:"w-full h-full object-cover"})}),n.jsx("button",{onClick:G,className:"absolute top-2 right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center transition-colors",children:n.jsx(ls,{className:"w-5 h-5"})})]}):n.jsxs("div",{onClick:()=>{var Q;return(Q=i.current)==null?void 0:Q.click()},className:"border-2 border-dashed border-dark-border hover:border-primary-500/50 rounded-xl p-8 text-center cursor-pointer transition-colors",children:[n.jsx(Lu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),n.jsx("p",{className:"text-white font-medium mb-1",children:"Upload a video"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"MP4, WebM, MOV up to 100MB"}),n.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"Maximum 60 seconds"})]}),n.jsx("input",{ref:i,type:"file",accept:"video/*",onChange:ue,className:"hidden"})]}),n.jsxs("div",{children:[n.jsx(zt,{label:"Caption",placeholder:"Describe your reel...",value:g,onChange:Q=>C(Q.target.value),rows:3,maxLength:2200,fullWidth:!0,variant:"glass",className:"resize-none"}),n.jsxs("div",{className:"flex justify-between items-center mt-2",children:[n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ci,{className:"w-4 h-4"}),n.jsx("span",{children:"Use #hashtags"})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ni,{className:"w-4 h-4"}),n.jsx("span",{children:"Tag @friends"})]})]}),n.jsx("span",{className:ee("text-sm",Ie<100?"text-yellow-400":Ie<0?"text-red-400":"text-gray-400"),children:Ie})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-white font-medium",children:"Music"}),n.jsxs("button",{onClick:()=>U(!I),className:"flex items-center space-x-1 text-primary-500 hover:text-primary-400 text-sm transition-colors",children:[n.jsx(Mn,{className:"w-4 h-4"}),n.jsx("span",{children:"Add music"})]})]}),b&&n.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-dark-surface rounded-lg mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Mn,{className:"w-4 h-4 text-primary-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-white text-sm font-medium",children:b.name}),n.jsx("p",{className:"text-gray-400 text-xs",children:b.artist})]})]}),n.jsx("button",{onClick:()=>v(void 0),className:"text-gray-400 hover:text-white",children:"Remove"})]}),I&&n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsx("input",{type:"text",placeholder:"Song name",value:le,onChange:Q=>je(Q.target.value),className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500"}),n.jsx("input",{type:"text",placeholder:"Artist name",value:T,onChange:Q=>K(Q.target.value),className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Z,{size:"sm",onClick:cs,children:"Add"}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{U(!1),je(""),K("")},children:"Cancel"})]})]})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h4",{className:"text-white font-medium",children:"Location"}),n.jsxs("button",{onClick:()=>B(!R),className:"flex items-center space-x-1 text-primary-500 hover:text-primary-400 text-sm transition-colors",children:[n.jsx(Os,{className:"w-4 h-4"}),n.jsx("span",{children:"Add location"})]})]}),S&&n.jsxs("div",{className:"flex items-center justify-between px-3 py-2 bg-dark-surface rounded-lg mb-2",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Os,{className:"w-4 h-4 text-primary-500"}),n.jsx("span",{className:"text-white",children:S.name})]}),n.jsx("button",{onClick:()=>j(void 0),className:"text-gray-400 hover:text-white",children:"Remove"})]}),R&&n.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[n.jsx("input",{type:"text",placeholder:"Enter location name",value:L,onChange:Q=>z(Q.target.value),className:"flex-1 px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary-500",onKeyPress:Q=>Q.key==="Enter"&&at()}),n.jsx(Z,{size:"sm",onClick:at,children:"Add"}),n.jsx(Z,{variant:"ghost",size:"sm",onClick:()=>{B(!1),z("")},children:"Cancel"})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h4",{className:"text-white font-medium",children:"Privacy & Settings"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-300",children:"Allow Duets"}),n.jsx("input",{type:"checkbox",checked:N,onChange:Q=>A(Q.target.checked),className:"w-5 h-5 text-primary-500 bg-dark-surface border-dark-border rounded focus:ring-primary-500 focus:ring-2"})]}),n.jsxs("label",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-300",children:"Allow Remixes"}),n.jsx("input",{type:"checkbox",checked:O,onChange:Q=>$(Q.target.checked),className:"w-5 h-5 text-primary-500 bg-dark-surface border-dark-border rounded focus:ring-primary-500 focus:ring-2"})]}),n.jsxs("label",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"text-gray-300",children:"Disable Comments"}),n.jsx("input",{type:"checkbox",checked:_,onChange:Q=>w(Q.target.checked),className:"w-5 h-5 text-primary-500 bg-dark-surface border-dark-border rounded focus:ring-primary-500 focus:ring-2"})]})]})]}),n.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-dark-border",children:[n.jsx(Z,{variant:"ghost",onClick:t,disabled:P,children:"Cancel"}),n.jsx(Z,{onClick:bt,loading:P,disabled:!f||Ie<0||!d,children:P?"Creating...":"Share Reel"})]})]}),n.jsx($i,{isOpen:o,onClose:()=>c(!1),onComplete:()=>{}})]})}function ph(){const{user:e}=re(),[t,s]=l.useState([]),[r,a]=l.useState(0),[i,o]=l.useState(!0),[c,d]=l.useState(!1),[u,p]=l.useState(!0),[m,f]=l.useState(1),[y,h]=l.useState(!1),x=l.useRef(null),g=l.useRef(null);l.useEffect(()=>{C()},[]),l.useEffect(()=>{const _=new IntersectionObserver(w=>{w[0].isIntersecting&&u&&!c&&b()},{threshold:.1});return g.current&&_.observe(g.current),()=>_.disconnect()},[u,c]),l.useEffect(()=>{const _=new IntersectionObserver(P=>{P.forEach(D=>{if(D.isIntersecting){const R=parseInt(D.target.getAttribute("data-reel-index")||"0");a(R)}})},{threshold:.5});return document.querySelectorAll("[data-reel-index]").forEach(P=>_.observe(P)),()=>_.disconnect()},[t]);const C=async()=>{try{o(!0);const _=await Je.getReelsFeed(1,10);s(_.data.items),p(_.data.pagination.hasNext),f(2)}catch(_){console.error("Error loading reels:",_)}finally{o(!1)}},b=async()=>{try{d(!0);const _=await Je.getReelsFeed(m,10);s(w=>[...w,..._.data.items]),p(_.data.pagination.hasNext),f(w=>w+1)}catch(_){console.error("Error loading more reels:",_)}finally{d(!1)}},v=async _=>{try{const w=await Je.createReel(_);s(P=>[w,...P])}catch(w){throw console.error("Error creating reel:",w),w}},S=async _=>{try{const{isLiked:w,likesCount:P}=await Je.toggleLikeReel(_);s(D=>D.map(R=>R._id===_?{...R,likes:w?[...R.likes,e._id]:R.likes.filter(B=>B!==e._id),stats:{...R.stats,likesCount:P}}:R))}catch(w){console.error("Error toggling like:",w)}},j=async _=>{try{const{isSaved:w,savesCount:P}=await Je.toggleSaveReel(_);s(D=>D.map(R=>R._id===_?{...R,saves:w?[...R.saves,e._id]:R.saves.filter(B=>B!==e._id),stats:{...R.stats,savesCount:P}}:R))}catch(w){console.error("Error toggling save:",w)}},N=async _=>{try{const{sharesCount:w}=await Je.shareReel(_);s(P=>P.map(D=>D._id===_?{...D,stats:{...D.stats,sharesCount:w}}:D))}catch(w){console.error("Error sharing reel:",w)}},A=async(_,w)=>{try{const{comment:P,commentsCount:D}=await Je.addComment(_,w);s(R=>R.map(B=>B._id===_?{...B,comments:[...B.comments,P],stats:{...B.stats,commentsCount:D}}:B))}catch(P){throw console.error("Error adding comment:",P),P}},O=_=>{const w=x.current;if(w){const P=_*window.innerHeight;w.scrollTo({top:P,behavior:"smooth"})}},$=l.useCallback(_=>{_.key==="ArrowDown"&&r<t.length-1?O(r+1):_.key==="ArrowUp"&&r>0&&O(r-1)},[r,t.length]);return l.useEffect(()=>(window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)),[$]),i?n.jsx("div",{className:"flex items-center justify-center h-screen bg-black",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):n.jsxs("div",{className:"relative",children:[n.jsxs("div",{ref:x,className:"h-screen overflow-y-auto snap-y snap-mandatory scrollbar-hide bg-black",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[t.map((_,w)=>n.jsx("div",{"data-reel-index":w,className:"h-screen snap-start relative",children:n.jsx(dh,{reel:_,isActive:w===r,onLike:S,onSave:j,onShare:N,onComment:A,currentUserId:e==null?void 0:e._id,className:"h-full",onUserClick:P=>{console.log("User clicked:",P)}})},_._id)),c&&n.jsx("div",{className:"h-screen flex items-center justify-center bg-black",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}),u&&n.jsx("div",{ref:g,className:"h-4"})]}),e&&n.jsx("div",{className:"fixed bottom-20 right-4 z-50",children:n.jsx(Z,{onClick:()=>h(!0),className:"w-14 h-14 rounded-full bg-primary-500 hover:bg-primary-600 shadow-lg",icon:n.jsx(Ts,{className:"w-6 h-6"})})}),t.length===0&&!i&&n.jsx("div",{className:"h-screen flex flex-col items-center justify-center bg-black text-white px-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl mb-6",children:""}),n.jsx("h2",{className:"text-2xl font-bold mb-4",children:"No Reels Yet"}),n.jsx("p",{className:"text-gray-400 mb-8 max-w-sm",children:"Be the first to share a reel! Create engaging short videos to connect with others."}),e&&n.jsx(Z,{onClick:()=>h(!0),icon:n.jsx(Ts,{className:"w-5 h-5"}),size:"lg",children:"Create Your First Reel"})]})}),n.jsx(uh,{isOpen:y,onClose:()=>h(!1),onCreateReel:v})]})}function sa({selectedConversationId:e,onSelectConversation:t,onNewConversation:s}){const[r,a]=l.useState([]),[i,o]=l.useState(!0),[c,d]=l.useState(null),[u,p]=l.useState(""),{user:m}=re();l.useEffect(()=>{f()},[]),l.useEffect(()=>{const v=te.onNewMessage(A=>{a(O=>(Array.isArray(O)?O:[]).map(_=>_._id===A.conversationId?{..._,lastMessage:A.message,lastActivity:A.timestamp}:_))});let S;const j=()=>{S=setInterval(async()=>{if(!te.isSocketConnected()&&!i)try{const A=await Ce.getConversations(1,50);A&&typeof A=="object"&&Array.isArray(A.data)?a(A.data):console.warn("Polling returned invalid conversations data:",A)}catch(A){console.warn("Polling failed:",A)}},1e4)},N=setTimeout(()=>{te.isSocketConnected()||j()},5e3);return()=>{v(),clearTimeout(N),S&&clearInterval(S)}},[i]);const f=async()=>{try{o(!0);const v=await Ce.getConversations(1,50);if(v&&typeof v=="object"){const S=v.data;Array.isArray(S)?a(S):(console.warn("API returned non-array data for conversations:",S),a([]))}else console.warn("Invalid API response structure:",v),a([])}catch(v){console.error("Failed to load conversations:",v),d(v.message||"Failed to load conversations"),a([])}finally{o(!1)}},y=v=>{var j;if(v.conversationType==="group")return((j=v.groupInfo)==null?void 0:j.name)||"Group Chat";const S=v.participants.find(N=>N._id!==(m==null?void 0:m._id));return(S==null?void 0:S.profile.fullName)||(S==null?void 0:S.username)||"Unknown User"},h=v=>{var j;if(v.conversationType==="group")return(j=v.groupInfo)==null?void 0:j.avatar;const S=v.participants.find(N=>N._id!==(m==null?void 0:m._id));return S==null?void 0:S.profile.avatar},x=v=>{const S=new Date(v),N=(new Date().getTime()-S.getTime())/(1e3*60*60);return N<24?S.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):N<168?S.toLocaleDateString([],{weekday:"short"}):S.toLocaleDateString([],{month:"short",day:"numeric"})},g=v=>{if(!v.lastMessage)return"No messages yet";const S=v.lastMessage,j=S.sender._id===(m==null?void 0:m._id)?"You":S.sender.username;if(S.media){const N=S.media.type;return`${j}: ${N==="image"?" Photo":" Video"}`}if(S.content){const N=S.content.length>50?`${S.content.substring(0,50)}...`:S.content;return`${j}: ${N}`}return`${j}: Message`},b=(Array.isArray(r)?r:[]).filter(v=>y(v).toLowerCase().includes(u.toLowerCase()));return i?n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading conversations..."})]})}):c?n.jsx("div",{className:"h-full flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-red-600 mb-4",children:c}),n.jsx("button",{onClick:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Try Again"})]})}):n.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-800",children:[n.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center justify-between mb-3",children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Messages"}),n.jsx("button",{onClick:s,className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors",title:"New message",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search conversations...",value:u,onChange:v=>p(v.target.value),className:`w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg 
                     bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white
                     focus:ring-2 focus:ring-blue-500 focus:border-transparent`}),n.jsx("svg",{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:b.length===0?n.jsxs("div",{className:"p-8 text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:u?"No conversations found":"No messages yet"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:u?"Try adjusting your search terms":"Start a conversation with your friends!"}),!u&&n.jsx("button",{onClick:s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Send your first message"})]}):n.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:b.map(v=>{const S=v._id===e,j=y(v),N=h(v),A=g(v),O=x(v.lastActivity);return n.jsxs("button",{onClick:()=>t(v),className:`w-full p-4 flex items-center space-x-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left ${S?"bg-blue-50 dark:bg-blue-900/20 border-r-2 border-blue-600":""}`,children:[n.jsx("div",{className:"flex-shrink-0",children:N?n.jsx("img",{src:N,alt:j,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-semibold text-gray-600 dark:text-gray-300",children:j.charAt(0).toUpperCase()})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:j}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0 ml-2",children:O})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate",children:A})]}),v.lastMessage&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full"})})]},v._id)})})})]})}const mh=["","","","","",""];function hh({message:e,isOwn:t,showAvatar:s,onEdit:r,onDelete:a,onReaction:i}){const[o,c]=l.useState(!1),[d,u]=l.useState(!1),[p,m]=l.useState(!1),[f,y]=l.useState(e.content||""),h=v=>new Date(v).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),x=()=>{f.trim()&&f!==e.content&&r(e._id,f.trim()),m(!1)},g=v=>{v.key==="Enter"&&!v.shiftKey?(v.preventDefault(),x()):v.key==="Escape"&&(m(!1),y(e.content||""))},C=v=>{i(e._id,v),u(!1)},b=()=>e.isDeleted?n.jsx("div",{className:"italic text-gray-500 dark:text-gray-400",children:"This message was deleted"}):p?n.jsxs("div",{className:"space-y-2",children:[n.jsx("textarea",{value:f,onChange:v=>y(v.target.value),onKeyPress:g,className:`w-full p-2 border border-gray-300 dark:border-gray-600 rounded-lg 
                     bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                     focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none`,rows:Math.min(f.split(`
`).length+1,5),autoFocus:!0}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{onClick:()=>{m(!1),y(e.content||"")},className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-white",children:"Cancel"}),n.jsx("button",{onClick:x,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save"})]})]}):n.jsxs("div",{className:"space-y-2",children:[e.replyTo&&n.jsxs("div",{className:"p-2 bg-gray-100 dark:bg-gray-600 rounded border-l-2 border-blue-500 text-sm",children:[n.jsxs("p",{className:"text-gray-600 dark:text-gray-300 font-medium",children:["Replying to ",e.replyTo.sender.username]}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 truncate",children:e.replyTo.content})]}),e.media&&n.jsx("div",{className:"rounded-lg overflow-hidden max-w-sm",children:e.media.type==="image"?n.jsx("img",{src:e.media.url,alt:"Shared image",className:"w-full h-auto"}):e.media.type==="video"?n.jsx("video",{src:e.media.url,controls:!0,className:"w-full h-auto",poster:e.media.thumbnail,children:"Your browser does not support video playback."}):n.jsxs("div",{className:"p-3 bg-gray-100 dark:bg-gray-600 rounded-lg",children:[n.jsx("p",{className:"font-medium",children:e.media.name}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.media.mimeType})]})}),e.content&&n.jsxs("div",{className:"whitespace-pre-wrap break-words",children:[e.content,e.isEdited&&n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:"(edited)"})]}),e.reactions.length>0&&n.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.reactions.reduce((v,S)=>{const j=v.find(N=>N.emoji===S.emoji);return j?(j.count++,j.users.push(S.user)):v.push({emoji:S.emoji,count:1,users:[S.user]}),v},[]).map((v,S)=>n.jsxs("button",{onClick:()=>C(v.emoji),className:`px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-sm 
                         hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors`,title:`${v.users.map(j=>j.username).join(", ")}`,children:[v.emoji," ",v.count]},S))})]});return n.jsxs("div",{className:`flex items-end space-x-2 ${t?"flex-row-reverse space-x-reverse":""}`,onMouseEnter:()=>c(!0),onMouseLeave:()=>{c(!1),u(!1)},children:[s&&!t&&n.jsx("div",{className:"flex-shrink-0 mb-1",children:e.sender.profile.avatar?n.jsx("img",{src:e.sender.profile.avatar,alt:e.sender.username,className:"w-8 h-8 rounded-full object-cover"}):n.jsx("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-semibold text-gray-600 dark:text-gray-300",children:e.sender.username.charAt(0).toUpperCase()})})}),n.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg xl:max-w-xl ${s||t?"":"ml-10"}`,children:[!t&&s&&n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1 px-3",children:e.sender.profile.fullName||e.sender.username}),n.jsxs("div",{className:`relative p-3 rounded-2xl ${t?"bg-blue-600 text-white ml-auto":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"} ${o?"ring-1 ring-gray-300 dark:ring-gray-600":""}`,children:[b(),o&&!p&&n.jsxs("div",{className:`absolute top-0 flex space-x-1 ${t?"-left-20":"-right-20"}`,children:[n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>u(!d),className:`p-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 
                           rounded-full shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700`,children:n.jsx("span",{className:"text-sm",children:""})}),d&&n.jsx("div",{className:`absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 
                                bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 
                                rounded-lg shadow-lg p-2 flex space-x-1 z-10`,children:mh.map(v=>n.jsx("button",{onClick:()=>C(v),className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:v},v))})]}),t&&e.messageType==="text"&&!e.isDeleted&&n.jsx("button",{onClick:()=>m(!0),className:`p-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 
                           rounded-full shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700`,title:"Edit message",children:n.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),n.jsx("button",{onClick:()=>a(e._id,t?"everyone":"me"),className:`p-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 
                         rounded-full shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700`,title:t?"Delete for everyone":"Delete for me",children:n.jsx("svg",{className:"w-3 h-3 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),n.jsx("p",{className:`text-xs text-gray-500 dark:text-gray-400 mt-1 px-3 ${t?"text-right":"text-left"}`,children:h(e.createdAt)})]})]})}function fh({onSendMessage:e,onTyping:t,disabled:s=!1,replyTo:r,onCancelReply:a}){const[i,o]=l.useState(""),[c,d]=l.useState(null),[u,p]=l.useState(null),[m,f]=l.useState(!1),y=l.useRef(null),h=l.useRef(null),x=l.useRef(null),g=N=>{o(N),N.trim()&&!m&&(f(!0),t(!0)),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{f(!1),t(!1)},1e3),y.current&&(y.current.style.height="auto",y.current.style.height=`${Math.min(y.current.scrollHeight,120)}px`)},C=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),S())},b=N=>{var O;const A=(O=N.target.files)==null?void 0:O[0];if(A){if(!["image/jpeg","image/png","image/gif","video/mp4","video/webm"].includes(A.type)){alert("Please select an image or video file");return}if(A.size>50*1024*1024){alert("File size must be less than 50MB");return}d(A);const _=URL.createObjectURL(A);p(_)}},v=()=>{u&&URL.revokeObjectURL(u),d(null),p(null),h.current&&(h.current.value="")},S=async()=>{const N=i.trim();if(!(!N&&!c||s))try{await e(N,c||void 0,r),o(""),d(null),p(null),f(!1),t(!1),h.current&&(h.current.value=""),y.current&&(y.current.style.height="auto"),a&&a()}catch(A){console.error("Failed to send message:",A)}},j=()=>!c||!u?null:n.jsxs("div",{className:"relative inline-block m-2",children:[c.type.startsWith("image/")?n.jsx("img",{src:u,alt:"Preview",className:"max-w-xs max-h-32 rounded-lg object-cover"}):n.jsx("video",{src:u,className:"max-w-xs max-h-32 rounded-lg",controls:!0,children:"Your browser does not support video playback."}),n.jsx("button",{onClick:v,className:`absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full 
                   hover:bg-red-600 flex items-center justify-center text-sm`,children:""})]});return n.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[r&&n.jsx("div",{className:"p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-750",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Replying to ",n.jsx("span",{className:"font-semibold",children:r.sender.username})]}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:r.content||(r.media?"Media message":"Message")})]}),a&&n.jsx("button",{onClick:a,className:"p-1 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),j(),n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-end space-x-3",children:[n.jsx("button",{onClick:()=>{var N;return(N=h.current)==null?void 0:N.click()},disabled:s,className:`flex-shrink-0 p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 
                     dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 
                     rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,title:"Attach file",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})})}),n.jsx("input",{ref:h,type:"file",accept:"image/*,video/*",onChange:b,className:"hidden"}),n.jsx("div",{className:"flex-1",children:n.jsx("textarea",{ref:y,value:i,onChange:N=>g(N.target.value),onKeyPress:C,placeholder:"Type a message...",disabled:s,rows:1,className:`w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-2xl 
                       bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white
                       focus:ring-2 focus:ring-blue-500 focus:border-transparent
                       disabled:opacity-50 disabled:cursor-not-allowed
                       resize-none overflow-hidden`,style:{minHeight:"40px",maxHeight:"120px"}})}),n.jsx("button",{onClick:S,disabled:s||!i.trim()&&!c,className:`flex-shrink-0 p-2 bg-blue-600 text-white rounded-full 
                     hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed 
                     disabled:hover:bg-blue-600 transition-colors`,title:"Send message",children:s?n.jsx("div",{className:"w-5 h-5 animate-spin rounded-full border-2 border-white border-t-transparent"}):n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]})}function ra({conversation:e,onClose:t}){const[s,r]=l.useState([]),[a,i]=l.useState(!0),[o,c]=l.useState(!1),[d,u]=l.useState(null),[p,m]=l.useState(!0),[f,y]=l.useState(!1),[h,x]=l.useState([]),g=l.useRef(null),C=l.useRef(null),{user:b}=re(),v=l.useRef(1);l.useEffect(()=>(S(),N(),te.joinConversation(e._id),()=>{te.leaveConversation(e._id)}),[e._id]),l.useEffect(()=>{A()},[s]),l.useEffect(()=>{const L=te.onNewMessage(T=>{T.conversationId===e._id&&(r(K=>[...K,T.message]),setTimeout(()=>N(),100))}),z=te.onTyping(T=>{T.userId!==(b==null?void 0:b._id)&&(x(K=>K.includes(T.username)?K:[...K,T.username]),setTimeout(()=>{x(K=>K.filter(W=>W!==T.username))},3e3))}),I=te.onReaction(T=>{T.conversationId===e._id&&r(K=>K.map(W=>W._id===T.messageId?{...W,reactions:[...W.reactions,{...T.reaction,user:{_id:T.reaction.user.userId,username:T.reaction.user.username,profile:{avatar:T.reaction.user.avatar}}}]}:W))});let U;const le=()=>{U=setInterval(async()=>{if(!te.isSocketConnected()&&!a)try{const K=(await Ce.getConversationMessages(e._id,1,20)).data||[];r(W=>{const ue=new Set(W.map(ce=>ce._id)),G=K.filter(ce=>!ue.has(ce._id));return G.length>0?[...W,...G].sort((ce,at)=>new Date(ce.createdAt).getTime()-new Date(at.createdAt).getTime()):W})}catch(T){console.warn("Message polling failed:",T)}},5e3)},je=setTimeout(()=>{te.isSocketConnected()||le()},3e3);return()=>{L(),z(),I(),clearTimeout(je),U&&clearInterval(U)}},[e._id,b==null?void 0:b._id,a]);const S=async(L=1)=>{var z;try{L===1?i(!0):y(!0);const I=await Ce.getConversationMessages(e._id,L,50),U=I.data||[];r(L===1?U.reverse():le=>[...Array.isArray(U)?U.slice().reverse():[],...le]),m(((z=I.pagination)==null?void 0:z.hasNext)||!1),v.current=L}catch(I){u(I.message||"Failed to load messages")}finally{i(!1),y(!1)}},j=()=>{!f&&p&&S(v.current+1)},N=async()=>{try{await Ce.markMessagesAsRead(e._id)}catch(L){console.error("Failed to mark messages as read:",L)}},A=()=>{var L;(L=C.current)==null||L.scrollIntoView({behavior:"smooth"})},O=async(L,z,I)=>{if(!(!(L!=null&&L.trim())&&!z||o))try{c(!0);const U={content:L==null?void 0:L.trim(),media:z,replyToMessageId:I==null?void 0:I._id},le=await Ce.sendMessage(e._id,U);r(je=>[...je,le]),te.sendMessage({conversationId:e._id,content:(L==null?void 0:L.trim())||"",messageId:le._id}),A()}catch(U){console.error("Failed to send message:",U),u(U.message||"Failed to send message")}finally{c(!1)}},$=L=>{L?te.startTyping(e._id):te.stopTyping(e._id)},_=async(L,z)=>{try{const I=await Ce.editMessage(L,z);r(U=>U.map(le=>le._id===L?I:le))}catch(I){console.error("Failed to edit message:",I)}},w=async(L,z)=>{try{await Ce.deleteMessage(L,z),r(z==="everyone"?I=>I.map(U=>U._id===L?{...U,isDeleted:!0,content:"This message was deleted"}:U):I=>I.filter(U=>U._id!==L))}catch(I){console.error("Failed to delete message:",I)}},P=async(L,z)=>{try{await Ce.addReaction(L,z)}catch(I){console.error("Failed to add reaction:",I)}},D=()=>{var z;if(e.conversationType==="group")return((z=e.groupInfo)==null?void 0:z.name)||"Group Chat";const L=e.participants.find(I=>I._id!==(b==null?void 0:b._id));return(L==null?void 0:L.profile.fullName)||(L==null?void 0:L.username)||"Unknown User"},R=()=>{var z;if(e.conversationType==="group")return(z=e.groupInfo)==null?void 0:z.avatar;const L=e.participants.find(I=>I._id!==(b==null?void 0:b._id));return L==null?void 0:L.profile.avatar},B=()=>{const L=g.current;L&&L.scrollTop===0&&p&&!f&&j()};return a?n.jsx("div",{className:"h-full flex items-center justify-center bg-white dark:bg-gray-800",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading messages..."})]})}):n.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-gray-800",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[t&&n.jsx("button",{onClick:t,className:"md:hidden p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsx("div",{className:"flex-shrink-0",children:R()?n.jsx("img",{src:R(),alt:D(),className:"w-10 h-10 rounded-full object-cover"}):n.jsx("div",{className:"w-10 h-10 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-300",children:D().charAt(0).toUpperCase()})})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:D()}),!te.isSocketConnected()&&n.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full",title:"Limited real-time features"})]}),h.length>0&&n.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:[h.join(", ")," ",h.length===1?"is":"are"," typing..."]})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})})})]}),n.jsxs("div",{ref:g,className:"flex-1 overflow-y-auto p-4 space-y-4",onScroll:B,children:[p&&n.jsx("div",{className:"text-center",children:n.jsx("button",{onClick:j,disabled:f,className:"px-4 py-2 text-sm text-blue-600 hover:text-blue-700 disabled:text-gray-400",children:f?"Loading...":"Load more messages"})}),d&&n.jsxs("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[n.jsx("p",{className:"text-red-600 dark:text-red-400",children:d}),n.jsx("button",{onClick:()=>u(null),className:"mt-2 text-sm text-red-600 dark:text-red-400 underline",children:"Dismiss"})]}),s.map((L,z)=>{const I=s[z-1],U=!I||I.sender._id!==L.sender._id;return n.jsx(hh,{message:L,isOwn:L.sender._id===(b==null?void 0:b._id),showAvatar:U,onEdit:_,onDelete:w,onReaction:P},L._id)}),n.jsx("div",{ref:C})]}),n.jsx(fh,{onSendMessage:O,onTyping:$,disabled:o})]})}function na({onClose:e,onConversationCreated:t}){const[s,r]=l.useState(""),[a,i]=l.useState([]),[o,c]=l.useState(!1),[d,u]=l.useState(!1),[p,m]=l.useState(null);l.useEffect(()=>{const h=setTimeout(()=>{s.trim().length>=2?f():i([])},300);return()=>clearTimeout(h)},[s]);const f=async()=>{var h;try{c(!0),m(null);const x=await Le.searchUsers(s.trim(),1,20);i(((h=x.data)==null?void 0:h.items)||[])}catch(x){m(x.message||"Failed to search users"),i([])}finally{c(!1)}},y=async h=>{try{u(!0),m(null);const x=await Ce.getOrCreateDirectConversation(h._id);t(x)}catch(x){m(x.message||"Failed to create conversation")}finally{u(!1)}};return n.jsx(yt,{isOpen:!0,onClose:e,title:"New Conversation",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",placeholder:"Search people...",value:s,onChange:h=>r(h.target.value),className:`w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg 
                     bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                     focus:ring-2 focus:ring-blue-500 focus:border-transparent`,autoFocus:!0}),n.jsx("svg",{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),p&&n.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:p})}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:o?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-500 dark:text-gray-400",children:"Searching..."})]}):s.trim().length<2?n.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx("p",{children:"Type at least 2 characters to search for people"})]}):a.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),n.jsxs("p",{children:['No users found matching "',s,'"']}),n.jsx("p",{className:"text-sm mt-1",children:"Try searching with a different term"})]}):n.jsx("div",{className:"space-y-1",children:a.map(h=>n.jsxs("button",{onClick:()=>y(h),disabled:d,className:`w-full p-3 flex items-center space-x-3 hover:bg-gray-50 dark:hover:bg-gray-700 
                           rounded-lg transition-colors text-left disabled:opacity-50 disabled:cursor-not-allowed`,children:[n.jsx("div",{className:"flex-shrink-0",children:h.profile.avatar?n.jsx("img",{src:h.profile.avatar,alt:h.username,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-semibold text-gray-600 dark:text-gray-300",children:h.username.charAt(0).toUpperCase()})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:h.profile.fullName||h.username}),h.profile.isVerified&&n.jsx("svg",{className:"w-4 h-4 text-blue-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:["@",h.username]}),h.profile.bio&&n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate mt-1",children:h.profile.bio})]}),h.isFollowed&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("span",{className:"text-xs bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 px-2 py-1 rounded-full",children:"Following"})}),d&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})})]},h._id))})}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:"Search for people by their name or username to start a conversation"})})]})})}function xh(){const[e,t]=l.useState(null),[s,r]=l.useState(!1),[a,i]=l.useState(window.innerWidth<768);l.useEffect(()=>{te.connect();const m=()=>{i(window.innerWidth<768)};return window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[]);const o=m=>{t(m)},c=()=>{t(null)},d=()=>{r(!0)},u=()=>{r(!1)},p=m=>{t(m),r(!1)};return a?e?n.jsx("div",{className:"h-screen bg-gray-50 dark:bg-gray-900",children:n.jsx(ra,{conversation:e,onClose:c})}):n.jsxs("div",{className:"h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx(sa,{onSelectConversation:o,onNewConversation:d}),s&&n.jsx(na,{onClose:u,onConversationCreated:p})]}):n.jsxs("div",{className:"h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsxs("div",{className:"flex h-full",children:[n.jsx("div",{className:"w-1/3 min-w-[300px] max-w-[400px] border-r border-gray-200 dark:border-gray-700",children:n.jsx(sa,{selectedConversationId:e==null?void 0:e._id,onSelectConversation:o,onNewConversation:d})}),n.jsx("div",{className:"flex-1",children:e?n.jsx(ra,{conversation:e}):n.jsx("div",{className:"h-full flex items-center justify-center bg-white dark:bg-gray-800",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"Welcome to Messages"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Select a conversation to start chatting or create a new one"}),n.jsx("button",{onClick:d,className:`px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 
                           transition-colors font-medium`,children:"Start New Conversation"})]})})})]}),s&&n.jsx(na,{onClose:u,onConversationCreated:p})]})}function gh({onClose:e,onUserSelect:t,showMessageButton:s=!1,title:r="Search People"}){const[a,i]=l.useState(""),[o,c]=l.useState([]),[d,u]=l.useState([]),[p,m]=l.useState(!1),[f,y]=l.useState(!1),[h,x]=l.useState(null),[g,C]=l.useState(!1),[b,v]=l.useState(1),{user:S}=re();l.useEffect(()=>{j()},[]),l.useEffect(()=>{const R=setTimeout(()=>{a.trim().length>=2?N(1):(c([]),C(!1),v(1))},300);return()=>clearTimeout(R)},[a]);const j=async()=>{try{y(!0);const R=await Le.getSuggestedUsers(10);u(R.users||[])}catch(R){console.error("Failed to load suggested users:",R)}finally{y(!1)}},N=async(R=1)=>{var B,L,z;try{m(!0),x(null);const I=await Le.searchUsers(a.trim(),R,20),U=((B=I.data)==null?void 0:B.items)||[];c(R===1?U:le=>[...le,...U]),C(((z=(L=I.data)==null?void 0:L.pagination)==null?void 0:z.hasNext)||!1),v(R)}catch(I){x(I.message||"Failed to search users")}finally{m(!1)}},A=()=>{!p&&g&&a.trim()&&N(b+1)},O=(R,B)=>{c(L=>L.map(z=>z._id===R?{...z,isFollowed:B}:z)),u(L=>L.map(z=>z._id===R?{...z,isFollowed:B}:z))},$=async R=>{try{const B=await Ce.getOrCreateDirectConversation(R._id);window.location.href=`/messages?conversation=${B._id}`}catch(B){console.error("Failed to create conversation:",B)}},_=R=>{t?t(R):window.location.href=`/profile/${R.username}`},w=R=>{var B,L;return n.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg",children:[n.jsxs("button",{onClick:()=>_(R),className:"flex items-center space-x-3 flex-1 text-left",children:[n.jsx("div",{className:"flex-shrink-0",children:R.profile.avatar?n.jsx("img",{src:R.profile.avatar,alt:R.username,className:"w-12 h-12 rounded-full object-cover"}):n.jsx("div",{className:"w-12 h-12 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-semibold text-gray-600 dark:text-gray-300",children:R.username.charAt(0).toUpperCase()})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:R.profile.fullName||R.username}),R.profile.isVerified&&n.jsx("svg",{className:"w-4 h-4 text-blue-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:["@",R.username]}),R.profile.bio&&n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 truncate",children:R.profile.bio}),n.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-xs text-gray-500 dark:text-gray-400",children:[n.jsxs("span",{children:[((B=R.stats)==null?void 0:B.followersCount)||0," followers"]}),n.jsxs("span",{children:[((L=R.stats)==null?void 0:L.followingCount)||0," following"]})]})]})]}),R._id!==(S==null?void 0:S._id)&&n.jsxs("div",{className:"flex items-center space-x-2 ml-3",children:[s&&n.jsx("button",{onClick:()=>$(R),className:"p-2 text-gray-500 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-colors",title:"Send message",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),n.jsx(rn,{user:R,size:"sm",onFollowChange:z=>O(R._id,z)})]})]},R._id)},P=a.trim()?o:d,D=a.trim().length>=2;return n.jsx(yt,{isOpen:!0,onClose:e,title:r,children:n.jsxs("div",{className:"w-full max-w-md",children:[n.jsxs("div",{className:"relative mb-4",children:[n.jsx("input",{type:"text",placeholder:"Search people by name or username...",value:a,onChange:R=>i(R.target.value),className:`w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg 
                     bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                     focus:ring-2 focus:ring-blue-500 focus:border-transparent`,autoFocus:!0}),n.jsx("svg",{className:"absolute left-3 top-3.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),h&&n.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:n.jsx("p",{className:"text-red-600 dark:text-red-400 text-sm",children:h})}),n.jsx("div",{className:"mb-3",children:n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:D?"Search Results":"Suggested for you"})}),n.jsx("div",{className:"max-h-96 overflow-y-auto",children:p&&b===1||f?n.jsxs("div",{className:"flex items-center justify-center py-8",children:[n.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),n.jsx("span",{className:"ml-2 text-gray-500 dark:text-gray-400",children:"Loading..."})]}):P.length===0?n.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[n.jsx("svg",{className:"mx-auto h-12 w-12 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})}),n.jsx("p",{children:D?`No users found matching "${a}"`:"No suggestions available"}),D&&n.jsx("p",{className:"text-sm mt-1",children:"Try searching with a different term"})]}):n.jsxs("div",{className:"space-y-2",children:[P.map(w),D&&g&&n.jsx("div",{className:"text-center py-4",children:n.jsx("button",{onClick:A,disabled:p,className:"px-4 py-2 text-sm text-blue-600 hover:text-blue-700 disabled:text-gray-400 disabled:cursor-not-allowed",children:p?"Loading...":"Load more"})})]})}),n.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:D?"Search results  Click on a user to view their profile":"People you might want to follow  Click on a user to view their profile"})})]})})}function vh(){const[e,t]=l.useState(!1);return n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Explore"}),n.jsx("button",{onClick:()=>t(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Find People"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[n.jsx("div",{onClick:()=>t(!0),className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow",children:n.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Find People"}),n.jsx("p",{className:"text-sm",children:"Discover new accounts to follow and connect with friends"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:n.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Trending Posts"}),n.jsx("p",{className:"text-sm",children:"Coming Soon"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:n.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Popular Reels"}),n.jsx("p",{className:"text-sm",children:"Coming Soon"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:n.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Stories"}),n.jsx("p",{className:"text-sm",children:"Coming Soon"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:n.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-4",children:"#"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Trending Hashtags"}),n.jsx("p",{className:"text-sm",children:"Coming Soon"})]})}),n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:n.jsxs("div",{className:"text-center text-gray-500 dark:text-gray-400",children:[n.jsx("div",{className:"text-4xl mb-4",children:""}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Popular Places"}),n.jsx("p",{className:"text-sm",children:"Coming Soon"})]})})]}),e&&n.jsx(gh,{onClose:()=>t(!1),showMessageButton:!0,title:"Find People"})]})})}function yh(){var v,S;const{theme:e,toggleTheme:t}=ri(),{user:s,logout:r,updateUser:a,isLoading:i}=re(),o=Ds(),[c,d]=l.useState(!1),[u,p]=l.useState(!1),[m,f]=l.useState(!1),[y,h]=l.useState({fullName:((v=s==null?void 0:s.profile)==null?void 0:v.fullName)||"",bio:((S=s==null?void 0:s.profile)==null?void 0:S.bio)||""}),x=async()=>{try{d(!0),await r(),o("/",{replace:!0})}catch(j){console.error("Logout failed:",j)}finally{d(!1)}},g=()=>{var j,N;h({fullName:((j=s==null?void 0:s.profile)==null?void 0:j.fullName)||"",bio:((N=s==null?void 0:s.profile)==null?void 0:N.bio)||""}),p(!0)},C=()=>{var j,N;p(!1),h({fullName:((j=s==null?void 0:s.profile)==null?void 0:j.fullName)||"",bio:((N=s==null?void 0:s.profile)==null?void 0:N.bio)||""})},b=async()=>{var j,N;try{if(f(!0),!y.fullName.trim()){$e.error("Full name is required");return}const A=await Le.updateProfile({fullName:y.fullName.trim(),bio:y.bio.trim()});a(A),p(!1),$e.success("Profile updated successfully!")}catch(A){console.error("Error updating profile:",A),$e.error(((N=(j=A==null?void 0:A.response)==null?void 0:j.data)==null?void 0:N.message)||"Failed to update profile")}finally{f(!1)}};return i?n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsx("div",{className:"max-w-4xl mx-auto",children:n.jsxs("div",{className:"animate-pulse space-y-6",children:[n.jsx("div",{className:"h-8 bg-dark-surface rounded-lg w-32"}),n.jsx("div",{className:"h-64 bg-dark-surface rounded-xl"}),n.jsx("div",{className:"h-48 bg-dark-surface rounded-xl"})]})})}):n.jsx("div",{className:"container mx-auto px-4 py-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-white mb-8",children:"Settings"}),n.jsxs("div",{className:"space-y-6",children:[s&&n.jsxs("div",{className:"bg-dark-surface rounded-xl shadow-md p-6 border border-dark-border",children:[n.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center",children:[n.jsx(Jr,{className:"w-6 h-6 mr-2"}),"Your Account"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gradient-primary flex-shrink-0",children:s.profile.avatar?n.jsx("img",{src:s.profile.avatar,alt:s.username,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-white font-bold text-xl",children:s.username[0].toUpperCase()})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"text-lg font-medium text-white truncate",children:s.profile.fullName||s.username}),n.jsxs("p",{className:"text-gray-400 text-sm",children:["@",s.username]}),n.jsx("p",{className:"text-gray-500 text-xs",children:s.email})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Z,{variant:"secondary",size:"sm",onClick:()=>o(`/profile/${s.username}`),children:"View Profile"}),u?n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(Z,{variant:"primary",size:"sm",onClick:b,loading:m,disabled:m||!y.fullName.trim(),children:[n.jsx(Wd,{className:"w-4 h-4 mr-1"}),"Save"]}),n.jsxs(Z,{variant:"ghost",size:"sm",onClick:C,disabled:m,children:[n.jsx(ls,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}):n.jsxs(Z,{variant:"primary",size:"sm",onClick:g,children:[n.jsx(uu,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]}),u?n.jsxs("div",{className:"space-y-4 mt-4",children:[n.jsx(an,{label:"Full Name",placeholder:"Enter your full name",value:y.fullName,onChange:j=>h(N=>({...N,fullName:j.target.value})),required:!0,disabled:m}),n.jsx(zt,{label:"Bio",placeholder:"Tell us about yourself...",value:y.bio,onChange:j=>h(N=>({...N,bio:j.target.value})),disabled:m,rows:3}),n.jsx("div",{className:"text-xs text-gray-400",children:!s.profile.fullName||!s.profile.bio?n.jsx("p",{className:"text-orange-400",children:" Complete your profile to unlock all features"}):n.jsx("p",{children:"Update your profile information"})})]}):n.jsxs("div",{className:"space-y-3",children:[s.profile.bio?n.jsx("p",{className:"text-gray-300 text-sm bg-dark-bg rounded-lg p-3",children:s.profile.bio}):n.jsx("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-lg p-3",children:n.jsxs("p",{className:"text-orange-400 text-sm",children:[n.jsx("strong",{children:" Profile Incomplete:"})," Add your bio to unlock all features"]})}),!s.profile.fullName&&n.jsx("div",{className:"bg-orange-500/10 border border-orange-500/20 rounded-lg p-3",children:n.jsxs("p",{className:"text-orange-400 text-sm",children:[n.jsx("strong",{children:" Missing Full Name:"})," Add your full name to complete your profile"]})})]}),n.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-400",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-white font-medium",children:s.stats.followersCount})," followers"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-white font-medium",children:s.stats.followingCount})," following"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-white font-medium",children:s.stats.postsCount})," posts"]})]})]})]}),n.jsxs("div",{className:"bg-dark-surface rounded-xl shadow-md p-6 border border-dark-border",children:[n.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center",children:[e==="dark"?n.jsx(Fn,{className:"w-6 h-6 mr-2"}):n.jsx(Bn,{className:"w-6 h-6 mr-2"}),"Appearance"]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-300 font-medium",children:"Theme"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Choose your preferred theme"})]}),n.jsx(Z,{onClick:t,variant:"secondary",children:e==="dark"?n.jsxs(n.Fragment,{children:[n.jsx(Bn,{className:"w-4 h-4 mr-2"}),"Light Mode"]}):n.jsxs(n.Fragment,{children:[n.jsx(Fn,{className:"w-4 h-4 mr-2"}),"Dark Mode"]})})]})]}),n.jsxs("div",{className:"bg-dark-surface rounded-xl shadow-md p-6 border border-dark-border",children:[n.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center",children:[n.jsx(vu,{className:"w-6 h-6 mr-2"}),"Privacy & Security"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-dark-border",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-300 font-medium",children:"Privacy Settings"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Manage who can see your content"})]}),n.jsx(Z,{variant:"ghost",size:"sm",children:"Manage"})]}),n.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-dark-border",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-300 font-medium",children:"Blocked Users"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"View and manage blocked accounts"})]}),n.jsx(Z,{variant:"ghost",size:"sm",children:"View List"})]}),n.jsxs("div",{className:"flex items-center justify-between py-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-300 font-medium",children:"Account Security"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Change password and security settings"})]}),n.jsx(Z,{variant:"ghost",size:"sm",children:"Manage"})]})]})]}),n.jsxs("div",{className:"bg-dark-surface rounded-xl shadow-md p-6 border border-dark-border",children:[n.jsxs("h2",{className:"text-xl font-semibold text-white mb-6 flex items-center",children:[n.jsx(Dd,{className:"w-6 h-6 mr-2"}),"Notifications"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-dark-border",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-300 font-medium",children:"Push Notifications"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Receive notifications on your device"})]}),n.jsx(Z,{variant:"ghost",size:"sm",children:"Configure"})]}),n.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-dark-border",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-300 font-medium",children:"Email Notifications"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Get updates via email"})]}),n.jsx(Z,{variant:"ghost",size:"sm",children:"Configure"})]}),n.jsxs("div",{className:"flex items-center justify-between py-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-gray-300 font-medium",children:"Activity Notifications"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Notifications for likes, comments, and follows"})]}),n.jsx(Z,{variant:"ghost",size:"sm",children:"Configure"})]})]})]}),n.jsx("div",{className:"bg-dark-surface rounded-xl shadow-md p-6 border border-dark-border",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium text-white",children:"Sign Out"}),n.jsx("p",{className:"text-gray-400 text-sm",children:"Sign out of your SocialVibe account"})]}),n.jsxs(Z,{onClick:x,loading:c,variant:"secondary",className:"border-red-500/30 text-red-400 hover:bg-red-500/10 hover:border-red-500",children:[n.jsx(Pd,{className:"w-4 h-4 mr-2"}),c?"Signing Out...":"Sign Out"]})]})})]})]})})}function bh(){return n.jsx("div",{className:"min-h-screen flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl font-bold text-gray-900 dark:text-white mb-4",children:"404"}),n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Page Not Found"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-8",children:"The page you're looking for doesn't exist."}),n.jsx(Zt,{to:"/",className:"inline-block px-6 py-3 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:"Go Home"})]})})}function Nt({children:e}){const{isAuthenticated:t}=re();return t?n.jsx(n.Fragment,{children:e}):n.jsx(xr,{to:"/login",replace:!0})}function wh(){return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),n.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading..."})]})})}function jh(){const[e,t]=l.useState(!1),[,s]=l.useState(!1),[r,a]=l.useState(!1);l.useEffect(()=>{const o=()=>{const d=te.isSocketConnected(),u=!te.isServerAvailable();t(d),s(u),a(u),console.log("ConnectionStatus: Initial check - Connected:",d,"ServerAvailable:",!u)};o();const c=te.getSocket();if(c){const d=()=>{console.log("ConnectionStatus: Socket connected event"),t(!0),s(!1),a(!1)},u=()=>{console.log("ConnectionStatus: Socket disconnected event"),t(!1)},p=()=>{console.log("ConnectionStatus: Socket connect error event"),t(!1),s(!te.isServerAvailable()),a(!te.isServerAvailable())};return c.on("connect",d),c.on("disconnect",u),c.on("connect_error",p),()=>{c.off("connect",d),c.off("disconnect",u),c.off("connect_error",p)}}else{const d=setInterval(()=>{o()},2e3);return()=>clearInterval(d)}},[]);const i=()=>{a(!1),te.retryConnection(),setTimeout(()=>{te.isSocketConnected()||a(!0)},1e4)};return e?null:n.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:n.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3 shadow-lg max-w-sm",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"w-5 h-5 text-yellow-600 dark:text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.728-.833-2.498 0L4.316 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Limited functionality"}),n.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300 mt-1",children:"Real-time features unavailable. Messages and interactions will work but may not update immediately."}),r&&n.jsx("button",{onClick:i,className:"mt-2 text-xs bg-yellow-100 dark:bg-yellow-800 hover:bg-yellow-200 dark:hover:bg-yellow-700 text-yellow-800 dark:text-yellow-200 px-2 py-1 rounded transition-colors",children:"Retry connection"})]}),!r&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-600"})})]})})})}function kh(){const{isAuthenticated:e,isLoading:t,initializeAuth:s}=re(),{theme:r,initializeTheme:a}=ri();return Ad(),l.useEffect(()=>{(async()=>{a(),await s()})()},[s,a]),l.useEffect(()=>{const i=document.documentElement;r==="dark"?i.classList.add("dark"):i.classList.remove("dark")},[r]),t?n.jsx(wh,{}):n.jsx(Wp,{children:n.jsxs("div",{className:"min-h-screen bg-dark-bg text-dark-text",children:[n.jsx(ro,{mode:"wait",children:n.jsxs(to,{children:[n.jsx(qe,{path:"/login",element:e?n.jsx(xr,{to:"/",replace:!0}):n.jsx(Pn,{children:n.jsx(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:n.jsx(rm,{})})})}),n.jsx(qe,{path:"/register",element:e?n.jsx(xr,{to:"/",replace:!0}):n.jsx(Pn,{children:n.jsx(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},children:n.jsx(nm,{})})})}),n.jsx(qe,{path:"/",element:n.jsx(Nt,{children:n.jsx(kt,{children:n.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n.jsx(sm,{})})})})}),n.jsx(qe,{path:"/explore",element:n.jsx(Nt,{children:n.jsx(kt,{children:n.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n.jsx(vh,{})})})})}),n.jsx(qe,{path:"/reels",element:n.jsx(Nt,{children:n.jsx(kt,{children:n.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n.jsx(ph,{})})})})}),n.jsx(qe,{path:"/messages",element:n.jsx(Nt,{children:n.jsx(kt,{children:n.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n.jsx(xh,{})})})})}),n.jsx(qe,{path:"/profile/:username?",element:n.jsx(Nt,{children:n.jsx(kt,{children:n.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n.jsx(ch,{})})})})}),n.jsx(qe,{path:"/settings",element:n.jsx(Nt,{children:n.jsx(kt,{children:n.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:n.jsx(yh,{})})})})}),n.jsx(qe,{path:"*",element:n.jsx(He.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},children:n.jsx(bh,{})})})]})}),e&&n.jsx(jh,{})]})})}const Nh=new So({defaultOptions:{queries:{retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4),staleTime:5*60*1e3,refetchOnWindowFocus:!1,refetchOnMount:!0},mutations:{retry:1}}}),Ch={duration:4e3,position:"top-center",style:{background:"rgba(0, 0, 0, 0.8)",color:"#fff",border:"1px solid rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",borderRadius:"12px",fontSize:"14px",padding:"12px 16px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}};gr.createRoot(document.getElementById("root")).render(n.jsx(Ir.StrictMode,{children:n.jsx(_o,{client:Nh,children:n.jsxs(so,{children:[n.jsx(kh,{}),n.jsx(yl,{toastOptions:Ch})]})})}));
//# sourceMappingURL=index-B8mTU9Bg.js.map
